<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>SOLARA</title>
<link href="https://fonts.googleapis.com/css2?family=UnifrakturMaguntia&family=Cinzel+Decorative:wght@400;700;900&family=Cinzel:wght@700;900&family=IM+Fell+English+SC&family=IM+Fell+English:ital@0;1&family=Special+Elite&family=MedievalSharp&display=swap" rel="stylesheet">
<style>
/* ════════════════════════════════════════════════════════════════
   SOLARA — Gothic Filigree Portfolio
   Theme: bone white + black linework, death metal ornamental art
   ════════════════════════════════════════════════════════════════ */

*,*::before,*::after{margin:0;padding:0;box-sizing:border-box}
html{scroll-behavior:smooth}
::-webkit-scrollbar{width:3px}
::-webkit-scrollbar-track{background:#faf8f4}
::-webkit-scrollbar-thumb{background:#1a1a1a}
body{background:#faf8f4;color:#1a1a1a;font-family:'IM Fell English',serif;overflow-x:hidden}
::selection{background:#1a1a1a;color:#faf8f4}

/* ── Film Grain Overlay ── */
#grain{position:fixed;inset:0;pointer-events:none;z-index:10000;opacity:0.045;mix-blend-mode:multiply}
body::after{content:'';position:fixed;inset:0;background:radial-gradient(ellipse at center,transparent 40%,rgba(0,0,0,0.07) 100%);pointer-events:none;z-index:9999}

/* ── Full-page background filigree canvas ── */
#bgFiligree{position:fixed;inset:0;pointer-events:none;z-index:0;opacity:0.18}

/* ── Loading Screen ── */
#intro{position:fixed;inset:0;z-index:99999;background:#faf8f4;display:flex;align-items:center;justify-content:center;flex-direction:column;transition:opacity 1.8s cubic-bezier(0.4,0,0.2,1),visibility 1.8s}
#intro.gone{opacity:0;visibility:hidden;pointer-events:none}
#introOrn{opacity:0;transition:opacity 1.2s ease 0.3s}
#introOrn.show{opacity:1}
.intro-text{font-family:'UnifrakturMaguntia',cursive;font-size:22px;color:#1a1a1a;margin-top:20px;opacity:0;transition:opacity 1s ease 0.8s;letter-spacing:4px}
.intro-text.show{opacity:0.2}

/* ── Navigation ── */
nav{position:fixed;top:0;width:100%;z-index:5000;padding:18px 50px;display:flex;justify-content:center;align-items:center;gap:45px;background:rgba(250,248,244,0.92);backdrop-filter:blur(20px);border-bottom:1px solid rgba(0,0,0,0.03);transform:translateY(-100%);transition:all 0.6s cubic-bezier(0.4,0,0.2,1)}
nav.show{transform:translateY(0)}
.nl{display:flex;gap:35px;list-style:none}
.nl a{font-family:'IM Fell English SC',serif;font-size:11px;letter-spacing:6px;text-transform:uppercase;color:#1a1a1a;text-decoration:none;transition:opacity 0.3s}
.nl a:hover{opacity:0.2}
.nb{width:32px;opacity:0.7;transition:all 0.4s}
.nb:hover{transform:scale(1.15);opacity:1}

/* ── Sections ── */
section{padding:140px 60px;position:relative;overflow:visible}
.sec-b{background:#0a0a0a;color:#e8e4dc}
.st{font-family:'UnifrakturMaguntia',cursive;font-size:clamp(50px,7vw,95px);text-align:center;margin-bottom:8px}
.ss{font-family:'IM Fell English',serif;font-style:italic;font-size:17px;color:#888;text-align:center;margin-bottom:90px}

/* ── Ornament Containers ── */
.orn{position:absolute;pointer-events:none}

/* ════════════════════════════════════════════════════════
   HERO SECTION
   ════════════════════════════════════════════════════════ */
#hero{min-height:100vh;display:flex;align-items:center;justify-content:center;position:relative;padding:100px 40px}
.hero-c{text-align:center;z-index:10;position:relative}
.hero-bat{width:340px;margin:0 auto 25px;display:block;opacity:0;animation:batIn 2s ease 2.5s forwards;filter:drop-shadow(0 5px 20px rgba(0,0,0,0.06))}
@keyframes batIn{from{opacity:0;transform:scale(0.92);filter:blur(6px) drop-shadow(0 5px 20px rgba(0,0,0,0.06))}to{opacity:1;transform:scale(1);filter:blur(0) drop-shadow(0 5px 20px rgba(0,0,0,0.06))}}
.hero-bat.br{animation:hbr 5s ease-in-out infinite}
@keyframes hbr{0%,100%{transform:scale(1)}50%{transform:scale(1.008)}}

.shatter{font-family:'UnifrakturMaguntia',cursive;font-size:clamp(85px,15vw,210px);line-height:0.82;text-align:center;opacity:0}
.shatter.go{opacity:1}
.shatter .ch{display:inline-block;opacity:0;transition:all 0.8s cubic-bezier(0.16,1,0.3,1);filter:blur(6px)}
.shatter.go .ch{opacity:1;transform:none!important;filter:blur(0)}

.hero-rule{width:400px;max-width:90%;margin:20px auto;position:relative;opacity:0;animation:rise 1s ease 4.5s forwards}
.hero-rule .line{height:1px;background:#1a1a1a;transform:scaleX(0);animation:lineX 1.5s ease 4.7s forwards}
@keyframes lineX{to{transform:scaleX(1)}}
.hero-rule::before,.hero-rule::after{content:'';position:absolute;top:-3px;width:7px;height:7px;border:1px solid #1a1a1a;transform:rotate(45deg);opacity:0;animation:rise .5s ease 5.3s forwards}
.hero-rule::before{left:-4px}.hero-rule::after{right:-4px}
.hero-sub{font-family:'IM Fell English SC',serif;font-size:12px;letter-spacing:14px;text-transform:uppercase;color:#999;opacity:0;animation:rise 1s ease 5s forwards}
.hero-tag{font-family:'IM Fell English',serif;font-style:italic;font-size:19px;color:#bbb;margin-top:14px;opacity:0;animation:rise 1s ease 5.3s forwards}
.hero-scroll{position:absolute;bottom:30px;left:50%;transform:translateX(-50%);text-align:center;opacity:0;animation:rise 1s ease 6s forwards}
.hero-scroll span{font-family:'IM Fell English SC',serif;font-size:9px;letter-spacing:10px;color:#bbb}
.scrl{display:block;width:1px;height:60px;background:linear-gradient(to bottom,#1a1a1a,transparent);margin:10px auto 0;animation:dripP 3s ease-in-out infinite}
@keyframes dripP{0%,100%{opacity:.1;transform:scaleY(1)}50%{opacity:.4;transform:scaleY(1.4)}}
@keyframes rise{from{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}

/* ════════════════════════════════════════════════════════
   ABOUT / ORIGIN
   ════════════════════════════════════════════════════════ */
.abt-grid{max-width:1200px;margin:0 auto 80px;display:grid;grid-template-columns:1fr 1fr;border:1px solid rgba(0,0,0,0.04)}
.abt-left{padding:65px 55px;display:flex;flex-direction:column;justify-content:center;border-right:1px solid rgba(0,0,0,0.04)}
.abt-left p{font-size:17px;line-height:2.2;color:#555;margin-bottom:20px}
.abt-left strong{color:#1a1a1a;font-weight:normal;border-bottom:1px solid rgba(0,0,0,0.15);padding-bottom:1px}
.abt-right{display:flex;align-items:center;justify-content:center;background:#f5f2ec}
.abt-right img{width:65%;opacity:0.08;transition:all .6s}
.abt-right:hover img{opacity:0.14;transform:scale(1.03)}

.stats{max-width:1200px;margin:0 auto 80px;display:grid;grid-template-columns:repeat(5,1fr);border:1px solid rgba(0,0,0,0.04)}
.stat{padding:50px 20px;text-align:center;border-right:1px solid rgba(0,0,0,0.04);transition:background .4s}
.stat:last-child{border:none}
.stat:hover{background:rgba(0,0,0,0.015)}
.stat-n{font-family:'Cinzel Decorative',serif;font-size:44px;font-weight:900;line-height:1}
.stat-l{font-family:'IM Fell English SC',serif;font-size:9px;letter-spacing:5px;text-transform:uppercase;color:#999;margin-top:12px}

.dtl-grid{max-width:1200px;margin:0 auto;display:grid;grid-template-columns:repeat(3,1fr);gap:1px;background:rgba(0,0,0,0.03)}
.dtl{padding:55px 40px;background:#faf8f4;transition:all .4s}
.dtl:hover{background:#f5f2ec}
.dtl h4{font-family:'UnifrakturMaguntia',cursive;font-size:22px;margin-bottom:16px}
.dtl-v{font-family:'Cinzel Decorative',serif;font-size:36px;font-weight:900;display:block;margin-bottom:12px;line-height:1}
.dtl p{font-size:14px;line-height:2;color:#777}

/* ════════════════════════════════════════════════════════
   ARSENAL — dark section with flood-black hover
   ════════════════════════════════════════════════════════ */
.ars-grid{max-width:1200px;margin:0 auto;display:grid;grid-template-columns:repeat(3,1fr);gap:1px;background:rgba(255,255,255,0.03)}
.ac{padding:55px 40px;background:#0e0e0e;position:relative;overflow:hidden;transition:all .5s}
.ac::before{content:'';position:absolute;bottom:0;left:0;width:100%;height:0;background:linear-gradient(to top,#000,#111);transition:height .6s cubic-bezier(0.4,0,0.2,1);z-index:0}
.ac::after{content:'';position:absolute;top:0;left:0;width:100%;height:2px;background:#e8e4dc;transform:scaleX(0);transform-origin:left;transition:transform .6s;z-index:2}
.ac:hover::before{height:100%}
.ac:hover::after{transform:scaleX(1)}
.ac:hover{transform:translateY(-5px);box-shadow:0 20px 60px rgba(0,0,0,0.4)}
.ac>*{position:relative;z-index:1}
.ac h3{font-family:'UnifrakturMaguntia',cursive;font-size:24px;color:#e8e4dc;margin-bottom:22px;padding-bottom:14px;border-bottom:1px solid rgba(255,255,255,0.04)}
.tgs{display:flex;flex-wrap:wrap;gap:8px}
.tg{font-family:'Special Elite',cursive;font-size:12px;padding:8px 16px;border:1px solid rgba(255,255,255,0.06);color:#888;transition:all .3s}
.tg:hover{background:#e8e4dc;color:#0e0e0e;border-color:#e8e4dc}

/* ════════════════════════════════════════════════════════
   CONQUESTS
   ════════════════════════════════════════════════════════ */
.pjs{max-width:1200px;margin:0 auto;display:flex;flex-direction:column;gap:1px;background:rgba(0,0,0,0.03)}
.pj{display:grid;grid-template-columns:380px 1fr;min-height:340px;background:#faf8f4;overflow:hidden;transition:all .5s}
.pj:hover{box-shadow:0 10px 40px rgba(0,0,0,0.05)}
.pj-img{overflow:hidden;display:flex;align-items:center;justify-content:center;background:#f0ece4}
.pj-img img{width:50%;opacity:0.1;transition:all .6s}
.pj:hover .pj-img img{opacity:0.2;transform:scale(1.08)}
.pj-nfo{padding:55px;border-left:1px solid rgba(0,0,0,0.04)}
.pj-num{font-family:'Cinzel Decorative',serif;font-size:10px;letter-spacing:10px;color:#bbb;margin-bottom:12px}
.pj-name{font-family:'UnifrakturMaguntia',cursive;font-size:38px;margin-bottom:5px}
.pj-type{font-family:'IM Fell English SC',serif;font-size:10px;letter-spacing:7px;color:#999;margin-bottom:20px}
.pj-desc{font-size:15px;line-height:2;color:#777;margin-bottom:22px}
.pj-stk{display:flex;flex-wrap:wrap;gap:6px;margin-bottom:18px}
.pj-stk span{font-family:'Special Elite',cursive;font-size:11px;padding:5px 14px;border:1px solid rgba(0,0,0,0.06);color:#999;transition:all .3s}
.pj-stk span:hover{background:#1a1a1a;color:#faf8f4;border-color:#1a1a1a}
.pj-url{font-family:'IM Fell English SC',serif;font-size:13px;letter-spacing:5px;color:#1a1a1a;text-decoration:none;border-bottom:1px solid #1a1a1a;padding-bottom:3px;transition:opacity .3s}
.pj-url:hover{opacity:0.3}

/* ════════════════════════════════════════════════════════
   CHRONICLE
   ════════════════════════════════════════════════════════ */
.chr{max-width:800px;margin:0 auto;padding-left:55px;position:relative}
.chr::before{content:'';position:absolute;top:0;left:20px;width:1px;height:100%;background:repeating-linear-gradient(to bottom,#e8e4dc 0px,#e8e4dc 4px,transparent 4px,transparent 8px);opacity:.5}
.tl-i{margin-bottom:55px;position:relative}
.tl-d{position:absolute;left:-44px;top:6px;width:12px;height:12px;background:#e8e4dc;transform:rotate(45deg);transition:all .3s}
.tl-i:hover .tl-d{transform:rotate(45deg) scale(1.3);background:#1a1a1a}
.tl-y{font-family:'Cinzel Decorative',serif;font-size:11px;font-weight:700;letter-spacing:5px;color:#ccc;margin-bottom:5px}
.tl-t{font-family:'UnifrakturMaguntia',cursive;font-size:26px;color:#e8e4dc;margin-bottom:8px}
.tl-p{font-size:14px;line-height:2;color:#888}

/* ════════════════════════════════════════════════════════
   SUMMON (Contact)
   ════════════════════════════════════════════════════════ */
#summon{text-align:center;padding:160px 60px 120px}
.sm-bat{width:240px;margin:0 auto 45px;display:block;opacity:0.08}
.sm-t{font-family:'UnifrakturMaguntia',cursive;font-size:clamp(48px,7vw,90px);margin-bottom:10px}
.sm-s{font-family:'IM Fell English',serif;font-style:italic;font-size:18px;color:#888;max-width:500px;margin:0 auto 55px;line-height:2}
.sm-lnks{display:flex;justify-content:center;gap:20px;flex-wrap:wrap}
.sm-btn{font-family:'IM Fell English SC',serif;font-size:12px;letter-spacing:7px;text-transform:uppercase;color:#1a1a1a;text-decoration:none;padding:20px 50px;border:1px solid rgba(0,0,0,0.08);position:relative;overflow:hidden;transition:all .5s}
.sm-btn::before{content:'';position:absolute;inset:0;background:#1a1a1a;transform:translateY(101%);transition:transform .5s}
.sm-btn span{position:relative;z-index:1}
.sm-btn:hover::before{transform:translateY(0)}
.sm-btn:hover{color:#faf8f4;border-color:#1a1a1a}

/* ════════════════════════════════════════════════════════
   FOOTER
   ════════════════════════════════════════════════════════ */
footer{padding:50px;text-align:center;border-top:1px solid rgba(0,0,0,0.03);position:relative}
.ft-bat{width:100px;margin:0 auto 18px;display:block;opacity:0.04}
.ft-t{font-family:'IM Fell English SC',serif;font-size:10px;letter-spacing:10px;color:#ccc}
.ft-q{font-family:'IM Fell English',serif;font-style:italic;font-size:15px;color:#ddd;margin-top:10px}

/* ── Scroll Reveal ── */
.rv{opacity:0;transform:translateY(40px);transition:all 1.2s cubic-bezier(0.16,1,0.3,1)}
.rv.vis{opacity:1;transform:translateY(0)}
.sd{display:flex;align-items:center;justify-content:center;gap:25px;margin-bottom:40px}
.sd-l{width:140px;height:1px;background:currentColor;opacity:0.06}

/* ── Section divider containers ── */
.divider{padding:20px 0;text-align:center;position:relative;overflow:visible}

/* ════════════════════════════════════════════════════════
   STYX LAYER — Advanced CSS animations & overlays
   ════════════════════════════════════════════════════════ */

/* Slow drift animation for ornaments */
@keyframes driftFloat{
  0%{transform:translateY(0) rotate(0deg)}
  25%{transform:translateY(-6px) rotate(0.5deg)}
  50%{transform:translateY(-2px) rotate(-0.3deg)}
  75%{transform:translateY(-8px) rotate(0.2deg)}
  100%{transform:translateY(0) rotate(0deg)}
}
@keyframes flickerGlow{
  0%,100%{opacity:1}
  10%{opacity:0.85}
  20%{opacity:1}
  30%{opacity:0.9}
  50%{opacity:1}
  60%{opacity:0.88}
  70%{opacity:1}
  80%{opacity:0.92}
  90%{opacity:0.96}
}
@keyframes slowSpin{
  0%{transform:rotate(0deg)}
  100%{transform:rotate(360deg)}
}
@keyframes pulseScale{
  0%,100%{transform:scale(1);opacity:0.7}
  50%{transform:scale(1.04);opacity:1}
}
@keyframes chainSway{
  0%,100%{transform:rotate(0deg)}
  25%{transform:rotate(0.8deg)}
  75%{transform:rotate(-0.8deg)}
}
@keyframes inkBleed{
  0%{filter:blur(0px);opacity:0.04}
  50%{filter:blur(0.3px);opacity:0.06}
  100%{filter:blur(0px);opacity:0.04}
}

/* Animated ornament classes */
.orn-drift{animation:driftFloat 12s ease-in-out infinite}
.orn-drift-slow{animation:driftFloat 18s ease-in-out infinite}
.orn-flicker{animation:flickerGlow 4s ease-in-out infinite}
.orn-spin{animation:slowSpin 60s linear infinite}
.orn-pulse{animation:pulseScale 6s ease-in-out infinite}
.orn-sway{animation:chainSway 8s ease-in-out infinite;transform-origin:top center}
.orn-bleed{animation:inkBleed 10s ease-in-out infinite}

/* Section-specific ornament halos */
#hero .orn{will-change:opacity;transition:opacity 0.8s}
#about .orn{mix-blend-mode:multiply}
#arsenal .orn{mix-blend-mode:screen}
#chronicle .orn{mix-blend-mode:screen}

/* Enhanced dark section linework */
.sec-b .orn path,.sec-b .orn ellipse{filter:drop-shadow(0 0 1px rgba(232,228,220,0.1))}

/* Footer extra ornament rows */
footer .orn{mix-blend-mode:multiply}

/* Divider ornament enhancements */
.divider .orn{transition:opacity 1.2s ease}
.divider:hover .orn{opacity:0.08}

/* Hero parallax depth layers */
.hero-depth-1{z-index:1}
.hero-depth-2{z-index:2}
.hero-depth-3{z-index:3}

/* Arsenal card glow on hover */
.ac:hover .orn{filter:brightness(2)}

/* Conquest hover accent */
.pj:hover{background:#f7f5f0}
.pj:hover .pj-img{background:#ece8e0}

/* Timeline dot pulse */
.tl-d{animation:pulseScale 3s ease-in-out infinite}

/* Summon button gothic shadow */
.sm-btn{box-shadow:0 4px 20px rgba(0,0,0,0.03)}
.sm-btn:hover{box-shadow:0 8px 40px rgba(0,0,0,0.12)}

/* Extra scroll indicator animation */
@keyframes scrollBob{
  0%,100%{transform:translateY(0)}
  50%{transform:translateY(6px)}
}
.hero-scroll .scrl{animation:scrollBob 2.5s ease-in-out infinite}

/* Stat counter hover */
.stat:hover .stat-n{transform:scale(1.05);transition:transform 0.3s}

/* Ornament density overlay for dark sections */
.sec-b::after{
  content:'';
  position:absolute;
  inset:0;
  background:radial-gradient(ellipse at 50% 0%,rgba(232,228,220,0.01) 0%,transparent 50%);
  pointer-events:none;
  z-index:0
}

/* Section connectors — thin lines between sections */
.divider::before{
  content:'';
  position:absolute;
  left:50%;
  top:0;
  width:1px;
  height:100%;
  background:linear-gradient(to bottom,rgba(0,0,0,0.02),rgba(0,0,0,0.06),rgba(0,0,0,0.02));
  transform:translateX(-50%)
}

/* Enhanced footer ornamental borders */
footer::before{
  content:'';
  position:absolute;
  top:0;
  left:10%;
  width:80%;
  height:1px;
  background:linear-gradient(to right,transparent,rgba(0,0,0,0.05),transparent)
}

/* Inscription text styling for SVG inscriptions */
.orn text{font-family:'IM Fell English',serif;fill:currentColor}

/* ════════════════════════════════════════════════════════
   BLOOD DRIP SYSTEM — CSS animated blood effects
   ════════════════════════════════════════════════════════ */
@keyframes bloodDrip{
  0%{transform:scaleY(0);opacity:0}
  10%{transform:scaleY(0.3);opacity:0.8}
  40%{transform:scaleY(0.7);opacity:0.6}
  70%{transform:scaleY(1);opacity:0.4}
  100%{transform:scaleY(1.15);opacity:0.2}
}
@keyframes bloodPulse{
  0%,100%{opacity:0.15;filter:brightness(1)}
  50%{opacity:0.25;filter:brightness(1.2)}
}
@keyframes bloodPool{
  0%{transform:scaleX(0.5) scaleY(0.3);opacity:0}
  50%{transform:scaleX(1) scaleY(0.8);opacity:0.3}
  100%{transform:scaleX(1.1) scaleY(1);opacity:0.15}
}
.blood-drip{
  position:absolute;
  width:3px;
  background:linear-gradient(to bottom,#8b0000,#4a0000,transparent);
  border-radius:0 0 50% 50%;
  transform-origin:top;
  animation:bloodDrip 4s ease-in forwards;
  pointer-events:none;
  z-index:2
}
.blood-drip-slow{animation-duration:8s}
.blood-drip-fast{animation-duration:2s}
.blood-pool{
  position:absolute;
  width:12px;
  height:4px;
  background:radial-gradient(ellipse,#6b0000,transparent);
  border-radius:50%;
  transform-origin:center;
  animation:bloodPool 5s ease-out forwards;
  pointer-events:none;
  z-index:2
}
.blood-splatter{
  position:absolute;
  width:8px;
  height:8px;
  background:radial-gradient(circle,#7a0000 30%,transparent 70%);
  border-radius:50%;
  animation:bloodPulse 3s ease-in-out infinite;
  pointer-events:none;
  z-index:2
}
/* Blood on dark sections uses lighter crimson */
.sec-b .blood-drip{background:linear-gradient(to bottom,#dc143c,#8b0000,transparent)}
.sec-b .blood-splatter{background:radial-gradient(circle,#dc143c 30%,transparent 70%)}
.sec-b .blood-pool{background:radial-gradient(ellipse,#b22222,transparent)}

/* Blood color for SVG elements */
.blood-svg path,.blood-svg ellipse{stroke:#8b0000}
.sec-b .blood-svg path,.sec-b .blood-svg ellipse{stroke:#dc143c}

/* Print styles - hide ornaments */
@media print{
  .orn,#bgFiligree,#grain{display:none!important}
  body::after{display:none!important}
}

/* Reduced motion support */
@media(prefers-reduced-motion:reduce){
  .orn-drift,.orn-drift-slow,.orn-flicker,.orn-spin,.orn-pulse,.orn-sway,.orn-bleed{animation:none!important}
  .rv{transition:none!important}
  .tl-d{animation:none!important}
  .hero-scroll .scrl{animation:none!important}
}

/* Large screen ornament scaling */
@media(min-width:1800px){
  .orn{transform-origin:center}
  #hero .orn[style*="width:600px"]{width:800px!important;height:800px!important}
}

/* ── Responsive ── */
@media(max-width:1000px){
  section{padding:80px 20px}
  nav{padding:14px 20px;gap:15px}
  .nl{gap:12px}.nl a{font-size:9px;letter-spacing:3px}
  .abt-grid{grid-template-columns:1fr}.stats{grid-template-columns:repeat(3,1fr)}
  .dtl-grid,.ars-grid{grid-template-columns:1fr}
  .pj{grid-template-columns:1fr}.pj-img{min-height:200px}
  .orn{display:none}
  #bgFiligree{display:none}
}

/* ═══════════════════════════════════════════════════════════
   BLOOD WATERFALL & GORE CSS EXPANSION — MAXIMUM CARNAGE
   ═══════════════════════════════════════════════════════════ */

/* Blood drip variations */
.blood-drip-slow{animation-name:bloodDripSlow!important}
.blood-drip-fast{animation-name:bloodDripFast!important}
@keyframes bloodDripSlow{
  0%{opacity:0;transform:scaleY(0) translateY(-100%)}
  15%{opacity:0.4;transform:scaleY(0.3) translateY(0)}
  100%{opacity:0;transform:scaleY(1) translateY(100%)}
}
@keyframes bloodDripFast{
  0%{opacity:0;transform:scaleY(0)}
  5%{opacity:0.5;transform:scaleY(0.2)}
  100%{opacity:0;transform:scaleY(1) translateY(80%)}
}

/* Blood splatter (pulsing appear/disappear) */
.blood-splatter{
  position:absolute;
  pointer-events:none;
  border-radius:40% 60% 50% 40%/50% 40% 60% 50%;
  background:radial-gradient(ellipse,rgba(80,10,10,0.15),rgba(60,5,5,0.05),transparent 70%);
  animation:splatPulse 8s ease-in-out infinite;
  z-index:0;
}
@keyframes splatPulse{
  0%,100%{opacity:0;transform:scale(0.5)}
  20%{opacity:1;transform:scale(1)}
  80%{opacity:0.7;transform:scale(1.1)}
}

/* Blood pool (spreading at section bottoms) */
.blood-pool{
  position:absolute;
  height:3px;
  pointer-events:none;
  border-radius:50%;
  background:radial-gradient(ellipse,rgba(70,8,8,0.12),rgba(50,5,5,0.05),transparent 80%);
  animation:poolSpread 12s ease-out infinite;
  z-index:0;
}
@keyframes poolSpread{
  0%{opacity:0;transform:scaleX(0.3)}
  30%{opacity:1;transform:scaleX(1)}
  100%{opacity:0;transform:scaleX(1.5)}
}

/* Blood waterfall between sections */
.divider::after{
  content:'';
  position:absolute;
  top:-10px;left:0;right:0;height:30px;
  background:linear-gradient(
    to bottom,
    transparent,
    rgba(70,8,8,0.03) 20%,
    rgba(70,8,8,0.06) 40%,
    rgba(70,8,8,0.04) 60%,
    rgba(70,8,8,0.02) 80%,
    transparent
  );
  pointer-events:none;
  animation:waterfallPulse 6s ease-in-out infinite;
}
@keyframes waterfallPulse{
  0%,100%{opacity:0.5}
  50%{opacity:1}
}

/* Pulsing blood veins in background */
.divider::before{
  content:'';
  position:absolute;
  top:-5px;left:10%;right:10%;height:20px;
  background:repeating-linear-gradient(
    90deg,
    transparent,
    transparent 30px,
    rgba(70,8,8,0.04) 32px,
    transparent 34px
  );
  pointer-events:none;
  animation:veinPulse 4s ease-in-out infinite alternate;
}
@keyframes veinPulse{
  0%{opacity:0.3}
  100%{opacity:0.8}
}

/* Gore shimmer on ornaments */
.orn svg{
  filter:drop-shadow(0 0 1px rgba(60,8,8,0.03));
}

/* Blood vein network on section backgrounds */
section::after{
  content:'';
  position:absolute;
  top:0;left:0;right:0;bottom:0;
  pointer-events:none;
  background:
    radial-gradient(ellipse at 20% 30%,rgba(70,8,8,0.02),transparent 40%),
    radial-gradient(ellipse at 80% 70%,rgba(70,8,8,0.02),transparent 40%),
    radial-gradient(ellipse at 50% 50%,rgba(70,8,8,0.01),transparent 60%);
  animation:veinNetwork 15s ease-in-out infinite alternate;
  z-index:0;
}
@keyframes veinNetwork{
  0%{opacity:0.3}
  50%{opacity:0.8}
  100%{opacity:0.4}
}

/* Dripping blood edge on sections */
section::before{
  content:'';
  position:absolute;
  top:0;left:0;right:0;height:4px;
  background:repeating-linear-gradient(
    90deg,
    transparent,
    transparent 15px,
    rgba(70,8,8,0.06) 16px,
    rgba(70,8,8,0.03) 18px,
    transparent 20px
  );
  pointer-events:none;
  z-index:1;
}

/* Subtle crack texture overlay */
.sec-b::after{
  background:
    radial-gradient(ellipse at 20% 30%,rgba(70,8,8,0.025),transparent 40%),
    radial-gradient(ellipse at 80% 70%,rgba(70,8,8,0.025),transparent 40%),
    radial-gradient(ellipse at 50% 50%,rgba(70,8,8,0.015),transparent 60%),
    linear-gradient(45deg,transparent 48%,rgba(70,8,8,0.01) 49%,rgba(70,8,8,0.01) 51%,transparent 52%),
    linear-gradient(-45deg,transparent 48%,rgba(70,8,8,0.008) 49%,rgba(70,8,8,0.008) 51%,transparent 52%);
}

/* Extra blood animation for hero section specifically */
#hero .blood-drip{animation-duration:3s!important;opacity:0.2!important}
#hero::after{
  background:
    radial-gradient(ellipse at 15% 80%,rgba(70,8,8,0.03),transparent 30%),
    radial-gradient(ellipse at 85% 20%,rgba(70,8,8,0.03),transparent 30%),
    radial-gradient(ellipse at 50% 90%,rgba(70,8,8,0.04),transparent 40%)!important;
}

/* Summon section extra dark blood aura */
#summon::after{
  background:
    radial-gradient(ellipse at 50% 50%,rgba(70,8,8,0.04),transparent 50%),
    radial-gradient(ellipse at 20% 80%,rgba(70,8,8,0.03),transparent 40%),
    radial-gradient(ellipse at 80% 20%,rgba(70,8,8,0.03),transparent 40%)!important;
}

/* Footer blood edge */
footer::before{
  content:'';
  position:absolute;
  top:0;left:0;right:0;height:3px;
  background:linear-gradient(90deg,transparent,rgba(70,8,8,0.08),transparent);
  pointer-events:none;
}

/* ═══════════════════════════════════════════════════════════
   CREED SECTION STYLING
   ═══════════════════════════════════════════════════════════ */
#creed{padding:6rem 0}
#creed .sec-head{margin-bottom:3rem}
#creed h2{font-size:2.2rem;letter-spacing:0.2em}
.creed-card{transition:border-color 0.5s ease,background 0.5s ease}
.creed-card:hover{border-color:rgba(255,255,255,0.12);background:rgba(255,255,255,0.035)}
.creed-card h3{background:linear-gradient(to right,rgba(255,255,255,0.7),rgba(255,255,255,0.4));-webkit-background-clip:text;-webkit-text-fill-color:transparent}
.creed-num{background:linear-gradient(to bottom,rgba(255,255,255,0.2),rgba(255,255,255,0.05));-webkit-background-clip:text;-webkit-text-fill-color:transparent}
.creed-quote blockquote{border-left:2px solid rgba(255,255,255,0.05);padding-left:1.5rem;text-align:left}
.creed-details h4{background:linear-gradient(to right,rgba(255,255,255,0.5),rgba(255,255,255,0.3));-webkit-background-clip:text;-webkit-text-fill-color:transparent}

/* Creed card blood veins */
.creed-card::before{
  content:'';
  position:absolute;
  top:0;left:0;right:0;bottom:0;
  pointer-events:none;
  background:
    radial-gradient(ellipse at 30% 20%,rgba(70,8,8,0.02),transparent 50%),
    radial-gradient(ellipse at 70% 80%,rgba(70,8,8,0.02),transparent 50%);
  opacity:0;
  transition:opacity 0.5s ease;
}
.creed-card:hover::before{opacity:1}

/* Extra responsive tweaks for creed */
@media(max-width:768px){
  .creed-details>div{grid-template-columns:1fr!important}
  .creed-grid{grid-template-columns:1fr!important}
}

/* ═══════════════════════════════════════════════════════════
   ADDITIONAL BLOOD ANIMATION VARIANTS
   ═══════════════════════════════════════════════════════════ */

/* Blood curtain effect */
@keyframes bloodCurtain{
  0%{clip-path:polygon(0 0,100% 0,100% 0,0 0)}
  50%{clip-path:polygon(0 0,100% 0,100% 100%,0 100%)}
  100%{clip-path:polygon(0 0,100% 0,100% 0,0 0)}
}

/* Blood wave */
@keyframes bloodWave{
  0%{transform:translateX(-100%) scaleY(0.3)}
  50%{transform:translateX(0) scaleY(1)}
  100%{transform:translateX(100%) scaleY(0.3)}
}

/* Pulse glow for blood elements */
@keyframes bloodPulseGlow{
  0%,100%{filter:drop-shadow(0 0 2px rgba(70,8,8,0));opacity:0.5}
  50%{filter:drop-shadow(0 0 8px rgba(70,8,8,0.15));opacity:1}
}

/* Drip formation (surface tension then drop) */
@keyframes dripForm{
  0%{transform:scaleY(0) translateY(0);opacity:0}
  30%{transform:scaleY(0.3) translateY(0);opacity:0.8}
  60%{transform:scaleY(0.6) translateY(20%);opacity:0.6}
  80%{transform:scaleY(1) translateY(60%);opacity:0.4}
  100%{transform:scaleY(1.5) translateY(100%);opacity:0}
}

/* Blood seep from crack */
@keyframes bloodSeep{
  0%{width:0;opacity:0}
  40%{width:80%;opacity:0.6}
  100%{width:100%;opacity:0}
}

/* Coagulation (blood thickening) */
@keyframes coagulate{
  0%{opacity:0;border-radius:50%;transform:scale(0.5)}
  30%{opacity:0.4;border-radius:45% 55% 50% 50%;transform:scale(0.8)}
  60%{opacity:0.6;border-radius:40% 60% 55% 45%;transform:scale(1)}
  100%{opacity:0.2;border-radius:35% 65% 50% 50%;transform:scale(1.2)}
}

/* Hemorrhage burst */
@keyframes hemorrhageBurst{
  0%{transform:scale(0);opacity:0.8}
  30%{transform:scale(1);opacity:0.6}
  100%{transform:scale(2);opacity:0}
}

/* Vein throb */
@keyframes veinThrob{
  0%,100%{stroke-width:0.3px;opacity:0.1}
  50%{stroke-width:0.8px;opacity:0.3}
}

/* Additional section-specific blood overlays */
#hero .blood-pool{
  animation-name:bloodSeep;
  height:4px!important;
}

#arsenal .blood-splatter{
  animation-name:coagulate;
}

#conquests .blood-drip-fast{
  animation-name:dripForm!important;
}

#chronicle .blood-pool{
  animation-name:hemorrhageBurst;
}

#creed .blood-splatter{
  animation-name:bloodPulseGlow;
  border-radius:50%;
}

/* ═══════════════════════════════════════════════════════════
   ENHANCED ORNAMENT HOVER EFFECTS
   ═══════════════════════════════════════════════════════════ */

/* Subtle parallax on scroll for ornaments */
.orn{
  will-change:transform;
  backface-visibility:hidden;
}

/* Blood veins visible on all dark sections */
.sec-b{
  background-image:
    radial-gradient(ellipse at 10% 90%,rgba(70,8,8,0.015),transparent 40%),
    radial-gradient(ellipse at 90% 10%,rgba(70,8,8,0.015),transparent 40%),
    radial-gradient(ellipse at 50% 50%,rgba(70,8,8,0.008),transparent 60%);
}

/* Ornament glow on sections with blood */
.sec-b .orn svg path{
  filter:drop-shadow(0 0 0.5px rgba(60,8,8,0.02));
}

/* Enhanced divider blood seam */
.divider{
  background-image:
    linear-gradient(90deg,transparent,rgba(70,8,8,0.03) 30%,rgba(70,8,8,0.05) 50%,rgba(70,8,8,0.03) 70%,transparent);
  background-size:100% 1px;
  background-position:center;
  background-repeat:no-repeat;
}

/* Noise texture overlay for organic feel */
.sec-b::before{
  background-image:
    repeating-linear-gradient(
      0deg,transparent,transparent 2px,
      rgba(255,255,255,0.003) 2px,rgba(255,255,255,0.003) 4px
    ),
    repeating-linear-gradient(
      90deg,transparent,transparent 2px,
      rgba(255,255,255,0.002) 2px,rgba(255,255,255,0.002) 4px
    );
}

/* Final touches — very subtle grain */
body::after{
  content:'';
  position:fixed;
  top:0;left:0;right:0;bottom:0;
  pointer-events:none;
  z-index:9999;
  opacity:0.015;
  background-image:
    repeating-conic-gradient(
      rgba(255,255,255,0.03) 0%,
      transparent 0.5%,
      transparent 1%
    );
  background-size:200px 200px;
  animation:grainShift 8s steps(4) infinite;
}
@keyframes grainShift{
  0%{transform:translate(0,0)}
  25%{transform:translate(-5px,5px)}
  50%{transform:translate(5px,-5px)}
  75%{transform:translate(-3px,-3px)}
  100%{transform:translate(0,0)}
}
</style>
</head>
<body>

<!-- Background filigree layer -->
<div id="bgFiligree"></div>

<!-- Film grain -->
<div id="grain"></div>

<!-- ════════════════════════════════════════════════════════
     LOADING SCREEN
     ════════════════════════════════════════════════════════ -->
<div id="intro">
  <div id="introOrn"></div>
  <div class="intro-text" id="it">Solara</div>
</div>

<!-- ════════════════════════════════════════════════════════
     NAVIGATION
     ════════════════════════════════════════════════════════ -->
<nav id="nav">
  <ul class="nl"><li><a href="#about">Origin</a></li><li><a href="#arsenal">Arsenal</a></li><li><a href="#conquests">Conquests</a></li></ul>
  <a href="#hero"><img src="avenged-sevenfold-fly-a7x-zoie-veum.jpg" class="nb" alt=""></a>
  <ul class="nl"><li><a href="#chronicle">Chronicle</a><a href="#creed">Creed</a></li><li><a href="#summon">Summon</a></li></ul>
</nav>

<!-- ════════════════════════════════════════════════════════
     HERO
     ════════════════════════════════════════════════════════ -->
<section id="hero">
  <!-- Corner filigree (4 massive pieces, mirrored via CSS) -->
  <div class="orn" id="ornTL" style="top:0;left:0;width:600px;height:600px"></div>
  <div class="orn" id="ornTR" style="top:0;right:0;width:600px;height:600px;transform:scaleX(-1)"></div>
  <div class="orn" id="ornBL" style="bottom:0;left:0;width:600px;height:600px;transform:scaleY(-1)"></div>
  <div class="orn" id="ornBR" style="bottom:0;right:0;width:600px;height:600px;transform:scale(-1)"></div>
  <!-- Hanging chandelier ornaments (5 positions) -->
  <div class="orn" id="ornHL" style="top:0;left:12%;width:180px;height:650px"></div>
  <div class="orn" id="ornHR" style="top:0;right:12%;width:180px;height:650px"></div>
  <div class="orn" id="ornHC" style="top:0;left:50%;transform:translateX(-50%);width:140px;height:550px"></div>
  <div class="orn" id="ornHL2" style="top:0;left:25%;width:120px;height:500px"></div>
  <div class="orn" id="ornHR2" style="top:0;right:25%;width:120px;height:500px"></div>
  <!-- Side ornaments -->
  <div class="orn" id="ornSL" style="top:15%;left:5px;width:140px;height:600px"></div>
  <div class="orn" id="ornSR" style="top:15%;right:5px;width:140px;height:600px;transform:scaleX(-1)"></div>
  <!-- Bottom ornament -->
  <div class="orn" id="ornBot" style="bottom:35px;left:50%;transform:translateX(-50%);width:400px;height:140px"></div>
  <!-- Gothic arch frame -->
  <div class="orn" id="ornArch" style="top:5%;left:50%;transform:translateX(-50%);width:800px;height:200px"></div>

  <div class="hero-c">
    <img src="61KGqeewnFL.jpg" class="hero-bat" id="hb" alt="">
    <h1 class="shatter" id="ht">Solara</h1>
    <div class="hero-rule"><div class="line"></div></div>
    <p class="hero-sub">Backend Engineer · System Architect · Distributed Systems</p>
    <p class="hero-tag">"I design systems that don't break — then I scale them."</p>
  </div>
  <div class="hero-scroll"><span>Descend</span><div class="scrl"></div></div>
</section>

<!-- ═══ DIVIDER 1 ═══ -->
<div class="divider" id="div1"></div>

<!-- ════════════════════════════════════════════════════════
     ORIGIN (About)
     ════════════════════════════════════════════════════════ -->
<section id="about">
  <div class="orn" id="ornAR" style="top:20px;right:15px;width:140px;height:800px"></div>
  <div class="orn" id="ornAL" style="top:80px;left:15px;width:140px;height:700px"></div>
  <div class="orn" id="ornABot" style="bottom:20px;left:50%;transform:translateX(-50%);width:500px;height:100px"></div>
  <div class="sd rv"><div class="sd-l"></div><img src="avenged-sevenfold-fly-a7x-zoie-veum.jpg" style="width:45px;opacity:0.1" alt=""><div class="sd-l"></div></div>
  <h2 class="st rv">Origin</h2>
  <p class="ss rv">"Self-taught. Battle-tested. Production-hardened."</p>
  <div class="abt-grid rv">
    <div class="abt-left">
      <p>A <strong>15-year-old backend engineer, system architect, and distributed systems designer</strong> from Poland. No degree. No bootcamps. Self-taught through raw experimentation and architectural obsession in under two years.</p>
      <p>I architect and deploy <strong>banking systems, e-commerce platforms, SaaS products, and distributed infrastructure</strong>. Kubernetes clusters. Redis cluster sharding. Istio service meshes with mTLS. I think in <strong>systems, not syntax</strong>.</p>
      <p>CTO and Backend Engineer of my own tech company. From single-server Django apps to multi-node K8s clusters with Celery task queues, Prometheus monitoring, and zero-downtime deployments. Every system I build is designed to <strong>scale, survive failures, and never lose data</strong>.</p>
    </div>
    <div class="abt-right"><img src="61KGqeewnFL.jpg" alt=""></div>
  </div>
  <div class="stats rv">
    <div class="stat"><div class="stat-n">15</div><div class="stat-l">Years Old</div></div>
    <div class="stat"><div class="stat-n">&lt;2</div><div class="stat-l">Years Coding</div></div>
    <div class="stat"><div class="stat-n">10K+</div><div class="stat-l">PLN Earned</div></div>
    <div class="stat"><div class="stat-n">System Architect</div><div class="stat-l">Current Role</div></div>
    <div class="stat"><div class="stat-n">∞</div><div class="stat-l">Systems</div></div>
  </div>
  <div class="dtl-grid rv">
    <div class="dtl"><h4>Systems First</h4><span class="dtl-v">Architect</span><p>K8s clusters, Redis clusters, service meshes, Celery task queues. Blueprint before keyboard. I design the nervous system before writing a single endpoint.</p></div>
    <div class="dtl"><h4>Per Project</h4><span class="dtl-v">4-6K PLN</span><p>Production backends. Real money, real clients. Atomic transactions that handle actual currency. Audit trails that hold up to scrutiny.</p></div>
    <div class="dtl"><h4>Full Infra</h4><span class="dtl-v">End to End</span><p>Django → Docker → AWS → K8s. CI/CD pipelines, Prometheus/Grafana monitoring, SSL/TLS, RBAC, mTLS service mesh. Zero-downtime deployments.</p></div>
  </div>
  <div class="dtl-grid rv" style="margin-top:1px">
    <div class="dtl"><h4>Distributed</h4><span class="dtl-v">Clusters</span><p>Kubernetes orchestration across multi-node clusters. Redis cluster sharding. Celery distributed task queues with broker failover. Horizontal pod autoscaling.</p></div>
    <div class="dtl"><h4>Resilience</h4><span class="dtl-v">Fault Tolerant</span><p>Circuit breakers. Retry policies with exponential backoff. Health checks. Graceful degradation. Systems that survive node failures without data loss.</p></div>
    <div class="dtl"><h4>Observability</h4><span class="dtl-v">Full Stack</span><p>Prometheus metrics. Grafana dashboards. Structured logging. Alerting pipelines. I see every heartbeat of every service in the cluster.</p></div>
  </div>
</section>

<!-- ═══ DIVIDER 2 ═══ -->
<div class="divider" id="div2"></div>

<!-- ════════════════════════════════════════════════════════
     ARSENAL
     ════════════════════════════════════════════════════════ -->
<section id="arsenal" class="sec-b">
  <div class="orn" id="ornArR" style="top:20px;right:15px;width:140px;height:700px"></div>
  <div class="orn" id="ornArL" style="top:60px;left:15px;width:140px;height:700px"></div>
  <div class="sd rv"><div class="sd-l" style="background:#e8e4dc"></div><img src="avenged-sevenfold-fly-a7x-zoie-veum.jpg" style="width:45px;filter:invert(1);opacity:0.1" alt=""><div class="sd-l" style="background:#e8e4dc"></div></div>
  <h2 class="st rv" style="color:#e8e4dc">Arsenal</h2>
  <p class="ss rv" style="color:#555">"Every weapon sharpened. Every tool mastered."</p>
  <div class="ars-grid">
    <div class="ac rv"><h3>Backend</h3><div class="tgs"><span class="tg">Python</span><span class="tg">Django</span><span class="tg">Django REST</span><span class="tg">JWT Auth</span><span class="tg">RBAC</span><span class="tg">Celery</span><span class="tg">WebSockets</span><span class="tg">Signals</span></div></div>
    <div class="ac rv"><h3>Infrastructure</h3><div class="tgs"><span class="tg">AWS EC2</span><span class="tg">Docker</span><span class="tg">Nginx</span><span class="tg">Kubernetes</span><span class="tg">CI/CD</span><span class="tg">Linux</span><span class="tg">Istio</span><span class="tg">Helm</span></div></div>
    <div class="ac rv"><h3>Security</h3><div class="tgs"><span class="tg">Encryption</span><span class="tg">Auth Systems</span><span class="tg">RBAC Design</span><span class="tg">SSL/TLS</span><span class="tg">mTLS</span><span class="tg">Validation</span></div></div>
    <div class="ac rv"><h3>Databases</h3><div class="tgs"><span class="tg">PostgreSQL</span><span class="tg">Redis</span><span class="tg">Atomic TX</span><span class="tg">Schema Design</span><span class="tg">Pub/Sub</span><span class="tg">Migrations</span></div></div>
    <div class="ac rv"><h3>Monitoring</h3><div class="tgs"><span class="tg">Prometheus</span><span class="tg">Grafana</span><span class="tg">Logging</span><span class="tg">Alerting</span><span class="tg">Health Checks</span><span class="tg">Uptime</span></div></div>
    <div class="ac rv"><h3>Payments & APIs</h3><div class="tgs"><span class="tg">Stripe</span><span class="tg">Webhooks</span><span class="tg">Subscriptions</span><span class="tg">REST APIs</span><span class="tg">Processing</span></div></div>
    <div class="ac rv"><h3>Distributed Systems</h3><div class="tgs"><span class="tg">K8s Clusters</span><span class="tg">Redis Clusters</span><span class="tg">Service Mesh</span><span class="tg">Celery Workers</span><span class="tg">Task Queues</span><span class="tg">Pub/Sub Patterns</span><span class="tg">Message Brokers</span><span class="tg">Event-Driven</span></div></div>
    <div class="ac rv"><h3>Architecture</h3><div class="tgs"><span class="tg">Horizontal Scaling</span><span class="tg">Load Balancing</span><span class="tg">Circuit Breakers</span><span class="tg">Sharding</span><span class="tg">CQRS</span><span class="tg">Saga Patterns</span><span class="tg">Microservices</span><span class="tg">Domain Design</span></div></div>
    <div class="ac rv"><h3>DevOps & Cloud</h3><div class="tgs"><span class="tg">AWS EC2/RDS</span><span class="tg">Docker Compose</span><span class="tg">Helm Charts</span><span class="tg">GitHub Actions</span><span class="tg">Terraform</span><span class="tg">Secrets Mgmt</span><span class="tg">Blue-Green Deploy</span><span class="tg">Rolling Updates</span></div></div>
  </div>
</section>

<!-- ═══ DIVIDER 3 ═══ -->
<div class="divider" id="div3"></div>

<!-- ════════════════════════════════════════════════════════
    <!-- EXPANDED TECH DEEP DIVES -->
    <div class="deep-dives" style="display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:1.5rem;max-width:1200px;margin:3rem auto;padding:0 2rem">

      <div style="background:rgba(255,255,255,0.015);border:1px solid rgba(255,255,255,0.04);padding:1.8rem;border-radius:2px">
        <h4 style="font-family:'Cinzel',serif;font-size:0.85rem;margin-bottom:1rem;letter-spacing:0.1em;opacity:0.45">DATABASE MASTERY</h4>
        <p style="font-size:0.8rem;line-height:1.65;opacity:0.5">PostgreSQL with advanced query optimization, partial indexes, materialized views, and CTEs. Redis for session management, caching layers, pub/sub messaging, and rate limiting. Database sharding strategies for horizontal scaling. ACID compliance for financial transactions. Connection pooling with PgBouncer. Backup strategies with point-in-time recovery.</p>
        <div style="margin-top:1rem;display:flex;flex-wrap:wrap;gap:0.4rem">
          <span style="font-size:0.65rem;padding:0.2rem 0.5rem;border:1px solid rgba(255,255,255,0.06);opacity:0.35">PostgreSQL</span>
          <span style="font-size:0.65rem;padding:0.2rem 0.5rem;border:1px solid rgba(255,255,255,0.06);opacity:0.35">Redis</span>
          <span style="font-size:0.65rem;padding:0.2rem 0.5rem;border:1px solid rgba(255,255,255,0.06);opacity:0.35">PgBouncer</span>
          <span style="font-size:0.65rem;padding:0.2rem 0.5rem;border:1px solid rgba(255,255,255,0.06);opacity:0.35">SQL Optimization</span>
        </div>
      </div>

      <div style="background:rgba(255,255,255,0.015);border:1px solid rgba(255,255,255,0.04);padding:1.8rem;border-radius:2px">
        <h4 style="font-family:'Cinzel',serif;font-size:0.85rem;margin-bottom:1rem;letter-spacing:0.1em;opacity:0.45">API ARCHITECTURE</h4>
        <p style="font-size:0.8rem;line-height:1.65;opacity:0.5">RESTful API design with proper resource naming, pagination, filtering, and HATEOAS principles. JWT authentication with refresh token rotation. API versioning strategies. Rate limiting with sliding window algorithms. WebSocket connections via Django Channels for real-time features. OpenAPI/Swagger documentation generation. API gateway patterns for microservice orchestration.</p>
        <div style="margin-top:1rem;display:flex;flex-wrap:wrap;gap:0.4rem">
          <span style="font-size:0.65rem;padding:0.2rem 0.5rem;border:1px solid rgba(255,255,255,0.06);opacity:0.35">REST</span>
          <span style="font-size:0.65rem;padding:0.2rem 0.5rem;border:1px solid rgba(255,255,255,0.06);opacity:0.35">JWT</span>
          <span style="font-size:0.65rem;padding:0.2rem 0.5rem;border:1px solid rgba(255,255,255,0.06);opacity:0.35">WebSockets</span>
          <span style="font-size:0.65rem;padding:0.2rem 0.5rem;border:1px solid rgba(255,255,255,0.06);opacity:0.35">Django Channels</span>
        </div>
      </div>

      <div style="background:rgba(255,255,255,0.015);border:1px solid rgba(255,255,255,0.04);padding:1.8rem;border-radius:2px">
        <h4 style="font-family:'Cinzel',serif;font-size:0.85rem;margin-bottom:1rem;letter-spacing:0.1em;opacity:0.45">SECURITY ENGINEERING</h4>
        <p style="font-size:0.8rem;line-height:1.65;opacity:0.5">OWASP Top 10 mitigation in every application. Custom authentication backends with multi-factor support. CORS configuration for cross-origin security. Content Security Policy headers. SQL injection prevention beyond ORM defaults. XSS sanitization with context-aware escaping. CSRF protection with SameSite cookies. Secret rotation with HashiCorp Vault patterns. SSL/TLS certificate management with Let's Encrypt automation.</p>
        <div style="margin-top:1rem;display:flex;flex-wrap:wrap;gap:0.4rem">
          <span style="font-size:0.65rem;padding:0.2rem 0.5rem;border:1px solid rgba(255,255,255,0.06);opacity:0.35">OWASP</span>
          <span style="font-size:0.65rem;padding:0.2rem 0.5rem;border:1px solid rgba(255,255,255,0.06);opacity:0.35">MFA</span>
          <span style="font-size:0.65rem;padding:0.2rem 0.5rem;border:1px solid rgba(255,255,255,0.06);opacity:0.35">CSP</span>
          <span style="font-size:0.65rem;padding:0.2rem 0.5rem;border:1px solid rgba(255,255,255,0.06);opacity:0.35">SSL/TLS</span>
        </div>
      </div>

      <div style="background:rgba(255,255,255,0.015);border:1px solid rgba(255,255,255,0.04);padding:1.8rem;border-radius:2px">
        <h4 style="font-family:'Cinzel',serif;font-size:0.85rem;margin-bottom:1rem;letter-spacing:0.1em;opacity:0.45">CONTAINER ORCHESTRATION</h4>
        <p style="font-size:0.8rem;line-height:1.65;opacity:0.5">Docker multi-stage builds optimized for minimal image size. Docker Compose for local development environments mirroring production. Kubernetes deployments with rolling updates and rollback strategies. Helm charts for templated, reproducible deployments. Resource limits and requests for proper cluster scheduling. Horizontal Pod Autoscaler based on custom metrics. Persistent volume claims for stateful workloads. Network policies for pod-to-pod communication security.</p>
        <div style="margin-top:1rem;display:flex;flex-wrap:wrap;gap:0.4rem">
          <span style="font-size:0.65rem;padding:0.2rem 0.5rem;border:1px solid rgba(255,255,255,0.06);opacity:0.35">Docker</span>
          <span style="font-size:0.65rem;padding:0.2rem 0.5rem;border:1px solid rgba(255,255,255,0.06);opacity:0.35">Kubernetes</span>
          <span style="font-size:0.65rem;padding:0.2rem 0.5rem;border:1px solid rgba(255,255,255,0.06);opacity:0.35">Helm</span>
          <span style="font-size:0.65rem;padding:0.2rem 0.5rem;border:1px solid rgba(255,255,255,0.06);opacity:0.35">HPA</span>
        </div>
      </div>

      <div style="background:rgba(255,255,255,0.015);border:1px solid rgba(255,255,255,0.04);padding:1.8rem;border-radius:2px">
        <h4 style="font-family:'Cinzel',serif;font-size:0.85rem;margin-bottom:1rem;letter-spacing:0.1em;opacity:0.45">OBSERVABILITY STACK</h4>
        <p style="font-size:0.8rem;line-height:1.65;opacity:0.5">Prometheus for metrics collection with custom Django middleware exporters. Grafana dashboards for real-time visualization of request latency, error rates, and resource utilization. AlertManager integration with Slack/Discord notifications for critical threshold breaches. Structured logging with ELK stack patterns. Distributed tracing concepts for microservice request flows. Health check endpoints for load balancer integration. SLA/SLO monitoring and reporting.</p>
        <div style="margin-top:1rem;display:flex;flex-wrap:wrap;gap:0.4rem">
          <span style="font-size:0.65rem;padding:0.2rem 0.5rem;border:1px solid rgba(255,255,255,0.06);opacity:0.35">Prometheus</span>
          <span style="font-size:0.65rem;padding:0.2rem 0.5rem;border:1px solid rgba(255,255,255,0.06);opacity:0.35">Grafana</span>
          <span style="font-size:0.65rem;padding:0.2rem 0.5rem;border:1px solid rgba(255,255,255,0.06);opacity:0.35">AlertManager</span>
          <span style="font-size:0.65rem;padding:0.2rem 0.5rem;border:1px solid rgba(255,255,255,0.06);opacity:0.35">SLO</span>
        </div>
      </div>

      <div style="background:rgba(255,255,255,0.015);border:1px solid rgba(255,255,255,0.04);padding:1.8rem;border-radius:2px">
        <h4 style="font-family:'Cinzel',serif;font-size:0.85rem;margin-bottom:1rem;letter-spacing:0.1em;opacity:0.45">ASYNC & MESSAGING</h4>
        <p style="font-size:0.8rem;line-height:1.65;opacity:0.5">Celery for distributed task processing with Redis as message broker. Task routing, priority queues, and retry strategies with exponential backoff. Periodic task scheduling with Celery Beat. Event-driven architecture patterns with pub/sub messaging. Dead letter queues for failed message handling. Task result backends with TTL expiration. Workflow orchestration with task chains, groups, and chords. Background job monitoring with Flower dashboard.</p>
        <div style="margin-top:1rem;display:flex;flex-wrap:wrap;gap:0.4rem">
          <span style="font-size:0.65rem;padding:0.2rem 0.5rem;border:1px solid rgba(255,255,255,0.06);opacity:0.35">Celery</span>
          <span style="font-size:0.65rem;padding:0.2rem 0.5rem;border:1px solid rgba(255,255,255,0.06);opacity:0.35">Redis Pub/Sub</span>
          <span style="font-size:0.65rem;padding:0.2rem 0.5rem;border:1px solid rgba(255,255,255,0.06);opacity:0.35">Flower</span>
          <span style="font-size:0.65rem;padding:0.2rem 0.5rem;border:1px solid rgba(255,255,255,0.06);opacity:0.35">Event-Driven</span>
        </div>
      </div>

    </div>
     CONQUESTS
     ════════════════════════════════════════════════════════ -->
<section id="conquests">
  <div class="orn" id="ornCL" style="top:20px;left:15px;width:140px;height:800px"></div>
  <div class="orn" id="ornCR" style="top:60px;right:15px;width:140px;height:700px"></div>
  <div class="sd rv"><div class="sd-l"></div><img src="avenged-sevenfold-fly-a7x-zoie-veum.jpg" style="width:45px;opacity:0.1" alt=""><div class="sd-l"></div></div>
  <h2 class="st rv">Conquests</h2>
  <p class="ss rv">"Production code. Real users. Real consequences."</p>
  <div class="pjs">
    <div class="pj rv"><div class="pj-img"><img src="avenged-sevenfold-fly-a7x-zoie-veum.jpg" alt=""></div><div class="pj-nfo"><div class="pj-num">CONQUEST I</div><h3 class="pj-name">SolaraDocs</h3><div class="pj-type">SaaS — Documentation Platform</div><p class="pj-desc">Collaborative documentation platform with four-tier RBAC. JWT authentication, AES-256 encryption at rest, team management with role hierarchies, Stripe subscription billing with webhook lifecycle. Custom permission engine controlling document-level access. Deployed on AWS with Docker, Nginx reverse proxy, SSL termination, and Prometheus monitoring.</p><div class="pj-stk"><span>Django</span><span>AWS</span><span>Docker</span><span>Stripe</span><span>Nginx</span><span>RBAC</span><span>JWT</span><span>SSL</span><span>PostgreSQL</span><span>Redis</span><span>Celery</span><span>Prometheus</span><span>Grafana</span></div><a href="https://solaradocs.net" class="pj-url" target="_blank">solaradocs.net →</a></div></div>
    <div class="pj rv"><div class="pj-img"><img src="61KGqeewnFL.jpg" alt=""></div><div class="pj-nfo"><div class="pj-num">CONQUEST II</div><h3 class="pj-name">Banking System</h3><div class="pj-type">Financial Application</div><p class="pj-desc">Production banking application with PostgreSQL atomic transactions. SELECT FOR UPDATE row-level locking. Double-entry bookkeeping with immutable audit trails. Secure inter-account transfers with rollback on any failure. Full transaction history with cryptographic integrity verification. Every line of code handles real money — zero tolerance for data loss.</p><div class="pj-stk"><span>Django</span><span>PostgreSQL</span><span>Atomic TX</span><span>Security</span><span>Audit Logging</span><span>Docker</span><span>Prometheus</span><span>Grafana</span><span>Redis</span></div></div></div>
    <div class="pj rv"><div class="pj-img"><img src="avenged-sevenfold-fly-a7x-zoie-veum.jpg" alt=""></div><div class="pj-nfo"><div class="pj-num">CONQUEST III</div><h3 class="pj-name">E-Commerce Platform</h3><div class="pj-type">Marketplace</div><p class="pj-desc">Full-stack marketplace with product catalog, shopping cart, Stripe payment processing, order lifecycle management, and inventory tracking. Webhook-driven order fulfillment. Celery task queues for async email notifications and invoice generation. Redis caching for product catalog performance.</p><div class="pj-stk"><span>Django</span><span>Stripe</span><span>PostgreSQL</span><span>Docker</span><span>AWS</span><span>Celery</span><span>Redis</span><span>Webhooks</span></div></div></div>
    <div class="pj rv"><div class="pj-img"><img src="61KGqeewnFL.jpg" alt=""></div><div class="pj-nfo"><div class="pj-num">CONQUEST IV</div><h3 class="pj-name">Infrastructure Empire</h3><div class="pj-type">DevOps & Monitoring</div><p class="pj-desc">Production Kubernetes clusters running multi-service Django applications. Istio service mesh with mTLS inter-service communication. Prometheus + Grafana monitoring stack with custom dashboards and alerting rules. CI/CD pipelines with automated testing, Docker image building, and zero-downtime rolling deployments to AWS.</p><div class="pj-stk"><span>Kubernetes</span><span>Istio</span><span>Docker</span><span>Prometheus</span><span>Grafana</span><span>AWS</span><span>CI/CD</span><span>Helm</span><span>Nginx</span></div></div></div>
    <div class="pj rv"><div class="pj-img"><img src="avenged-sevenfold-fly-a7x-zoie-veum.jpg" alt=""></div><div class="pj-nfo"><div class="pj-num">CONQUEST V</div><h3 class="pj-name">Course Management</h3><div class="pj-type">Education Platform</div><p class="pj-desc">Multi-tenant course management system with instructor and student roles. Content delivery with progress tracking, quiz engines, and certificate generation. JWT-based authentication with refresh token rotation. Redis session management and Celery-powered async grading pipelines.</p><div class="pj-stk"><span>Django</span><span>PostgreSQL</span><span>JWT</span><span>Redis</span><span>Celery</span><span>Docker</span><span>RBAC</span></div></div></div>
  </div>
</section>

<!-- ═══ DIVIDER 4 ═══ -->
<div class="divider" id="div4"></div>

<!-- ════════════════════════════════════════════════════════
     CHRONICLE
     ════════════════════════════════════════════════════════ -->
<section id="chronicle" class="sec-b">
  <div class="orn" id="ornChL" style="top:20px;left:15px;width:140px;height:600px"></div>
  <div class="orn" id="ornChR" style="top:60px;right:15px;width:140px;height:600px"></div>
  <div class="sd rv"><div class="sd-l" style="background:#e8e4dc"></div><img src="avenged-sevenfold-fly-a7x-zoie-veum.jpg" style="width:45px;filter:invert(1);opacity:0.1" alt=""><div class="sd-l" style="background:#e8e4dc"></div></div>
  <h2 class="st rv" style="color:#e8e4dc">Chronicle</h2>
  <p class="ss rv" style="color:#555">"From nothing to production in under two years."</p>
  <div class="chr">
    <div class="tl-i rv"><div class="tl-d"></div><div class="tl-y">2024</div><div class="tl-t">The Awakening</div><div class="tl-p">First line of code. No tutorials. No bootcamps. Raw experimentation and architectural instinct from day one. Discovered that building systems was a language I already spoke.</div></div>
    <div class="tl-i rv"><div class="tl-d"></div><div class="tl-y">2024</div><div class="tl-t">First Blood</div><div class="tl-p">Built a banking system with PostgreSQL atomic transactions. SELECT FOR UPDATE. Double-entry bookkeeping. Then an e-commerce platform with Stripe. Real money. Real consequences.</div></div>
    <div class="tl-i rv"><div class="tl-d"></div><div class="tl-y">2024</div><div class="tl-t">The Forge</div><div class="tl-p">Mastered Django internals — signals, middleware, custom auth backends. Built JWT authentication systems from scratch. Learned that security isn't a feature, it's a foundation.</div></div>
    <div class="tl-i rv"><div class="tl-d"></div><div class="tl-y">2025</div><div class="tl-t">Arsenal Expands</div><div class="tl-p">AWS infrastructure. Docker containerization. CI/CD pipelines. Prometheus + Grafana monitoring stacks. First paid project at 14. The transition from builder to professional.</div></div>
    <div class="tl-i rv"><div class="tl-d"></div><div class="tl-y">2025</div><div class="tl-t">Company Founded</div><div class="tl-p">CTO of my own tech company. 4-6K PLN per project. Real contracts. Real clients. Building production systems that handle actual business operations.</div></div>
    <div class="tl-i rv"><div class="tl-d"></div><div class="tl-y">2025</div><div class="tl-t">Distributed Awakening</div><div class="tl-p">Kubernetes clusters. Redis clusters with sharding. Istio service mesh with mTLS. Celery distributed task queues. The systems grew beyond single machines — and so did I.</div></div>
    <div class="tl-i rv"><div class="tl-d"></div><div class="tl-y">2025</div><div class="tl-t">The Observatory</div><div class="tl-p">Deployed Prometheus and Grafana monitoring on production infrastructure. Custom dashboards tracking every heartbeat. Alerting pipelines. Full observability across distributed services.</div></div>
    <div class="tl-i rv"><div class="tl-d"></div><div class="tl-y">2026</div><div class="tl-t">SolaraDocs</div><div class="tl-p">SaaS goes live. solaradocs.net. Four-tier RBAC. Stripe billing. Team management. The culmination of every system built before — and far from the last.</div></div>
    <div class="tl-i rv"><div class="tl-d"></div><div class="tl-y">2026</div><div class="tl-t">What Comes Next</div><div class="tl-p">The infrastructure empire expands. More services. More clusters. More systems that don't break. The chronicle is far from over.</div></div>
  </div>
</section>

<!-- ════════════════════════════════════════════════════════
     SUMMON (Contact)
     ════════════════════════════════════════════════════════ -->
  <div class="divider"></div>

  <!-- CREED SECTION -->
  <section id="creed" class="sec sec-b">
    <div class="sec-head">
      <h2>THE CREED</h2>
      <p class="sec-sub">Principles forged in blood and binary</p>
    </div>
    <div class="creed-grid" style="display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:2rem;max-width:1200px;margin:0 auto;padding:0 2rem">

      <div class="creed-card" style="background:rgba(255,255,255,0.02);border:1px solid rgba(255,255,255,0.05);padding:2rem;border-radius:2px">
        <div class="creed-num" style="font-family:'Cinzel',serif;font-size:2rem;opacity:0.15;margin-bottom:0.5rem">I</div>
        <h3 style="font-family:'Cinzel',serif;font-size:1.1rem;margin-bottom:0.8rem;letter-spacing:0.1em">UNDERSTAND, THEN BUILD</h3>
        <p style="font-size:0.85rem;line-height:1.6;opacity:0.6">Architecture first, syntax second. Every system begins with understanding the flow — data pipelines, failure modes, scaling vectors. The code is merely the incantation that summons the design into reality. Know the WHY before the HOW.</p>
      </div>

      <div class="creed-card" style="background:rgba(255,255,255,0.02);border:1px solid rgba(255,255,255,0.05);padding:2rem;border-radius:2px">
        <div class="creed-num" style="font-family:'Cinzel',serif;font-size:2rem;opacity:0.15;margin-bottom:0.5rem">II</div>
        <h3 style="font-family:'Cinzel',serif;font-size:1.1rem;margin-bottom:0.8rem;letter-spacing:0.1em">FAIL FAST, RECOVER FASTER</h3>
        <p style="font-size:0.85rem;line-height:1.6;opacity:0.6">Production systems crash. Networks partition. Databases corrupt. The measure of engineering isn't preventing all failure — it's designing systems that fail gracefully, recover automatically, and never lose critical data. Fault tolerance is not optional.</p>
      </div>

      <div class="creed-card" style="background:rgba(255,255,255,0.02);border:1px solid rgba(255,255,255,0.05);padding:2rem;border-radius:2px">
        <div class="creed-num" style="font-family:'Cinzel',serif;font-size:2rem;opacity:0.15;margin-bottom:0.5rem">III</div>
        <h3 style="font-family:'Cinzel',serif;font-size:1.1rem;margin-bottom:0.8rem;letter-spacing:0.1em">SECURITY IS FOUNDATION</h3>
        <p style="font-size:0.85rem;line-height:1.6;opacity:0.6">Security isn't a feature bolted on at the end. It's the bedrock. Every endpoint authenticated. Every input validated. Every secret encrypted. Every permission scoped. The castle walls must be impenetrable before the throne room is decorated.</p>
      </div>

      <div class="creed-card" style="background:rgba(255,255,255,0.02);border:1px solid rgba(255,255,255,0.05);padding:2rem;border-radius:2px">
        <div class="creed-num" style="font-family:'Cinzel',serif;font-size:2rem;opacity:0.15;margin-bottom:0.5rem">IV</div>
        <h3 style="font-family:'Cinzel',serif;font-size:1.1rem;margin-bottom:0.8rem;letter-spacing:0.1em">MEASURE EVERYTHING</h3>
        <p style="font-size:0.85rem;line-height:1.6;opacity:0.6">What you cannot observe, you cannot improve. Prometheus metrics on every service. Grafana dashboards for every flow. Alert rules for every threshold. Distributed tracing across every request. The infrastructure speaks — learn to listen.</p>
      </div>

      <div class="creed-card" style="background:rgba(255,255,255,0.02);border:1px solid rgba(255,255,255,0.05);padding:2rem;border-radius:2px">
        <div class="creed-num" style="font-family:'Cinzel',serif;font-size:2rem;opacity:0.15;margin-bottom:0.5rem">V</div>
        <h3 style="font-family:'Cinzel',serif;font-size:1.1rem;margin-bottom:0.8rem;letter-spacing:0.1em">AUTOMATE THE MUNDANE</h3>
        <p style="font-size:0.85rem;line-height:1.6;opacity:0.6">If a task is performed more than twice, it demands automation. CI/CD pipelines for deployment. Infrastructure as Code for provisioning. Automated testing for validation. Container orchestration for scaling. Human cognition is reserved for architecture — machines handle the rest.</p>
      </div>

      <div class="creed-card" style="background:rgba(255,255,255,0.02);border:1px solid rgba(255,255,255,0.05);padding:2rem;border-radius:2px">
        <div class="creed-num" style="font-family:'Cinzel',serif;font-size:2rem;opacity:0.15;margin-bottom:0.5rem">VI</div>
        <h3 style="font-family:'Cinzel',serif;font-size:1.1rem;margin-bottom:0.8rem;letter-spacing:0.1em">SIMPLICITY IS POWER</h3>
        <p style="font-size:0.85rem;line-height:1.6;opacity:0.6">The most elegant solution is the simplest one that works. No unnecessary abstractions. No premature optimization. No framework worship. Vanilla when possible, dependencies when justified. Every line of code is a liability — make each one count.</p>
      </div>

    </div>

    <div class="creed-quote" style="max-width:700px;margin:3rem auto;text-align:center;padding:2rem">
      <blockquote style="font-family:'Cinzel',serif;font-size:1.1rem;font-style:italic;opacity:0.4;line-height:1.8">
        "The infrastructure of chaos is the architecture of order — designed, deployed, and defended with conviction."
      </blockquote>
    </div>

    <!-- Tech Philosophy Details -->
    <div class="creed-details" style="max-width:900px;margin:2rem auto;padding:0 2rem">
      <div style="display:grid;grid-template-columns:1fr 1fr;gap:2rem;margin-bottom:2rem">
        <div style="background:rgba(255,255,255,0.015);padding:1.5rem;border-left:2px solid rgba(255,255,255,0.08)">
          <h4 style="font-family:'Cinzel',serif;font-size:0.9rem;margin-bottom:0.8rem;letter-spacing:0.08em;opacity:0.5">BACKEND PHILOSOPHY</h4>
          <p style="font-size:0.82rem;line-height:1.65;opacity:0.5">Django is the weapon of choice — not because it's trendy, but because it's battle-tested. The ORM, the admin, the middleware pipeline — these are tools forged in the fires of real production systems serving millions. Pair it with PostgreSQL for ACID compliance, Redis for blazing cache layers, and Celery for async task processing. Every backend decision optimizes for reliability first, performance second, developer experience third.</p>
        </div>
        <div style="background:rgba(255,255,255,0.015);padding:1.5rem;border-left:2px solid rgba(255,255,255,0.08)">
          <h4 style="font-family:'Cinzel',serif;font-size:0.9rem;margin-bottom:0.8rem;letter-spacing:0.08em;opacity:0.5">INFRASTRUCTURE PHILOSOPHY</h4>
          <p style="font-size:0.82rem;line-height:1.65;opacity:0.5">Infrastructure is code, and code is law. Terraform defines the cloud. Docker containers the runtime. Kubernetes orchestrates the fleet. Prometheus watches. Grafana visualizes. AlertManager responds. The entire stack is reproducible, version-controlled, and self-healing. No snowflake servers. No manual deployments. No configuration drift. Every environment is a clone of production — because surprises in deployment are never welcome.</p>
        </div>
      </div>
      <div style="display:grid;grid-template-columns:1fr 1fr;gap:2rem">
        <div style="background:rgba(255,255,255,0.015);padding:1.5rem;border-left:2px solid rgba(255,255,255,0.08)">
          <h4 style="font-family:'Cinzel',serif;font-size:0.9rem;margin-bottom:0.8rem;letter-spacing:0.08em;opacity:0.5">FRONTEND PHILOSOPHY</h4>
          <p style="font-size:0.82rem;line-height:1.65;opacity:0.5">Vanilla HTML, CSS, and JavaScript. No React. No Vue. No Angular. No Node.js build chains. The browser is the platform — use it directly. Modern CSS is extraordinarily powerful: Grid, Flexbox, Custom Properties, Container Queries, @layer, Scroll Animations. JavaScript has evolved beyond recognition: ES Modules, Web Components, Intersection Observer, Resize Observer, Service Workers. The web standards ARE the framework.</p>
        </div>
        <div style="background:rgba(255,255,255,0.015);padding:1.5rem;border-left:2px solid rgba(255,255,255,0.08)">
          <h4 style="font-family:'Cinzel',serif;font-size:0.9rem;margin-bottom:0.8rem;letter-spacing:0.08em;opacity:0.5">LEARNING PHILOSOPHY</h4>
          <p style="font-size:0.82rem;line-height:1.65;opacity:0.5">Tutorials are for tourists. Real learning happens in production. Break things, fix things, understand things. Read source code, not blog posts. Understand the system architecture before writing a single line. Use AI as a force multiplier for implementation, but never as a substitute for understanding. The best engineers don't memorize syntax — they internalize patterns, principles, and failure modes that transcend any single language or framework.</p>
        </div>
      </div>
    </div>
  </section>
<section id="summon">
  <div class="orn" id="ornSumTL" style="top:0;left:0;width:350px;height:350px"></div>
  <div class="orn" id="ornSumTR" style="top:0;right:0;width:350px;height:350px;transform:scaleX(-1)"></div>
  <div class="orn" id="ornSumBL" style="bottom:0;left:0;width:300px;height:300px;transform:scaleY(-1)"></div>
  <div class="orn" id="ornSumBR" style="bottom:0;right:0;width:300px;height:300px;transform:scale(-1)"></div>
  <img src="61KGqeewnFL.jpg" class="sm-bat rv" alt="">
  <h2 class="sm-t rv">Summon</h2>
  <p class="sm-s rv">Need production-grade backend systems? Reach out.</p>
  <div class="sm-lnks rv">
    <a href="/cdn-cgi/l/email-protection#156c7a6067557078747c793b767a78" class="sm-btn"><span>Email</span></a>
    <a href="https://github.com" class="sm-btn" target="_blank"><span>GitHub</span></a>
    <a href="https://solaradocs.net" class="sm-btn" target="_blank"><span>SolaraDocs</span></a>
  </div>
</section>

<!-- ════════════════════════════════════════════════════════
     FOOTER
     ════════════════════════════════════════════════════════ -->
<footer>
  <div class="orn" id="ornFoot" style="top:0;left:50%;transform:translateX(-50%);width:600px;height:60px"></div>
  <img src="avenged-sevenfold-fly-a7x-zoie-veum.jpg" class="ft-bat" alt="">
  <p class="ft-t">Solara © MMXXVI</p>
  <p class="ft-q">"Seize the day or die regretting the time you lost"</p>
</footer>

<script>
// ════════════════════════════════════════════════════════════════════════════════
// GOTHIC FILIGREE ENGINE v4 — THERMONUCLEAR EDITION
// Procedural SVG ornament generator. Thousands of elements per page load.
// Every reload = completely unique artwork.
// ════════════════════════════════════════════════════════════════════════════════
(()=>{
'use strict';

const NS='http://www.w3.org/2000/svg';
const col='#1a1a1a';
const colLight='#e8e4dc';

// ── Helpers ──
const E=(t,a)=>{const e=document.createElementNS(NS,t);for(const[k,v]of Object.entries(a))e.setAttribute(k,v);return e};
const S=(vb,w,h,op)=>{const s=document.createElementNS(NS,'svg');s.setAttribute('viewBox',vb);s.style.cssText=`width:${w};height:${h};opacity:${op}`;return s};
const R=(lo,hi)=>lo+Math.random()*(hi-lo);
const RI=(lo,hi)=>Math.floor(R(lo,hi));
const pick=arr=>arr[RI(0,arr.length)];

// ════════════════════════════════════════════════════════════════
// CURVE MATH — Catmull-Rom spline interpolation
// ════════════════════════════════════════════════════════════════
function curvePath(pts){
  if(pts.length<2)return'';
  let d=`M${pts[0].x.toFixed(1)} ${pts[0].y.toFixed(1)}`;
  if(pts.length===2){
    d+=` L${pts[1].x.toFixed(1)} ${pts[1].y.toFixed(1)}`;
    return d;
  }
  for(let i=0;i<pts.length-1;i++){
    const p0=pts[Math.max(i-1,0)];
    const p1=pts[i];
    const p2=pts[i+1];
    const p3=pts[Math.min(i+2,pts.length-1)];
    const cp1x=p1.x+(p2.x-p0.x)/6;
    const cp1y=p1.y+(p2.y-p0.y)/6;
    const cp2x=p2.x-(p3.x-p1.x)/6;
    const cp2y=p2.y-(p3.y-p1.y)/6;
    d+=` C${cp1x.toFixed(1)} ${cp1y.toFixed(1)} ${cp2x.toFixed(1)} ${cp2y.toFixed(1)} ${p2.x.toFixed(1)} ${p2.y.toFixed(1)}`;
  }
  return d;
}

// Point along curve at parameter t (0-1) for a pair of points
function lerpPt(a,b,t){return{x:a.x+(b.x-a.x)*t,y:a.y+(b.y-a.y)*t}}

// Normal vector at point i in pts array
function normalAt(pts,i){
  const prev=pts[Math.max(i-1,0)];
  const next=pts[Math.min(i+1,pts.length-1)];
  const dx=next.x-prev.x,dy=next.y-prev.y;
  const len=Math.sqrt(dx*dx+dy*dy)||1;
  return{x:-dy/len,y:dx/len};
}


// ════════════════════════════════════════════════════════════════
// 1. FILIGREE SPIRAL — mathematical Archimedean spiral
// ════════════════════════════════════════════════════════════════
function filigreeSpiral(svg,cx,cy,radius,turns,op,sw,c){
  c=c||col;
  const dir=R(0,1)>0.5?1:-1;
  const steps=Math.floor(turns*50);
  let d=`M${cx.toFixed(1)} ${cy.toFixed(1)}`;
  for(let i=1;i<=steps;i++){
    const t=i/steps;
    const a=t*turns*Math.PI*2*dir;
    const r=radius*t;
    d+=` L${(cx+Math.cos(a)*r).toFixed(1)} ${(cy+Math.sin(a)*r).toFixed(1)}`;
  }
  svg.appendChild(E('path',{d,stroke:c,'stroke-width':sw||0.4,fill:'none',opacity:op,'stroke-linecap':'round'}));
  // Dot at center
  svg.appendChild(E('circle',{cx,cy,r:sw*0.6||0.3,fill:c,opacity:op*0.5}));
}


// ════════════════════════════════════════════════════════════════
// 2. THORNY VINE — THE ABSOLUTE BEAST
// Main vine + 2 whisper vines + thorns + sub-thorns + sub-sub-thorns
// + curling tendrils + leaf buds + barbed wire effect
// ════════════════════════════════════════════════════════════════
function thornedArchway(svg,pts,strokeW,op,thornLen,density,doubleSided,c){
  if(pts.length<2)return;
  c=c||col;
  const d=curvePath(pts);

  // Main vine path
  svg.appendChild(E('path',{d,stroke:c,'stroke-width':strokeW,fill:'none',opacity:op,'stroke-linecap':'round','stroke-linejoin':'round'}));

  // Two parallel whisper vines (one each side)
  for(let side=-1;side<=1;side+=2){
    const offset=strokeW*(2.2+R(0,2))*side;
    const pts2=pts.map((p,i)=>{
      const n=normalAt(pts,i);
      return{x:p.x+n.x*offset+R(-0.5,0.5),y:p.y+n.y*offset+R(-0.5,0.5)};
    });
    svg.appendChild(E('path',{d:curvePath(pts2),stroke:c,'stroke-width':strokeW*0.28,fill:'none',opacity:op*0.22,'stroke-linecap':'round'}));
  }

  // Third ultra-thin ghost vine
  if(strokeW>0.5){
    const offset=strokeW*4.5*(R(0,1)>0.5?1:-1);
    const pts3=pts.map((p,i)=>{
      const n=normalAt(pts,i);
      return{x:p.x+n.x*offset,y:p.y+n.y*offset};
    });
    svg.appendChild(E('path',{d:curvePath(pts3),stroke:c,'stroke-width':strokeW*0.15,fill:'none',opacity:op*0.1,'stroke-linecap':'round','stroke-dasharray':'3,5'}));
  }

  // Generate thorns along every segment
  for(let i=0;i<pts.length-1;i++){
    const p=pts[i],n=pts[i+1];
    const dx=n.x-p.x,dy=n.y-p.y,segLen=Math.sqrt(dx*dx+dy*dy);
    if(segLen<1)continue;
    const segs=Math.max(1,Math.floor(density*(segLen/15)));
    const nx=-dy/segLen,ny=dx/segLen;

    for(let s=0;s<segs;s++){
      const t=(s+R(0.1,0.9))/segs;
      const x=p.x+dx*t,y=p.y+dy*t;

      // ── Main thorn (quadratic bezier, curved) ──
      const tl=thornLen*(0.35+R(0,1.3));
      const curve=R(-1,1)*tl*0.7;
      const tx=x+nx*tl,ty=y+ny*tl;
      const tmx=x+nx*tl*0.5+curve,tmy=y+ny*tl*0.5+curve;
      svg.appendChild(E('path',{d:`M${x.toFixed(1)} ${y.toFixed(1)} Q${tmx.toFixed(1)} ${tmy.toFixed(1)} ${tx.toFixed(1)} ${ty.toFixed(1)}`,stroke:c,'stroke-width':strokeW*0.5,fill:'none',opacity:op*0.6,'stroke-linecap':'round'}));

      // ── Sub-thorn (secondary branch) ──
      if(R(0,1)<0.7){
        const st=R(0.25,0.75);
        const sx=x+nx*tl*st+curve*st,sy=y+ny*tl*st+curve*st;
        const sa=Math.atan2(ty-y,tx-x)+(R(0,1)>0.5?R(0.3,1.0):-R(0.3,1.0));
        const sl=tl*R(0.28,0.6);
        const stx=sx+Math.cos(sa)*sl,sty=sy+Math.sin(sa)*sl;
        const smx=sx+Math.cos(sa)*sl*0.5+R(-2,2);
        const smy=sy+Math.sin(sa)*sl*0.5+R(-2,2);
        svg.appendChild(E('path',{d:`M${sx.toFixed(1)} ${sy.toFixed(1)} Q${smx.toFixed(1)} ${smy.toFixed(1)} ${stx.toFixed(1)} ${sty.toFixed(1)}`,stroke:c,'stroke-width':strokeW*0.28,fill:'none',opacity:op*0.35,'stroke-linecap':'round'}));

        // ── Sub-sub-thorn (tertiary) ──
        if(R(0,1)<0.45){
          const sa2=sa+(R(0,1)>0.5?R(0.4,0.8):-R(0.4,0.8));
          const sl2=sl*R(0.35,0.6);
          svg.appendChild(E('path',{d:`M${stx.toFixed(1)} ${sty.toFixed(1)} L${(stx+Math.cos(sa2)*sl2).toFixed(1)} ${(sty+Math.sin(sa2)*sl2).toFixed(1)}`,stroke:c,'stroke-width':strokeW*0.18,fill:'none',opacity:op*0.18,'stroke-linecap':'round'}));

          // ── Quaternary micro-thorn ──
          if(R(0,1)<0.3){
            const sa3=sa2+R(-0.6,0.6);
            const sl3=sl2*0.5;
            const ex=stx+Math.cos(sa2)*sl2;
            const ey=sty+Math.sin(sa2)*sl2;
            svg.appendChild(E('line',{x1:ex.toFixed(1),y1:ey.toFixed(1),x2:(ex+Math.cos(sa3)*sl3).toFixed(1),y2:(ey+Math.sin(sa3)*sl3).toFixed(1),stroke:c,'stroke-width':strokeW*0.1,opacity:op*0.1}));
          }
        }
      }

      // ── Opposite side thorn ──
      if(doubleSided){
        const tl2=thornLen*(0.2+R(0,0.9));
        const curve2=R(-1,1)*tl2*0.6;
        const tx2=x-nx*tl2,ty2=y-ny*tl2;
        svg.appendChild(E('path',{d:`M${x.toFixed(1)} ${y.toFixed(1)} Q${(x-nx*tl2*0.5+curve2).toFixed(1)} ${(y-ny*tl2*0.5+curve2).toFixed(1)} ${tx2.toFixed(1)} ${ty2.toFixed(1)}`,stroke:c,'stroke-width':strokeW*0.38,fill:'none',opacity:op*0.35,'stroke-linecap':'round'}));

        // Sub-thorn on opposite side
        if(R(0,1)<0.4){
          const sa=Math.atan2(ty2-y,tx2-x)+R(-0.8,0.8);
          const sl=tl2*R(0.3,0.5);
          svg.appendChild(E('path',{d:`M${tx2.toFixed(1)} ${ty2.toFixed(1)} L${(tx2+Math.cos(sa)*sl).toFixed(1)} ${(ty2+Math.sin(sa)*sl).toFixed(1)}`,stroke:c,'stroke-width':strokeW*0.18,fill:'none',opacity:op*0.18,'stroke-linecap':'round'}));
        }
      }

      // ── Leaf bud at some thorn tips ──
      if(R(0,1)<0.15){
        svg.appendChild(E('circle',{cx:tx.toFixed(1),cy:ty.toFixed(1),r:R(0.4,1.8),fill:c,opacity:op*0.12}));
      }
    }
  }

  // ── Curling tendrils ──
  for(let i=1;i<pts.length-1;i++){
    if(R(0,1)<0.35){
      const p=pts[i];
      const dir=R(0,1)>0.5?1:-1;
      const r=R(5,25);
      const turns=R(1,4);
      const steps=RI(25,50);
      let sd=`M${p.x.toFixed(1)} ${p.y.toFixed(1)}`;
      for(let s=1;s<=steps;s++){
        const t=s/steps;
        const a=t*turns*Math.PI*2*dir-Math.PI/2;
        sd+=` L${(p.x+Math.cos(a)*r*t*dir).toFixed(1)} ${(p.y+Math.sin(a)*r*t).toFixed(1)}`;
      }
      svg.appendChild(E('path',{d:sd,stroke:c,'stroke-width':strokeW*0.22,fill:'none',opacity:op*0.17,'stroke-linecap':'round'}));
    }
  }

  // ── Barbed wire dots along main vine ──
  if(strokeW>0.6){
    for(let i=0;i<pts.length;i+=RI(2,4)){
      if(R(0,1)<0.4){
        svg.appendChild(E('circle',{cx:pts[i].x.toFixed(1),cy:pts[i].y.toFixed(1),r:R(0.3,0.8),fill:c,opacity:op*0.2}));
      }
    }
  }
}


// ════════════════════════════════════════════════════════════════
// 3. HANGING CHAIN — alternating ellipse links, jewelry-like
// ════════════════════════════════════════════════════════════════
function chain(svg,x,y,len,op,pendR,withCross,c){
  c=c||col;
  withCross=withCross||false;
  const linkH=3.5;
  const links=Math.floor(len/linkH);
  for(let i=0;i<links;i++){
    const cy=y+i*linkH;
    const sway=Math.sin(i*0.6)*0.6;
    if(i%2===0){
      svg.appendChild(E('ellipse',{cx:x+sway,cy,rx:1.8,ry:2.5,stroke:c,'stroke-width':'0.45',fill:'none',opacity:op*0.7}));
    }else{
      svg.appendChild(E('ellipse',{cx:x+sway,cy,rx:1.1,ry:1.8,stroke:c,'stroke-width':'0.3',fill:'none',opacity:op*0.45}));
    }
    if(i%4===0) svg.appendChild(E('circle',{cx:x+sway,cy:cy+linkH*0.5,r:0.35,fill:c,opacity:op*0.25}));
  }
  const ey=y+len;

  if(pendR>0){
    // Outer diamond
    svg.appendChild(E('path',{d:`M${x} ${ey-pendR} L${x+pendR} ${ey} L${x} ${ey+pendR} L${x-pendR} ${ey} Z`,stroke:c,'stroke-width':'0.7',fill:'none',opacity:op*0.6}));
    // Inner diamond
    const ir=pendR*0.5;
    svg.appendChild(E('path',{d:`M${x} ${ey-ir} L${x+ir} ${ey} L${x} ${ey+ir} L${x-ir} ${ey} Z`,stroke:c,'stroke-width':'0.3',fill:'none',opacity:op*0.3}));
    // Center dot + halo
    svg.appendChild(E('circle',{cx:x,cy:ey,r:pendR*0.2,fill:c,opacity:op*0.25}));
    svg.appendChild(E('circle',{cx:x,cy:ey,r:pendR*1.1,stroke:c,'stroke-width':'0.2',fill:'none',opacity:op*0.1}));
    // Drip
    const dripLen=R(10,30);
    svg.appendChild(E('line',{x1:x,y1:ey+pendR,x2:x,y2:ey+pendR+dripLen,stroke:c,'stroke-width':'0.3',opacity:op*0.18,'stroke-dasharray':'1.5,3'}));
    svg.appendChild(E('circle',{cx:x,cy:ey+pendR+dripLen+2,r:R(0.8,2),fill:c,opacity:op*0.18}));
    if(R(0,1)<0.5) svg.appendChild(E('circle',{cx:x,cy:ey+pendR+dripLen+7,r:R(0.4,1),fill:c,opacity:op*0.08}));
  }

  if(withCross) miniCross(svg,x,y+len*0.4,R(6,12),op*0.45,c);
}


// ════════════════════════════════════════════════════════════════
// 4. ORNAMENTAL CROSS — THE CENTERPIECE
// Triple shaft, crown with multi-ray starburst, 4-layer center,
// spiral flourishes with counter-curls, thorny vine wrapping,
// cascade chains, filigree spirals at intersections,
// decorative tick marks, bottom fleur-de-lis suggestion
// ════════════════════════════════════════════════════════════════
function bigCross(svg,cx,cy,size,op,c){
  c=c||col;
  const h=size,w=size*0.55;
  const crossY=cy-h*0.12;

  // ── Triple-line shaft (vertical) ──
  svg.appendChild(E('line',{x1:cx,y1:cy-h/2,x2:cx,y2:cy+h/2,stroke:c,'stroke-width':Math.max(1.8,size*0.028),opacity:op,'stroke-linecap':'round'}));
  for(let off of[-1.5,1.5,-3,3]){
    const sw=Math.abs(off)>2?0.15:0.25;
    const oo=Math.abs(off)>2?0.1:0.18;
    svg.appendChild(E('line',{x1:cx+off,y1:cy-h/2+5,x2:cx+off,y2:cy+h/2-5,stroke:c,'stroke-width':sw,opacity:op*oo}));
  }

  // ── Horizontal arm ──
  svg.appendChild(E('line',{x1:cx-w/2,y1:crossY,x2:cx+w/2,y2:crossY,stroke:c,'stroke-width':Math.max(1.5,size*0.022),opacity:op,'stroke-linecap':'round'}));
  for(let off of[-1,1,-2,2]){
    const sw=Math.abs(off)>1.5?0.15:0.2;
    svg.appendChild(E('line',{x1:cx-w/2+3,y1:crossY+off,x2:cx+w/2-3,y2:crossY+off,stroke:c,'stroke-width':sw,opacity:op*0.15}));
  }

  // ── Center: 4 concentric circles + double diamond ──
  const cr=[0.14,0.1,0.065,0.035];
  cr.forEach((r,i)=>{
    svg.appendChild(E('circle',{cx,cy:crossY,r:size*r,stroke:c,'stroke-width':0.8-i*0.15,fill:'none',opacity:op*(0.5-i*0.08)}));
  });
  svg.appendChild(E('circle',{cx,cy:crossY,r:size*0.012,fill:c,opacity:op*0.5}));
  // Double diamond
  for(let dr of[size*0.1,size*0.06]){
    svg.appendChild(E('path',{d:`M${cx} ${crossY-dr} L${cx+dr} ${crossY} L${cx} ${crossY+dr} L${cx-dr} ${crossY} Z`,stroke:c,'stroke-width':dr>size*0.07?'0.5':'0.3',fill:'none',opacity:op*(dr>size*0.07?0.3:0.2)}));
  }
  // Diagonal accents from center
  for(let a=Math.PI/4;a<Math.PI*2;a+=Math.PI/2){
    svg.appendChild(E('line',{x1:cx+Math.cos(a)*size*0.15,y1:crossY+Math.sin(a)*size*0.15,x2:cx+Math.cos(a)*size*0.22,y2:crossY+Math.sin(a)*size*0.22,stroke:c,'stroke-width':'0.3',opacity:op*0.15}));
  }

  // ── TOP CROWN — spikes + starburst ──
  const ty=cy-h/2;
  svg.appendChild(E('line',{x1:cx,y1:ty,x2:cx,y2:ty-size*0.2,stroke:c,'stroke-width':'1.2',opacity:op*0.7,'stroke-linecap':'round'}));
  // Starburst
  const sr=size*0.12;
  const rays=RI(12,20);
  for(let i=0;i<rays;i++){
    const a=(i/rays)*Math.PI*2;
    const len=sr*(i%2===0?1:i%3===0?0.6:0.35)*(0.65+R(0,0.7));
    svg.appendChild(E('line',{x1:cx,y1:ty-size*0.2,x2:cx+Math.cos(a)*len,y2:ty-size*0.2+Math.sin(a)*len,stroke:c,'stroke-width':i%2===0?'0.6':'0.25',opacity:op*(i%2===0?0.45:0.2)}));
  }
  svg.appendChild(E('circle',{cx,cy:ty-size*0.2,r:sr*0.25,stroke:c,'stroke-width':'0.4',fill:'none',opacity:op*0.25}));
  // Crown spike pairs (3 tiers)
  for(let pair=0;pair<4;pair++){
    const spread=4+pair*4;
    const upLen=6+pair*5.5;
    const sop=op*(0.5-pair*0.1);
    svg.appendChild(E('path',{d:`M${cx} ${ty-pair*2.5} Q${cx-spread} ${ty-pair*2.5-upLen*0.4} ${cx-spread-R(0,5)} ${ty-pair*2.5-upLen}`,stroke:c,'stroke-width':0.7-pair*0.12,fill:'none',opacity:sop}));
    svg.appendChild(E('path',{d:`M${cx} ${ty-pair*2.5} Q${cx+spread} ${ty-pair*2.5-upLen*0.4} ${cx+spread+R(0,5)} ${ty-pair*2.5-upLen}`,stroke:c,'stroke-width':0.7-pair*0.12,fill:'none',opacity:sop}));
  }

  // ── ARM ENDS — double spiral flourishes ──
  for(let side=-1;side<=1;side+=2){
    const ax=cx+side*w/2;
    for(let dir=-1;dir<=1;dir+=2){
      let fd=`M${ax} ${crossY}`;
      const ft=R(1.2,2.8),fr=R(8,18);
      for(let s=1;s<=35;s++){
        const t=s/35;
        fd+=` L${(ax+side*t*fr+Math.cos(t*ft*Math.PI*dir)*t*fr*0.5).toFixed(1)} ${(crossY+Math.sin(t*ft*Math.PI*dir)*t*fr*0.5).toFixed(1)}`;
      }
      svg.appendChild(E('path',{d:fd,stroke:c,'stroke-width':'0.45',fill:'none',opacity:op*0.3,'stroke-linecap':'round'}));
    }
    // Thorn spikes
    for(let k=0;k<4;k++){
      const a=side>0?R(-0.6,0.6):R(Math.PI-0.6,Math.PI+0.6);
      const sl=R(4,14);
      svg.appendChild(E('line',{x1:ax,y1:crossY+R(-5,5),x2:ax+Math.cos(a)*sl,y2:crossY+R(-5,5)+Math.sin(a)*sl,stroke:c,'stroke-width':'0.4',opacity:op*0.25}));
    }
    if(R(0,1)<0.65) chain(svg,ax+side*2,crossY+2,R(8,20),op*0.18,R(1,2.5),false,c);
  }

  // ── THORNY WRAPPING on shaft ──
  const wPts=[];
  for(let y=crossY+size*0.03;y<cy+h*0.4;y+=R(4,8)){
    wPts.push({x:cx+Math.sin(y*0.08+R(-0.3,0.3))*R(2.5,7),y});
  }
  if(wPts.length>2) thornedArchway(svg,wPts,0.3,op*0.25,R(3,7),2,true,c);

  // ── BOTTOM CHAINS (cascade) ──
  const by=cy+h/2;
  chain(svg,cx,by,R(25,45),op*0.5,R(3,5.5),false,c);
  chain(svg,cx-7,by-2,R(14,28),op*0.3,R(1.5,3),false,c);
  chain(svg,cx+7,by-2,R(16,30),op*0.3,R(1.5,3),false,c);
  chain(svg,cx-14,by-5,R(8,20),op*0.18,R(1,2),false,c);
  chain(svg,cx+14,by-5,R(10,22),op*0.18,R(1,2),false,c);

  // ── Bottom fleur suggestion ──
  if(size>40){
    const fy=by+R(3,6);
    svg.appendChild(E('path',{d:`M${cx} ${fy} Q${cx-6} ${fy+8} ${cx-12} ${fy+3} M${cx} ${fy} Q${cx+6} ${fy+8} ${cx+12} ${fy+3}`,stroke:c,'stroke-width':'0.5',fill:'none',opacity:op*0.2}));
  }

  // ── Tick marks ──
  for(let y=crossY+10;y<cy+h*0.38;y+=R(5,12)){
    const tw=R(2,6);
    svg.appendChild(E('line',{x1:cx-tw,y1:y,x2:cx+tw,y2:y,stroke:c,'stroke-width':'0.25',opacity:op*0.1}));
  }

  // ── Filigree spirals at 4 intersection corners ──
  for(let sx=-1;sx<=1;sx+=2){
    for(let sy=-1;sy<=1;sy+=2){
      if(R(0,1)<0.65){
        filigreeSpiral(svg,cx+sx*size*0.09,crossY+sy*size*0.09,R(3,8),R(1,2.5),op*0.12,0.25,c);
      }
    }
  }
}


// ── MINI CROSS ──
function miniCross(svg,cx,cy,size,op,c){
  c=c||col;
  svg.appendChild(E('line',{x1:cx,y1:cy-size/2,x2:cx,y2:cy+size/2,stroke:c,'stroke-width':'0.9',opacity:op}));
  svg.appendChild(E('line',{x1:cx-size*0.35,y1:cy-size*0.15,x2:cx+size*0.35,y2:cy-size*0.15,stroke:c,'stroke-width':'0.9',opacity:op}));
  svg.appendChild(E('circle',{cx,cy:cy-size*0.15,r:size*0.14,stroke:c,'stroke-width':'0.4',fill:'none',opacity:op*0.45}));
  svg.appendChild(E('circle',{cx,cy:cy-size*0.15,r:size*0.05,fill:c,opacity:op*0.3}));
  svg.appendChild(E('line',{x1:cx,y1:cy-size/2,x2:cx,y2:cy-size/2-size*0.12,stroke:c,'stroke-width':'0.35',opacity:op*0.35}));
  svg.appendChild(E('line',{x1:cx,y1:cy+size/2,x2:cx,y2:cy+size/2+size*0.1,stroke:c,'stroke-width':'0.25',opacity:op*0.2,'stroke-dasharray':'1,2.5'}));
}


// ── STARBURST / MEDALLION ──
function starburst(svg,cx,cy,r,rays,op,c){
  c=c||col;
  for(let i=0;i<rays;i++){
    const a=(i/rays)*Math.PI*2;
    const len=r*(0.3+R(0,0.7));
    const sw=i%2===0?0.6:i%3===0?0.35:0.2;
    svg.appendChild(E('line',{x1:cx,y1:cy,x2:cx+Math.cos(a)*len,y2:cy+Math.sin(a)*len,stroke:c,'stroke-width':sw,opacity:op*(i%2===0?0.5:0.22)}));
  }
  svg.appendChild(E('circle',{cx,cy,r:r*0.25,stroke:c,'stroke-width':'0.6',fill:'none',opacity:op*0.45}));
  svg.appendChild(E('circle',{cx,cy,r:r*0.12,stroke:c,'stroke-width':'0.3',fill:'none',opacity:op*0.3}));
  svg.appendChild(E('circle',{cx,cy,r:r*0.04,fill:c,opacity:op*0.4}));
  svg.appendChild(E('circle',{cx,cy,r:r*0.85,stroke:c,'stroke-width':'0.2',fill:'none',opacity:op*0.1}));
}


// ── INSCRIPTION LINES (manuscript simulation) ──
function inscriptions(svg,x,y,w,h,op,c){
  c=c||col;
  for(let ly=y;ly<y+h;ly+=R(2.5,5.5)){
    const lx=x+R(0,12);
    const lw=w*(0.15+R(0,0.75));
    svg.appendChild(E('line',{x1:lx,y1:ly,x2:lx+lw,y2:ly,stroke:c,'stroke-width':'0.22',opacity:op*R(0.15,0.65)}));
    if(R(0,1)<0.35){
      for(let dx=0;dx<lw;dx+=R(5,12)){
        svg.appendChild(E('circle',{cx:lx+dx,cy:ly,r:0.25,fill:c,opacity:op*0.15}));
      }
    }
  }
}


// ════════════════════════════════════════════════════════════════
// 5. GOTHIC ARCH FRAME — pointed arch with tracery
// ════════════════════════════════════════════════════════════════
function gothicArch(svg,cx,cy,w,h,op,c){
  c=c||col;
  // Pointed arch outline
  const hw=w/2;
  svg.appendChild(E('path',{d:`M${cx-hw} ${cy+h*0.4} Q${cx-hw} ${cy-h*0.2} ${cx} ${cy-h*0.5} Q${cx+hw} ${cy-h*0.2} ${cx+hw} ${cy+h*0.4}`,stroke:c,'stroke-width':'1',fill:'none',opacity:op*0.3}));
  // Inner arch
  svg.appendChild(E('path',{d:`M${cx-hw+6} ${cy+h*0.35} Q${cx-hw+6} ${cy-h*0.15} ${cx} ${cy-h*0.45} Q${cx+hw-6} ${cy-h*0.15} ${cx+hw-6} ${cy+h*0.35}`,stroke:c,'stroke-width':'0.4',fill:'none',opacity:op*0.15}));
  // Trefoil at top
  const tr=w*0.06;
  const tp=cy-h*0.48;
  svg.appendChild(E('circle',{cx,cy:tp-tr,r:tr,stroke:c,'stroke-width':'0.4',fill:'none',opacity:op*0.2}));
  svg.appendChild(E('circle',{cx:cx-tr*1.3,cy:tp,r:tr*0.85,stroke:c,'stroke-width':'0.3',fill:'none',opacity:op*0.15}));
  svg.appendChild(E('circle',{cx:cx+tr*1.3,cy:tp,r:tr*0.85,stroke:c,'stroke-width':'0.3',fill:'none',opacity:op*0.15}));
  // Hanging chain from apex
  chain(svg,cx,cy-h*0.45,R(15,30),op*0.2,R(1.5,3),false,c);
}


// ════════════════════════════════════════════════════════════════
// 6. ROSE WINDOW — radial symmetry ornament
// ════════════════════════════════════════════════════════════════
function roseWindow(svg,cx,cy,r,op,c){
  c=c||col;
  const petals=RI(6,10);
  // Outer circle
  svg.appendChild(E('circle',{cx,cy,r,stroke:c,'stroke-width':'0.6',fill:'none',opacity:op*0.3}));
  svg.appendChild(E('circle',{cx,cy,r:r*0.85,stroke:c,'stroke-width':'0.3',fill:'none',opacity:op*0.15}));
  // Petals
  for(let i=0;i<petals;i++){
    const a=(i/petals)*Math.PI*2;
    const a2=((i+0.5)/petals)*Math.PI*2;
    const pr=r*0.6;
    svg.appendChild(E('path',{d:`M${cx} ${cy} Q${cx+Math.cos(a)*pr} ${cy+Math.sin(a)*pr} ${cx+Math.cos(a2)*r*0.75} ${cy+Math.sin(a2)*r*0.75}`,stroke:c,'stroke-width':'0.35',fill:'none',opacity:op*0.2}));
    svg.appendChild(E('path',{d:`M${cx} ${cy} Q${cx+Math.cos(a)*pr} ${cy+Math.sin(a)*pr} ${cx+Math.cos(a-0.15)*r*0.75} ${cy+Math.sin(a-0.15)*r*0.75}`,stroke:c,'stroke-width':'0.25',fill:'none',opacity:op*0.12}));
  }
  // Center starburst
  starburst(svg,cx,cy,r*0.3,petals*2,op*0.5,c);
}


// ════════════════════════════════════════════════════════════════
// 7. CANDELABRA — multi-arm hanging structure
// ════════════════════════════════════════════════════════════════
function candelabra(svg,cx,cy,w,h,op,c){
  c=c||col;
  const arms=RI(3,6);
  // Central pillar
  svg.appendChild(E('line',{x1:cx,y1:cy,x2:cx,y2:cy+h*0.4,stroke:c,'stroke-width':'0.8',opacity:op*0.5}));
  chain(svg,cx,cy,h*0.15,op*0.6,0,false,c);
  // Arms branching out
  for(let i=0;i<arms;i++){
    const t=(i+0.5)/arms;
    const armY=cy+h*0.15+t*h*0.25;
    for(let side=-1;side<=1;side+=2){
      const armW=w*0.3*t+R(5,15);
      svg.appendChild(E('path',{d:`M${cx} ${armY} Q${cx+side*armW*0.5} ${armY-5} ${cx+side*armW} ${armY+5}`,stroke:c,'stroke-width':'0.5',fill:'none',opacity:op*0.3}));
      chain(svg,cx+side*armW,armY+5,R(15,35),op*0.25,R(1,2.5),R(0,1)<0.3,c);
    }
  }
  // Bottom big pendant
  bigCross(svg,cx,cy+h*0.55,R(20,35),op*0.4,c);
}


// ════════════════════════════════════════════════════════════════
// 8. WROUGHT IRON GATE — vertical bar pattern
// ════════════════════════════════════════════════════════════════
function ironGate(svg,x,y,w,h,op,c){
  c=c||col;
  const bars=RI(5,10);
  const gap=w/(bars+1);
  for(let i=1;i<=bars;i++){
    const bx=x+gap*i;
    svg.appendChild(E('line',{x1:bx,y1:y,x2:bx,y2:y+h,stroke:c,'stroke-width':'0.5',opacity:op*0.2}));
    // Spearpoint at top
    svg.appendChild(E('path',{d:`M${bx} ${y} L${bx-2} ${y+5} L${bx+2} ${y+5} Z`,stroke:c,'stroke-width':'0.3',fill:'none',opacity:op*0.15}));
    // Scroll at bottom
    if(R(0,1)<0.5){
      const dir=R(0,1)>0.5?1:-1;
      svg.appendChild(E('path',{d:`M${bx} ${y+h} Q${bx+dir*5} ${y+h+3} ${bx+dir*8} ${y+h-2}`,stroke:c,'stroke-width':'0.3',fill:'none',opacity:op*0.12}));
    }
  }
  // Horizontal cross-bar
  svg.appendChild(E('line',{x1:x,y1:y+h*0.3,x2:x+w,y2:y+h*0.3,stroke:c,'stroke-width':'0.4',opacity:op*0.15}));
  svg.appendChild(E('line',{x1:x,y1:y+h*0.7,x2:x+w,y2:y+h*0.7,stroke:c,'stroke-width':'0.4',opacity:op*0.15}));
}


// ════════════════════════════════════════════════════════════════
// 9. BONE LATTICE — diamond crosshatch pattern
// ════════════════════════════════════════════════════════════════
function boneLattice(svg,x,y,w,h,spacing,op,c){
  c=c||col;
  const sp=spacing||15;
  for(let ly=y;ly<y+h;ly+=sp){
    for(let lx=x;lx<x+w;lx+=sp){
      svg.appendChild(E('line',{x1:lx,y1:ly,x2:lx+sp*0.5,y2:ly+sp*0.5,stroke:c,'stroke-width':'0.2',opacity:op*R(0.1,0.3)}));
      svg.appendChild(E('line',{x1:lx+sp,y1:ly,x2:lx+sp*0.5,y2:ly+sp*0.5,stroke:c,'stroke-width':'0.2',opacity:op*R(0.1,0.3)}));
      if(R(0,1)<0.15){
        svg.appendChild(E('circle',{cx:lx+sp*0.5,cy:ly+sp*0.5,r:R(0.3,0.8),fill:c,opacity:op*0.1}));
      }
    }
  }
}


// ════════════════════════════════════════════════════════════════════════════════
// BUILD CORNER ORNAMENT — THE ABSOLUTE BEAST
// 600x600, 6 vine layers, 8+ crosses, starbursts everywhere, chains from
// every curve, inscriptions, radial tendrils, filigree spirals, rose windows,
// bone lattice, iron gate fragments. 500+ elements each.
// ════════════════════════════════════════════════════════════════════════════════
function buildCorner(container){
  const svg=S('0 0 600 600','100%','100%','0.25');

  // ── LAYER 1: Main heavy curve ──
  const m1=[];
  for(let i=0;i<=30;i++){
    const t=i/30;
    m1.push({x:t*t*580*(0.83+Math.sin(t*10)*0.04),y:(1-t)*(1-t)*580*(0.83+Math.cos(t*10)*0.04)});
  }
  thornedArchway(svg,m1,2,1,22,4,true);

  // ── LAYER 2: Inner curve ──
  const m2=[];
  for(let i=0;i<=26;i++){
    const t=i/26;
    m2.push({x:t*t*540*(0.86+Math.sin(t*8)*0.04)+12,y:(1-t)*(1-t)*540*(0.86+Math.cos(t*8)*0.04)+12});
  }
  thornedArchway(svg,m2,1.1,0.6,16,3.5,true);

  // ── LAYER 3: Outer whisper ──
  const m3=[];
  for(let i=0;i<=22;i++){
    const t=i/22;
    m3.push({x:t*t*610*0.82,y:(1-t)*(1-t)*610*0.82});
  }
  thornedArchway(svg,m3,0.55,0.3,12,3,true);

  // ── LAYER 4: Deep inner ──
  const m4=[];
  for(let i=0;i<=20;i++){
    const t=i/20;
    m4.push({x:t*t*480+28,y:(1-t)*(1-t)*480+28});
  }
  thornedArchway(svg,m4,0.4,0.2,8,2.5,false);

  // ── LAYER 5: Ultra-inner delicate ──
  const m5=[];
  for(let i=0;i<=16;i++){
    const t=i/16;
    m5.push({x:t*t*400+50,y:(1-t)*(1-t)*400+50});
  }
  thornedArchway(svg,m5,0.25,0.12,5,1.5,false);

  // ── LAYER 6: Outer-outer ghost ──
  const m6=[];
  for(let i=0;i<=18;i++){
    const t=i/18;
    m6.push({x:t*t*620*0.78-5,y:(1-t)*(1-t)*620*0.78-5});
  }
  thornedArchway(svg,m6,0.3,0.08,6,1.5,false);

  // ── BIG CROSSES (4) ──
  bigCross(svg,55+R(0,20),220+R(0,25),R(58,80),0.8);
  bigCross(svg,180+R(0,20),340+R(0,20),R(42,60),0.55);
  bigCross(svg,25+R(0,12),100+R(0,18),R(30,42),0.42);
  bigCross(svg,300+R(0,20),430+R(0,15),R(25,38),0.3);

  // ── MINI CROSSES (8) ──
  for(let k=0;k<8;k++){
    const t=R(0.15,0.85);
    const mx=t*t*520,my=(1-t)*(1-t)*520;
    miniCross(svg,mx+R(-15,15),my+R(-15,15),R(6,16),R(0.12,0.35));
  }

  // ── STARBURSTS (6) ──
  starburst(svg,6,6,R(35,50),RI(18,28),0.95);
  starburst(svg,R(45,75),R(160,190),R(14,22),RI(10,16),0.48);
  starburst(svg,R(190,230),R(340,380),R(10,18),RI(8,14),0.35);
  starburst(svg,R(330,370),R(430,460),R(7,12),RI(6,10),0.22);
  starburst(svg,R(100,140),R(260,290),R(6,10),RI(5,8),0.18);
  starburst(svg,R(400,440),R(480,510),R(5,8),RI(5,7),0.12);

  // ── CHAINS from main curve (every point) ──
  for(let i=2;i<m1.length-2;i++){
    if(R(0,1)<0.7){
      chain(svg,m1[i].x+R(-4,4),m1[i].y+R(3,10),R(15,60),R(0.18,0.5),R(1.5,4),R(0,1)<0.2);
    }
  }
  // ── CHAINS from inner curve ──
  for(let i=2;i<m2.length-2;i+=2){
    chain(svg,m2[i].x+R(2,8),m2[i].y+R(2,6),R(10,40),R(0.12,0.3),R(1,3),false);
  }

  // ── INSCRIPTIONS ──
  inscriptions(svg,8,340,150,140,0.16);
  inscriptions(svg,2,180,80,100,0.1);
  inscriptions(svg,60,450,100,60,0.08);

  // ── RADIAL TENDRILS from origin (12) ──
  for(let i=0;i<12;i++){
    const a=R(0.03,1.3);
    const pts=[];
    for(let t=0;t<RI(4,10);t++){
      pts.push({x:Math.cos(a)*t*R(12,24)+R(-5,5),y:Math.sin(a)*t*R(12,24)+R(-5,5)});
    }
    thornedArchway(svg,pts,R(0.15,0.5),R(0.1,0.35),R(3,9),R(0.8,2),false);
  }

  // ── FILIGREE SPIRALS (8) ──
  for(let i=0;i<8;i++){
    const t=R(0.08,0.85);
    filigreeSpiral(svg,t*t*500+R(-25,25),(1-t)*(1-t)*500+R(-25,25),R(5,18),R(1.5,3.5),R(0.06,0.2),R(0.2,0.4));
  }

  // ── ROSE WINDOW near origin ──
  roseWindow(svg,R(20,50),R(20,50),R(15,30),0.15);

  // ── BONE LATTICE in gap ──
  boneLattice(svg,R(200,260),R(380,420),80,80,R(10,18),0.06);

  container.appendChild(svg);
}


// ════════════════════════════════════════════════════════════════
// BUILD HANGING CHANDELIER — dripping jewelry from ceiling
// ════════════════════════════════════════════════════════════════
function buildHanging(container,w,h,complexity){
  const svg=S(`0 0 ${w} ${h}`,'100%','100%','0.22');
  const cx=w/2;

  starburst(svg,cx,5,R(10,18),RI(10,18),0.9);
  chain(svg,cx,12,h*0.25,0.95,R(3,5.5),true);
  bigCross(svg,cx,h*0.4,R(40,60),0.85);

  if(complexity>1){
    miniCross(svg,cx,h*0.6,R(12,20),0.4);
    roseWindow(svg,cx,h*0.75,R(6,12),0.15);
  }

  // Cascade chains (9 total)
  const chainPositions=[
    [cx-16,h*0.54,h*0.2,0.55],
    [cx+16,h*0.54,h*0.2,0.55],
    [cx,h*0.6,h*0.25,0.65],
    [cx-28,h*0.5,h*0.15,0.35],
    [cx+28,h*0.5,h*0.15,0.35],
    [cx-8,h*0.66,h*0.14,0.3],
    [cx+8,h*0.66,h*0.14,0.3],
    [cx-20,h*0.62,h*0.1,0.2],
    [cx+20,h*0.62,h*0.1,0.2],
  ];
  chainPositions.forEach(([x,y,len,op])=>chain(svg,x,y,len,op,R(1.5,3.5),false));

  if(complexity>1){
    for(let side=-1;side<=1;side+=2){
      const pts=[{x:cx,y:h*0.16}];
      for(let i=1;i<RI(5,9);i++) pts.push({x:cx+side*(i*R(6,13)),y:h*0.16+i*R(10,18)});
      thornedArchway(svg,pts,0.5,0.45,R(5,10),2.5,true);
      chain(svg,pts[pts.length-1].x,pts[pts.length-1].y,R(18,40),0.3,R(1.5,3),false);

      if(complexity>2){
        const pts2=[{x:cx,y:h*0.32}];
        for(let i=1;i<RI(3,7);i++) pts2.push({x:cx+side*(i*R(7,15)),y:h*0.32+i*R(13,22)});
        thornedArchway(svg,pts2,0.35,0.3,R(4,8),1.8,true);
        chain(svg,pts2[pts2.length-1].x,pts2[pts2.length-1].y,R(12,30),0.2,R(1,2.5),false);
      }
    }
  }

  filigreeSpiral(svg,cx-R(15,30),h*0.28,R(5,12),R(1,2.5),0.15,0.3);
  filigreeSpiral(svg,cx+R(15,30),h*0.28,R(5,12),R(1,2.5),0.15,0.3);

  container.appendChild(svg);
}


// ════════════════════════════════════════════════════════════════
// BUILD SIDE ORNAMENT — vertical filigree spine
// ════════════════════════════════════════════════════════════════
function buildSide(container,w,h,inv,c){
  c=c||col;
  const svg=S(`0 0 ${w} ${h}`,'100%','100%',inv?'0.15':'0.22');
  const cx=w/2;

  // Primary vine
  const pts=[];
  for(let y=0;y<h;y+=R(6,12)) pts.push({x:cx+Math.sin(y*0.02+R(-0.2,0.2))*R(10,22),y});
  thornedArchway(svg,pts,0.9,0.9,R(9,16),3,true,c);

  // Secondary vine
  const pts2=[];
  for(let y=8;y<h-8;y+=R(9,15)) pts2.push({x:cx+Math.sin(y*0.028+1)*R(7,15)+R(-3,3),y});
  thornedArchway(svg,pts2,0.35,0.35,R(4,8),1.8,false,c);

  // Tertiary ghost vine
  const pts3=[];
  for(let y=15;y<h-15;y+=R(12,20)) pts3.push({x:cx+Math.sin(y*0.035-0.5)*R(5,12),y});
  thornedArchway(svg,pts3,0.2,0.15,R(3,5),1,false,c);

  // 3 big crosses
  bigCross(svg,cx,h*R(0.1,0.18),R(22,34),0.6,c);
  bigCross(svg,cx,h*R(0.44,0.56),R(26,40),0.55,c);
  bigCross(svg,cx,h*R(0.76,0.86),R(20,30),0.45,c);

  // 4 mini crosses
  for(let k=0;k<4;k++){
    miniCross(svg,cx+R(-6,6),h*(0.22+k*0.2)+R(-10,10),R(6,14),R(0.15,0.35),c);
  }

  // Chains
  for(let k=0;k<5;k++){
    chain(svg,cx+R(-4,4),h*(0.15+k*0.18)+R(-5,5),R(15,40),R(0.18,0.4),R(1,3),false,c);
  }

  // Starbursts
  starburst(svg,cx,h*0.01,R(5,10),RI(5,10),0.5,c);
  starburst(svg,cx,h*R(0.38,0.45),R(4,8),RI(4,8),0.3,c);
  starburst(svg,cx,h*0.72,R(3,7),RI(4,7),0.22,c);

  inscriptions(svg,1,h*0.3,w-2,R(50,80),0.07,c);
  inscriptions(svg,1,h*0.7,w-2,R(30,50),0.05,c);

  // Iron gate fragment
  ironGate(svg,cx-w*0.3,h*R(0.55,0.6),w*0.6,R(30,50),0.08,c);

  container.appendChild(svg);
}


// ════════════════════════════════════════════════════════════════
// BUILD DIVIDER — full-width thorny bar between sections
// ════════════════════════════════════════════════════════════════
function buildDivider(container){
  const svg=S('0 0 1400 200','100%','200px','0.28');

  // Central cross
  bigCross(svg,700,100,R(90,110),1);

  // Rose windows flanking cross
  roseWindow(svg,R(550,580),R(90,110),R(15,25),0.2);
  roseWindow(svg,R(820,850),R(90,110),R(15,25),0.2);

  // Left vine
  const lP=[];
  for(let x=630;x>-10;x-=R(14,24)) lP.push({x,y:78+Math.sin(x*0.016)*14+R(-6,6)});
  thornedArchway(svg,lP,1.6,0.9,R(16,24),3.5,true);

  // Right vine
  const rP=[];
  for(let x=770;x<1410;x+=R(14,24)) rP.push({x,y:78+Math.sin(x*0.016)*14+R(-6,6)});
  thornedArchway(svg,rP,1.6,0.9,R(16,24),3.5,true);

  // Secondary vines
  const lP2=[];
  for(let x=610;x>20;x-=R(22,35)) lP2.push({x,y:95+Math.sin(x*0.022)*10+R(-4,4)});
  thornedArchway(svg,lP2,0.55,0.3,R(6,12),1.8,false);

  const rP2=[];
  for(let x=790;x<1380;x+=R(22,35)) rP2.push({x,y:95+Math.sin(x*0.022)*10+R(-4,4)});
  thornedArchway(svg,rP2,0.55,0.3,R(6,12),1.8,false);

  // Chains everywhere
  for(let x=R(50,90);x<1400;x+=R(35,70)){
    if(Math.abs(x-700)>70){
      chain(svg,x,R(78,100),R(15,50),R(0.15,0.45),R(1,3.5),R(0,1)<0.18);
    }
  }

  // Mini crosses along vines (8)
  for(let k=0;k<8;k++){
    const x=R(50,1350);
    if(Math.abs(x-700)>100) miniCross(svg,x,R(60,80),R(6,16),R(0.15,0.38));
  }

  // Starbursts at ends + middle
  starburst(svg,R(15,40),R(70,85),R(10,18),RI(8,16),0.55);
  starburst(svg,R(1360,1385),R(70,85),R(10,18),RI(8,16),0.55);
  starburst(svg,R(240,280),R(72,82),R(5,9),RI(5,8),0.2);
  starburst(svg,R(1120,1160),R(72,82),R(5,9),RI(5,8),0.2);

  container.appendChild(svg);
}


// ════════════════════════════════════════════════════════════════
// BUILD BOTTOM ORNAMENT (below hero scroll)
// ════════════════════════════════════════════════════════════════
function buildBottom(container){
  const svg=S('0 0 400 160','100%','100%','0.18');
  const pts=[];
  for(let x=0;x<400;x+=R(12,20)) pts.push({x,y:35+Math.sin(x*0.035)*R(5,10)});
  thornedArchway(svg,pts,0.7,0.7,R(9,14),2.5,true);
  // Second vine
  const pts2=[];
  for(let x=20;x<380;x+=R(18,28)) pts2.push({x,y:50+Math.sin(x*0.04+1)*R(3,7)});
  thornedArchway(svg,pts2,0.3,0.25,R(4,7),1.5,false);

  bigCross(svg,200,32,R(18,26),0.55);
  chain(svg,200,55,R(55,80),0.5,R(2.5,4.5),false);
  chain(svg,175,52,R(35,55),0.3,R(1.5,3),false);
  chain(svg,225,52,R(40,60),0.3,R(1.5,3),false);
  chain(svg,150,48,R(20,35),0.2,R(1,2),false);
  chain(svg,250,48,R(25,40),0.2,R(1,2),false);
  chain(svg,120,45,R(15,25),0.12,R(0.5,1.5),false);
  chain(svg,280,45,R(18,28),0.12,R(0.5,1.5),false);
  starburst(svg,200,30,R(5,8),8,0.3);
  container.appendChild(svg);
}


// ════════════════════════════════════════════════════════════════
// BUILD INTRO CROSS (loading screen)
// ════════════════════════════════════════════════════════════════
function buildIntro(){
  const c=document.getElementById('introOrn');
  const svg=S('0 0 240 400','240px','400px','0.3');
  bigCross(svg,120,175,260,1);

  const pts=[];
  for(let y=50;y<300;y+=R(5,9)) pts.push({x:120+Math.sin(y*0.06+R(-0.2,0.2))*R(4,9),y});
  thornedArchway(svg,pts,0.55,0.42,R(6,10),3,true);

  const hPts=[];
  for(let x=45;x<195;x+=R(5,9)) hPts.push({x,y:145+R(-3,3)});
  thornedArchway(svg,hPts,0.45,0.35,R(5,9),2.5,true);

  starburst(svg,120,25,R(18,28),RI(14,22),0.8);
  inscriptions(svg,60,310,120,55,0.12);
  filigreeSpiral(svg,55,95,R(6,12),R(1.5,3),0.15,0.3);
  filigreeSpiral(svg,185,95,R(6,12),R(1.5,3),0.15,0.3);
  roseWindow(svg,120,60,R(8,14),0.12);

  c.appendChild(svg);
}


// ════════════════════════════════════════════════════════════════
// BUILD SUMMON CORNER
// ════════════════════════════════════════════════════════════════
function buildSummonCorner(container){
  const svg=S('0 0 350 350','100%','100%','0.15');
  const pts=[];
  for(let i=0;i<=18;i++){
    const t=i/18;
    pts.push({x:t*t*330,y:(1-t)*(1-t)*330});
  }
  thornedArchway(svg,pts,1,0.75,R(9,16),3,true);

  const pts2=[];
  for(let i=0;i<=14;i++){
    const t=i/14;
    pts2.push({x:t*t*300+12,y:(1-t)*(1-t)*300+12});
  }
  thornedArchway(svg,pts2,0.45,0.3,R(5,9),2,false);

  bigCross(svg,R(35,55),R(95,120),R(28,40),0.5);
  miniCross(svg,R(100,140),R(190,220),R(10,16),0.35);
  miniCross(svg,R(180,210),R(260,280),R(7,12),0.22);
  chain(svg,R(55,80),R(140,175),R(20,40),0.3,R(1.5,3),false);
  starburst(svg,5,5,R(14,22),RI(10,16),0.65);
  starburst(svg,R(140,170),R(230,260),R(5,9),RI(5,8),0.2);
  inscriptions(svg,4,220,100,70,0.08);

  for(let i=0;i<5;i++){
    const a=R(0.08,1.1);
    const rpts=[];
    for(let t=0;t<RI(3,7);t++) rpts.push({x:Math.cos(a)*t*R(12,20)+R(-3,3),y:Math.sin(a)*t*R(12,20)+R(-3,3)});
    thornedArchway(svg,rpts,R(0.2,0.4),R(0.12,0.3),R(3,7),R(0.8,1.5),false);
  }

  roseWindow(svg,R(15,35),R(15,35),R(8,14),0.1);

  container.appendChild(svg);
}


// ════════════════════════════════════════════════════════════════
// BUILD GOTHIC ARCH (hero top decoration)
// ════════════════════════════════════════════════════════════════
function buildGothicArch(container){
  const svg=S('0 0 800 200','100%','100%','0.1');
  gothicArch(svg,400,120,600,200,0.8);
  // Smaller inner arch
  gothicArch(svg,400,125,480,170,0.4);
  // Tracery vines inside
  const lPts=[];
  for(let t=0;t<=1;t+=0.05) lPts.push({x:400-280*t,y:120-80*Math.sin(t*Math.PI)});
  thornedArchway(svg,lPts,0.3,0.15,5,1.5,false);
  const rPts=[];
  for(let t=0;t<=1;t+=0.05) rPts.push({x:400+280*t,y:120-80*Math.sin(t*Math.PI)});
  thornedArchway(svg,rPts,0.3,0.15,5,1.5,false);

  // Hanging elements from arch
  for(let x=200;x<600;x+=R(60,100)){
    chain(svg,x,R(60,90),R(15,35),0.15,R(1,2.5),false);
  }

  container.appendChild(svg);
}


// ════════════════════════════════════════════════════════════════
// BUILD FOOTER ORNAMENT
// ════════════════════════════════════════════════════════════════
function buildFooterOrn(container){
  const svg=S('0 0 600 60','100%','100%','0.12');
  const pts=[];
  for(let x=0;x<600;x+=R(18,28)) pts.push({x,y:30+Math.sin(x*0.02)*R(3,8)});
  thornedArchway(svg,pts,0.5,0.5,R(5,10),2,true);
  miniCross(svg,300,28,R(10,16),0.4);
  chain(svg,300,40,R(12,20),0.2,R(1,2),false);
  starburst(svg,300,28,R(4,7),6,0.25);
  container.appendChild(svg);
}


// ════════════════════════════════════════════════════════════════
// BUILD BACKGROUND FILIGREE (full page, very faint)
// ════════════════════════════════════════════════════════════════
function buildBgFiligree(){
  const el=document.getElementById('bgFiligree');
  if(!el)return;
  const svg=S('0 0 1200 4000','100%','100%','1');

  // Scattered faint crosses
  for(let i=0;i<30;i++){
    miniCross(svg,R(50,1150),R(50,3950),R(8,20),R(0.03,0.1));
  }
  // Scattered starbursts
  for(let i=0;i<20;i++){
    starburst(svg,R(50,1150),R(50,3950),R(6,14),RI(5,10),R(0.02,0.08));
  }
  // Scattered filigree spirals
  for(let i=0;i<25;i++){
    filigreeSpiral(svg,R(50,1150),R(50,3950),R(8,25),R(1,3),R(0.02,0.06),R(0.15,0.3));
  }
  // Scattered inscription blocks
  for(let i=0;i<15;i++){
    inscriptions(svg,R(50,800),R(50,3800),R(80,200),R(30,80),R(0.02,0.05));
  }
  // A few faint bone lattice areas
  for(let i=0;i<6;i++){
    boneLattice(svg,R(50,900),R(100,3500),R(100,250),R(80,200),R(12,25),R(0.015,0.04));
  }
  // Faint rose windows
  for(let i=0;i<8;i++){
    roseWindow(svg,R(100,1100),R(200,3800),R(15,40),R(0.02,0.05));
  }

  el.appendChild(svg);
}


// ════════════════════════════════════════════════════════════════
// BUILD SECTION BOTTOM BAR
// ════════════════════════════════════════════════════════════════
function buildSectionBar(container){
  const svg=S('0 0 500 100','100%','100%','0.12');
  const pts=[];
  for(let x=0;x<500;x+=R(16,26)) pts.push({x,y:40+Math.sin(x*0.03)*R(4,8)});
  thornedArchway(svg,pts,0.5,0.5,R(6,10),2,true);
  miniCross(svg,250,38,R(10,16),0.4);
  chain(svg,250,52,R(20,35),0.25,R(1.5,2.5),false);
  starburst(svg,250,38,R(3,6),6,0.2);
  container.appendChild(svg);
}


// ════════════════════════════════════════════════════════════════════════════════
// INIT — GENERATE ALL ORNAMENTS
// ════════════════════════════════════════════════════════════════════════════════

buildIntro();
buildBgFiligree();

// Hero corners (4 massive pieces)
buildCorner(document.getElementById('ornTL'));
buildCorner(document.getElementById('ornTR'));
buildCorner(document.getElementById('ornBL'));
buildCorner(document.getElementById('ornBR'));

// Hero chandeliers (5)
buildHanging(document.getElementById('ornHL'),180,650,3);
buildHanging(document.getElementById('ornHR'),180,650,3);
buildHanging(document.getElementById('ornHC'),140,550,3);
buildHanging(document.getElementById('ornHL2'),120,500,2);
buildHanging(document.getElementById('ornHR2'),120,500,2);

// Hero sides
buildSide(document.getElementById('ornSL'),140,600);
buildSide(document.getElementById('ornSR'),140,600);

// Hero bottom
buildBottom(document.getElementById('ornBot'));

// Gothic arch
const archEl=document.getElementById('ornArch');
if(archEl) buildGothicArch(archEl);

// Dividers
buildDivider(document.getElementById('div1'));
buildDivider(document.getElementById('div2'));
buildDivider(document.getElementById('div3'));
buildDivider(document.getElementById('div4'));

// Section side ornaments
['ornAR','ornAL','ornCL','ornCR'].forEach(id=>{
  const el=document.getElementById(id);
  if(el) buildSide(el,140,800);
});
const ornArR=document.getElementById('ornArR');
if(ornArR) buildSide(ornArR,140,700,true);
const ornArL=document.getElementById('ornArL');
if(ornArL) buildSide(ornArL,140,700,true);
const ornChL=document.getElementById('ornChL');
if(ornChL) buildSide(ornChL,140,600,true,colLight);
const ornChR=document.getElementById('ornChR');
if(ornChR) buildSide(ornChR,140,600,true,colLight);

// About bottom bar
const ornABot=document.getElementById('ornABot');
if(ornABot) buildSectionBar(ornABot);

// Summon corners (4)
['ornSumTL','ornSumTR','ornSumBL','ornSumBR'].forEach(id=>{
  const el=document.getElementById(id);
  if(el) buildSummonCorner(el);
});

// Footer ornament
const ornFoot=document.getElementById('ornFoot');
if(ornFoot) buildFooterOrn(ornFoot);


// ════════════════════════════════════════════════════════════════
// INTRO SEQUENCE
// ════════════════════════════════════════════════════════════════
setTimeout(()=>{
  document.getElementById('introOrn').classList.add('show');
  document.getElementById('it').classList.add('show');
},300);
setTimeout(()=>{
  document.getElementById('intro').classList.add('gone');
  document.getElementById('nav').classList.add('show');
  shatter();
},2800);

function shatter(){
  const el=document.getElementById('ht');
  const text=el.textContent;
  el.innerHTML='';
  [...text].forEach((ch,i)=>{
    const s=document.createElement('span');
    s.className='ch';
    s.textContent=ch===' '?'\u00A0':ch;
    const rx=(Math.random()-0.5)*160;
    const ry=(Math.random()-0.5)*120;
    const rr=(Math.random()-0.5)*45;
    s.style.transform=`translate(${rx}px,${ry}px) rotate(${rr}deg)`;
    s.style.transitionDelay=`${i*0.1+0.3}s`;
    el.appendChild(s);
  });
  setTimeout(()=>el.classList.add('go'),100);
  setTimeout(()=>document.getElementById('hb').classList.add('br'),3000);
}


// ════════════════════════════════════════════════════════════════
// FILM GRAIN (canvas-generated)
// ════════════════════════════════════════════════════════════════
const grainEl=document.getElementById('grain');
const grainCanvas=document.createElement('canvas');
const grainCtx=grainCanvas.getContext('2d');
grainCanvas.width=256;
grainCanvas.height=256;
function renderGrain(){
  const d=grainCtx.createImageData(256,256);
  for(let i=0;i<d.data.length;i+=4){
    const v=Math.random()*255;
    d.data[i]=v;d.data[i+1]=v;d.data[i+2]=v;d.data[i+3]=255;
  }
  grainCtx.putImageData(d,0,0);
  grainEl.style.backgroundImage=`url(${grainCanvas.toDataURL()})`;
  grainEl.style.backgroundSize='256px';
}
setInterval(renderGrain,120);
renderGrain();


// ════════════════════════════════════════════════════════════════
// SCROLL REVEALS (IntersectionObserver)
// ════════════════════════════════════════════════════════════════
const observer=new IntersectionObserver(entries=>{
  entries.forEach(e=>{
    if(e.isIntersecting) e.target.classList.add('vis');
  });
},{threshold:0.05});
document.querySelectorAll('.rv').forEach(el=>observer.observe(el));


// ════════════════════════════════════════════════════════════════
// SMOOTH SCROLL (nav links)
// ════════════════════════════════════════════════════════════════
document.querySelectorAll('a[href^="#"]').forEach(a=>{
  a.addEventListener('click',e=>{
    e.preventDefault();
    document.querySelector(a.getAttribute('href'))?.scrollIntoView({behavior:'smooth'});
  });
});


// ════════════════════════════════════════════════════════════════════════════════
//
// ███████████████████████████████████████████████████████████████████████████████
// █                                                                           █
// █   EXPANSION LAYER — CATHEDRAL SPIRE ORNAMENTS, GARGOYLE BRACKETS,         █
// █   WROUGHT IRON COMPOSITIONS, MEGA CANDELABRA, CRYPT BORDERS,              █
// █   TOMBSTONE FRAMES, GOTHIC WINDOW TRACERY, BONE ROSETTE CHAINS,           █
// █   SEPULCHRE PANELS, RELIQUARY BOXES, OSSUARY PATTERNS                     █
// █                                                                           █
// ███████████████████████████████████████████████████████████████████████████████
//
// ════════════════════════════════════════════════════════════════════════════════


// ════════════════════════════════════════════════════════════════
// 10. CATHEDRAL SPIRE — pointed vertical ornament with finial
// ════════════════════════════════════════════════════════════════
function cathedralSpire(svg,cx,cy,h,op,c){
  c=c||col;
  // Main spire shaft (tapered)
  svg.appendChild(E('path',{
    d:`M${cx} ${cy} L${cx-h*0.06} ${cy+h} L${cx+h*0.06} ${cy+h} Z`,
    stroke:c,'stroke-width':'0.6',fill:'none',opacity:op*0.35
  }));
  // Inner spire
  svg.appendChild(E('path',{
    d:`M${cx} ${cy+h*0.08} L${cx-h*0.035} ${cy+h*0.92} L${cx+h*0.035} ${cy+h*0.92} Z`,
    stroke:c,'stroke-width':'0.3',fill:'none',opacity:op*0.18
  }));
  // Finial at top (cross)
  miniCross(svg,cx,cy-h*0.05,R(4,8),op*0.5,c);
  // Window slots along spire
  const windows=RI(3,7);
  for(let i=0;i<windows;i++){
    const t=(i+1)/(windows+1);
    const wy=cy+h*t;
    const ww=h*0.06*(1-t*0.5);
    // Pointed arch window
    svg.appendChild(E('path',{
      d:`M${cx-ww} ${wy+ww} Q${cx-ww} ${wy-ww*0.3} ${cx} ${wy-ww} Q${cx+ww} ${wy-ww*0.3} ${cx+ww} ${wy+ww}`,
      stroke:c,'stroke-width':'0.25',fill:'none',opacity:op*0.15
    }));
  }
  // Crockets (decorative bumps along edges)
  for(let t=0.1;t<0.9;t+=R(0.08,0.15)){
    const crY=cy+h*t;
    const crX=h*0.06*(1-t)*0.8;
    for(let side=-1;side<=1;side+=2){
      svg.appendChild(E('circle',{
        cx:cx+side*crX,cy:crY,r:R(0.4,1),fill:c,opacity:op*0.1
      }));
    }
  }
  // Flying buttress hints
  for(let side=-1;side<=1;side+=2){
    svg.appendChild(E('path',{
      d:`M${cx+side*h*0.06} ${cy+h*0.5} Q${cx+side*h*0.15} ${cy+h*0.6} ${cx+side*h*0.12} ${cy+h*0.75}`,
      stroke:c,'stroke-width':'0.25',fill:'none',opacity:op*0.1
    }));
  }
}


// ════════════════════════════════════════════════════════════════
// 11. GARGOYLE BRACKET — ornamental shelf-like projection
// ════════════════════════════════════════════════════════════════
function gargoylePerch(svg,cx,cy,size,op,c){
  c=c||col;
  // Main bracket curve (C-shape scroll)
  svg.appendChild(E('path',{
    d:`M${cx} ${cy} Q${cx+size*0.5} ${cy} ${cx+size*0.5} ${cy+size*0.3}
       Q${cx+size*0.5} ${cy+size*0.6} ${cx+size*0.2} ${cy+size*0.6}
       Q${cx} ${cy+size*0.6} ${cx} ${cy+size*0.4}`,
    stroke:c,'stroke-width':'0.6',fill:'none',opacity:op*0.3
  }));
  // Counter-scroll
  svg.appendChild(E('path',{
    d:`M${cx} ${cy+size*0.4} Q${cx+size*0.15} ${cy+size*0.35} ${cx+size*0.2} ${cy+size*0.5}
       Q${cx+size*0.25} ${cy+size*0.65} ${cx+size*0.1} ${cy+size*0.7}`,
    stroke:c,'stroke-width':'0.35',fill:'none',opacity:op*0.2
  }));
  // Acanthus leaf suggestion
  const leafPts=[];
  for(let t=0;t<=1;t+=0.1){
    leafPts.push({
      x:cx+size*0.3*t+Math.sin(t*4)*size*0.05,
      y:cy+size*0.15+t*size*0.3
    });
  }
  thornedArchway(svg,leafPts,0.2,op*0.15,R(2,4),1.5,false,c);
  // Drip from bracket
  chain(svg,cx+size*0.1,cy+size*0.7,R(10,25),op*0.15,R(0.8,1.5),false,c);
  // Decorative dot cluster
  for(let i=0;i<4;i++){
    svg.appendChild(E('circle',{
      cx:cx+R(size*0.1,size*0.4),
      cy:cy+R(size*0.1,size*0.5),
      r:R(0.3,0.8),fill:c,opacity:op*0.08
    }));
  }
}


// ════════════════════════════════════════════════════════════════
// 12. TOMBSTONE FRAME — rounded/pointed arch frame
// ════════════════════════════════════════════════════════════════
function tombstone(svg,cx,cy,w,h,op,c){
  c=c||col;
  const hw=w/2;
  // Outer frame
  svg.appendChild(E('path',{
    d:`M${cx-hw} ${cy+h*0.5} L${cx-hw} ${cy-h*0.1}
       Q${cx-hw} ${cy-h*0.4} ${cx} ${cy-h*0.5}
       Q${cx+hw} ${cy-h*0.4} ${cx+hw} ${cy-h*0.1}
       L${cx+hw} ${cy+h*0.5}`,
    stroke:c,'stroke-width':'0.7',fill:'none',opacity:op*0.3
  }));
  // Inner frame
  svg.appendChild(E('path',{
    d:`M${cx-hw+4} ${cy+h*0.45} L${cx-hw+4} ${cy-h*0.05}
       Q${cx-hw+4} ${cy-h*0.35} ${cx} ${cy-h*0.44}
       Q${cx+hw-4} ${cy-h*0.35} ${cx+hw-4} ${cy-h*0.05}
       L${cx+hw-4} ${cy+h*0.45}`,
    stroke:c,'stroke-width':'0.35',fill:'none',opacity:op*0.15
  }));
  // Cross at apex
  miniCross(svg,cx,cy-h*0.48,R(5,10),op*0.3,c);
  // Inscription lines inside
  inscriptions(svg,cx-hw+8,cy-h*0.15,w-16,h*0.4,op*0.08,c);
  // Corner flourishes
  for(let side=-1;side<=1;side+=2){
    filigreeSpiral(svg,cx+side*(hw-5),cy+h*0.45,R(3,6),R(1,2),op*0.1,0.2,c);
  }
}


// ════════════════════════════════════════════════════════════════
// 13. RELIQUARY BOX — ornate rectangular frame
// ════════════════════════════════════════════════════════════════
function reliquaryBox(svg,cx,cy,w,h,op,c){
  c=c||col;
  const hw=w/2,hh=h/2;
  // Double border
  svg.appendChild(E('rect',{x:cx-hw,y:cy-hh,width:w,height:h,stroke:c,'stroke-width':'0.5',fill:'none',opacity:op*0.2,rx:2}));
  svg.appendChild(E('rect',{x:cx-hw+3,y:cy-hh+3,width:w-6,height:h-6,stroke:c,'stroke-width':'0.25',fill:'none',opacity:op*0.1,rx:1}));
  // Corner ornaments
  for(let sx=-1;sx<=1;sx+=2){
    for(let sy=-1;sy<=1;sy+=2){
      const ccx=cx+sx*(hw-1),ccy=cy+sy*(hh-1);
      svg.appendChild(E('circle',{cx:ccx,cy:ccy,r:R(1,2.5),stroke:c,'stroke-width':'0.3',fill:'none',opacity:op*0.15}));
      svg.appendChild(E('circle',{cx:ccx,cy:ccy,r:R(0.3,0.7),fill:c,opacity:op*0.1}));
    }
  }
  // Center diamond
  const dr=Math.min(w,h)*0.15;
  svg.appendChild(E('path',{
    d:`M${cx} ${cy-dr} L${cx+dr} ${cy} L${cx} ${cy+dr} L${cx-dr} ${cy} Z`,
    stroke:c,'stroke-width':'0.3',fill:'none',opacity:op*0.12
  }));
  svg.appendChild(E('circle',{cx,cy,r:dr*0.3,fill:c,opacity:op*0.08}));
}


// ════════════════════════════════════════════════════════════════
// 14. OSSUARY PATTERN — repeating skull-like motif (abstract)
// ════════════════════════════════════════════════════════════════
function ossuaryPattern(svg,x,y,w,h,spacing,op,c){
  c=c||col;
  const sp=spacing||18;
  for(let ly=y;ly<y+h;ly+=sp){
    for(let lx=x;lx<x+w;lx+=sp){
      // Abstract skull: circle + two eye dots + line
      svg.appendChild(E('circle',{
        cx:lx+sp*0.5,cy:ly+sp*0.35,r:sp*0.2,
        stroke:c,'stroke-width':'0.2',fill:'none',opacity:op*R(0.05,0.15)
      }));
      svg.appendChild(E('circle',{
        cx:lx+sp*0.38,cy:ly+sp*0.3,r:sp*0.04,
        fill:c,opacity:op*R(0.04,0.1)
      }));
      svg.appendChild(E('circle',{
        cx:lx+sp*0.62,cy:ly+sp*0.3,r:sp*0.04,
        fill:c,opacity:op*R(0.04,0.1)
      }));
      // Crossbones suggestion
      if(R(0,1)<0.3){
        svg.appendChild(E('line',{
          x1:lx+sp*0.3,y1:ly+sp*0.6,x2:lx+sp*0.7,y2:ly+sp*0.85,
          stroke:c,'stroke-width':'0.15',opacity:op*0.05
        }));
        svg.appendChild(E('line',{
          x1:lx+sp*0.7,y1:ly+sp*0.6,x2:lx+sp*0.3,y2:ly+sp*0.85,
          stroke:c,'stroke-width':'0.15',opacity:op*0.05
        }));
      }
    }
  }
}


// ════════════════════════════════════════════════════════════════
// 15. GOTHIC WINDOW TRACERY — mullioned window design
// ════════════════════════════════════════════════════════════════
function gothicTracery(svg,cx,cy,w,h,op,c){
  c=c||col;
  const hw=w/2;
  // Outer pointed arch
  svg.appendChild(E('path',{
    d:`M${cx-hw} ${cy+h*0.5} L${cx-hw} ${cy-h*0.15}
       Q${cx-hw} ${cy-h*0.45} ${cx} ${cy-h*0.5}
       Q${cx+hw} ${cy-h*0.45} ${cx+hw} ${cy-h*0.15}
       L${cx+hw} ${cy+h*0.5}`,
    stroke:c,'stroke-width':'0.6',fill:'none',opacity:op*0.3
  }));
  // Central mullion
  svg.appendChild(E('line',{
    x1:cx,y1:cy-h*0.45,x2:cx,y2:cy+h*0.5,
    stroke:c,'stroke-width':'0.4',opacity:op*0.2
  }));
  // Two sub-arches
  for(let side=-1;side<=1;side+=2){
    const scx=cx+side*hw*0.5;
    svg.appendChild(E('path',{
      d:`M${scx-hw*0.45} ${cy+h*0.1}
         Q${scx-hw*0.45} ${cy-h*0.15} ${scx} ${cy-h*0.2}
         Q${scx+hw*0.45} ${cy-h*0.15} ${scx+hw*0.45} ${cy+h*0.1}`,
      stroke:c,'stroke-width':'0.35',fill:'none',opacity:op*0.18
    }));
  }
  // Trefoil at top
  const tr=w*0.05;
  const tp=cy-h*0.42;
  svg.appendChild(E('circle',{cx,cy:tp-tr*0.5,r:tr,stroke:c,'stroke-width':'0.3',fill:'none',opacity:op*0.12}));
  for(let side=-1;side<=1;side+=2){
    svg.appendChild(E('circle',{
      cx:cx+side*tr*1.2,cy:tp+tr*0.3,r:tr*0.8,
      stroke:c,'stroke-width':'0.25',fill:'none',opacity:op*0.1
    }));
  }
  // Quatrefoil in each sub-arch
  for(let side=-1;side<=1;side+=2){
    const qx=cx+side*hw*0.5;
    const qy=cy-h*0.05;
    const qr=w*0.04;
    for(let a=0;a<4;a++){
      const angle=(a/4)*Math.PI*2;
      svg.appendChild(E('circle',{
        cx:qx+Math.cos(angle)*qr*1.2,cy:qy+Math.sin(angle)*qr*1.2,
        r:qr,stroke:c,'stroke-width':'0.2',fill:'none',opacity:op*0.08
      }));
    }
  }
}


// ════════════════════════════════════════════════════════════════
// 16. SEPULCHRE PANEL — vertical decorative panel
// ════════════════════════════════════════════════════════════════
function sepulchrePanel(svg,cx,cy,w,h,op,c){
  c=c||col;
  // Gothic tracery window at top
  gothicTracery(svg,cx,cy-h*0.25,w*0.6,h*0.35,op*0.8,c);
  // Inscription block below
  inscriptions(svg,cx-w*0.35,cy+h*0.05,w*0.7,h*0.2,op*0.06,c);
  // Reliquary box at bottom
  reliquaryBox(svg,cx,cy+h*0.35,w*0.5,h*0.15,op*0.5,c);
  // Flanking candles (simplified)
  for(let side=-1;side<=1;side+=2){
    const candleX=cx+side*w*0.4;
    svg.appendChild(E('line',{
      x1:candleX,y1:cy-h*0.1,x2:candleX,y2:cy+h*0.3,
      stroke:c,'stroke-width':'0.3',opacity:op*0.12
    }));
    // Flame
    svg.appendChild(E('path',{
      d:`M${candleX} ${cy-h*0.1} Q${candleX-2} ${cy-h*0.15} ${candleX} ${cy-h*0.18}
         Q${candleX+2} ${cy-h*0.15} ${candleX} ${cy-h*0.1}`,
      stroke:c,'stroke-width':'0.2',fill:'none',opacity:op*0.08
    }));
  }
}


// ════════════════════════════════════════════════════════════════
// 17. BONE ROSETTE CHAIN — connected rosettes with vine
// ════════════════════════════════════════════════════════════════
function boneRosetteChain(svg,pts,spacing,op,c){
  c=c||col;
  if(pts.length<2)return;
  // Draw connecting vine
  thornedArchway(svg,pts,0.3,op*0.3,R(3,6),1.5,false,c);
  // Place rosettes at intervals
  const totalLen=pts.reduce((sum,p,i)=>{
    if(i===0)return 0;
    const dx=p.x-pts[i-1].x,dy=p.y-pts[i-1].y;
    return sum+Math.sqrt(dx*dx+dy*dy);
  },0);
  let dist=spacing*0.5;
  let segIdx=0,segDist=0;
  while(dist<totalLen&&segIdx<pts.length-1){
    const dx=pts[segIdx+1].x-pts[segIdx].x;
    const dy=pts[segIdx+1].y-pts[segIdx].y;
    const segLen=Math.sqrt(dx*dx+dy*dy);
    if(segDist+segLen>dist-segDist){
      const t=(dist-segDist)/segLen;
      const rx=pts[segIdx].x+dx*t;
      const ry=pts[segIdx].y+dy*t;
      roseWindow(svg,rx,ry,R(3,8),op*0.3,c);
      dist+=spacing;
    }
    segDist+=segLen;
    segIdx++;
  }
}


// ════════════════════════════════════════════════════════════════
// 18. MEGA CANDELABRA — expanded multi-tier structure
// ════════════════════════════════════════════════════════════════
function megaCandelabra(svg,cx,cy,w,h,op,c){
  c=c||col;
  // Central pillar with chain
  chain(svg,cx,cy,h*0.12,op*0.6,0,false,c);
  svg.appendChild(E('line',{
    x1:cx,y1:cy+h*0.12,x2:cx,y2:cy+h*0.5,
    stroke:c,'stroke-width':'0.7',opacity:op*0.4
  }));
  // Three tiers of arms
  const tiers=3;
  for(let tier=0;tier<tiers;tier++){
    const tierY=cy+h*(0.15+tier*0.12);
    const tierW=w*(0.2+tier*0.15);
    const arms=RI(2,4);
    for(let arm=0;arm<arms;arm++){
      for(let side=-1;side<=1;side+=2){
        const armX=cx+side*tierW*(arm+1)/arms;
        // Curved arm
        svg.appendChild(E('path',{
          d:`M${cx} ${tierY} Q${(cx+armX)/2} ${tierY-R(3,8)} ${armX} ${tierY+R(2,6)}`,
          stroke:c,'stroke-width':'0.4',fill:'none',opacity:op*0.25
        }));
        // Chain hanging from arm end
        chain(svg,armX,tierY+R(3,8),R(12,30),op*0.2,R(0.8,2),R(0,1)<0.2,c);
      }
    }
    // Decorative ring at tier junction
    svg.appendChild(E('circle',{
      cx,cy:tierY,r:R(2,4),stroke:c,'stroke-width':'0.3',fill:'none',opacity:op*0.15
    }));
  }
  // Bottom cross
  bigCross(svg,cx,cy+h*0.6,R(18,30),op*0.35,c);
  // Bottom drip cascade
  chain(svg,cx,cy+h*0.72,R(20,40),op*0.25,R(2,4),false,c);
}


// ════════════════════════════════════════════════════════════════
// 19. CRYPT BORDER — horizontal decorative border with arches
// ════════════════════════════════════════════════════════════════
function cryptBorder(svg,x,y,w,op,c){
  c=c||col;
  const archCount=RI(5,12);
  const archW=w/archCount;
  const archH=archW*0.6;
  // Base line
  svg.appendChild(E('line',{x1:x,y1:y,x2:x+w,y2:y,stroke:c,'stroke-width':'0.5',opacity:op*0.2}));
  // Arches
  for(let i=0;i<archCount;i++){
    const ax=x+archW*i+archW/2;
    svg.appendChild(E('path',{
      d:`M${ax-archW*0.4} ${y} Q${ax-archW*0.4} ${y-archH} ${ax} ${y-archH*1.1}
         Q${ax+archW*0.4} ${y-archH} ${ax+archW*0.4} ${y}`,
      stroke:c,'stroke-width':'0.3',fill:'none',opacity:op*0.15
    }));
    // Column capitals
    svg.appendChild(E('circle',{cx:ax-archW*0.4,cy:y,r:R(0.5,1.2),fill:c,opacity:op*0.08}));
    svg.appendChild(E('circle',{cx:ax+archW*0.4,cy:y,r:R(0.5,1.2),fill:c,opacity:op*0.08}));
    // Keystone dot
    svg.appendChild(E('circle',{cx:ax,cy:y-archH*1.05,r:R(0.3,0.8),fill:c,opacity:op*0.06}));
  }
}


// ════════════════════════════════════════════════════════════════════════════════
//
// EXPANDED PLACEMENT — INJECT MORE ORNAMENTS ACROSS THE ENTIRE PAGE
// These run after the initial placement to add more depth and detail
//
// ════════════════════════════════════════════════════════════════════════════════


// ── Additional Hero ornaments ──
(function expandHero(){
  const hero=document.getElementById('hero');
  if(!hero)return;

  // Cathedral spires at corners (behind corner filigree)
  const spireContainer=document.createElement('div');
  spireContainer.className='orn';
  spireContainer.style.cssText='top:10%;left:3%;width:60px;height:400px';
  hero.appendChild(spireContainer);
  const spireSvg=S('0 0 60 400','100%','100%','0.08');
  cathedralSpire(spireSvg,30,10,350,0.8);
  spireContainer.appendChild(spireSvg);

  const spireR=document.createElement('div');
  spireR.className='orn';
  spireR.style.cssText='top:10%;right:3%;width:60px;height:400px;transform:scaleX(-1)';
  hero.appendChild(spireR);
  const spireSvgR=S('0 0 60 400','100%','100%','0.08');
  cathedralSpire(spireSvgR,30,10,350,0.8);
  spireR.appendChild(spireSvgR);

  // Gargoyle brackets at hero mid-sides
  const gbL=document.createElement('div');
  gbL.className='orn';
  gbL.style.cssText='top:40%;left:2%;width:80px;height:80px';
  hero.appendChild(gbL);
  const gbSvgL=S('0 0 80 80','100%','100%','0.1');
  gargoylePerch(gbSvgL,5,10,65,0.8);
  gbL.appendChild(gbSvgL);

  const gbR=document.createElement('div');
  gbR.className='orn';
  gbR.style.cssText='top:40%;right:2%;width:80px;height:80px;transform:scaleX(-1)';
  hero.appendChild(gbR);
  const gbSvgR=S('0 0 80 80','100%','100%','0.1');
  gargoylePerch(gbSvgR,5,10,65,0.8);
  gbR.appendChild(gbSvgR);

  // Mega candelabra at 38% and 62% positions
  for(const pct of['38%','62%']){
    const mc=document.createElement('div');
    mc.className='orn';
    mc.style.cssText=`top:0;left:${pct};width:100px;height:500px;transform:translateX(-50%)`;
    hero.appendChild(mc);
    const mcSvg=S('0 0 100 500','100%','100%','0.08');
    megaCandelabra(mcSvg,50,10,80,400,0.7);
    mc.appendChild(mcSvg);
  }

  // Crypt border at bottom of hero
  const cb=document.createElement('div');
  cb.className='orn';
  cb.style.cssText='bottom:80px;left:10%;width:80%;height:30px';
  hero.appendChild(cb);
  const cbSvg=S('0 0 1000 30','100%','100%','0.06');
  cryptBorder(cbSvg,0,25,1000,0.8);
  cb.appendChild(cbSvg);
})();


// ── Expanded About section ornaments ──
(function expandAbout(){
  const about=document.getElementById('about');
  if(!about)return;

  // Tombstone frame behind title
  const tf=document.createElement('div');
  tf.className='orn';
  tf.style.cssText='top:60px;left:50%;width:350px;height:250px;transform:translateX(-50%)';
  about.appendChild(tf);
  const tfSvg=S('0 0 350 250','100%','100%','0.05');
  tombstone(tfSvg,175,125,280,220,0.8);
  tfSvg.appendChild(E('circle',{cx:175,cy:125,r:0,fill:'none'})); // spacer
  tf.appendChild(tfSvg);

  // Bone rosette chains along edges
  const brcL=document.createElement('div');
  brcL.className='orn';
  brcL.style.cssText='top:200px;left:50px;width:30px;height:500px';
  about.appendChild(brcL);
  const brcSvgL=S('0 0 30 500','100%','100%','0.08');
  const brcPts=[];
  for(let y=10;y<490;y+=R(25,40)){
    brcPts.push({x:15+R(-5,5),y});
  }
  boneRosetteChain(brcSvgL,brcPts,R(40,70),0.6);
  brcL.appendChild(brcSvgL);

  // Ossuary pattern in background
  const os=document.createElement('div');
  os.className='orn';
  os.style.cssText='top:50%;left:50%;width:400px;height:300px;transform:translate(-50%,-50%)';
  about.appendChild(os);
  const osSvg=S('0 0 400 300','100%','100%','0.025');
  ossuaryPattern(osSvg,0,0,400,300,22,0.8);
  os.appendChild(osSvg);
})();


// ── Expanded Arsenal section ornaments ──
(function expandArsenal(){
  const arsenal=document.getElementById('arsenal');
  if(!arsenal)return;

  // Gothic window tracery behind title
  const gt=document.createElement('div');
  gt.className='orn';
  gt.style.cssText='top:40px;left:50%;width:300px;height:220px;transform:translateX(-50%)';
  arsenal.appendChild(gt);
  const gtSvg=S('0 0 300 220','100%','100%','0.04');
  gothicTracery(gtSvg,150,110,250,200,1,colLight);
  gt.appendChild(gtSvg);

  // Sepulchre panels on sides
  for(let side of['left:15px','right:15px']){
    const sp=document.createElement('div');
    sp.className='orn';
    sp.style.cssText=`bottom:40px;${side};width:100px;height:250px`;
    arsenal.appendChild(sp);
    const spSvg=S('0 0 100 250','100%','100%','0.06');
    sepulchrePanel(spSvg,50,125,80,220,0.7,colLight);
    sp.appendChild(spSvg);
  }

  // Crypt borders above and below grid
  for(let pos of['top:180px','bottom:40px']){
    const cb=document.createElement('div');
    cb.className='orn';
    cb.style.cssText=`${pos};left:10%;width:80%;height:25px`;
    arsenal.appendChild(cb);
    const cbSvg=S('0 0 800 25','100%','100%','0.05');
    cryptBorder(cbSvg,0,20,800,0.7,colLight);
    cb.appendChild(cbSvg);
  }
})();


// ── Expanded Conquests section ornaments ──
(function expandConquests(){
  const conquests=document.getElementById('conquests');
  if(!conquests)return;

  // Reliquary boxes as decorations
  for(let i=0;i<3;i++){
    const rb=document.createElement('div');
    rb.className='orn';
    rb.style.cssText=`top:${280+i*280}px;right:50px;width:80px;height:60px`;
    conquests.appendChild(rb);
    const rbSvg=S('0 0 80 60','100%','100%','0.06');
    reliquaryBox(rbSvg,40,30,65,45,0.7);
    rb.appendChild(rbSvg);
  }

  // Gargoyle brackets flanking project cards
  for(let i=0;i<2;i++){
    const gb=document.createElement('div');
    gb.className='orn';
    gb.style.cssText=`top:${300+i*320}px;left:30px;width:60px;height:60px`;
    conquests.appendChild(gb);
    const gbSvg=S('0 0 60 60','100%','100%','0.07');
    gargoylePerch(gbSvg,5,5,50,0.7);
    gb.appendChild(gbSvg);
  }
})();


// ── Expanded Chronicle section ornaments ──
(function expandChronicle(){
  const chronicle=document.getElementById('chronicle');
  if(!chronicle)return;

  // Cathedral spires flanking timeline
  for(let side of['left:60px','right:40px']){
    const sp=document.createElement('div');
    sp.className='orn';
    sp.style.cssText=`top:180px;${side};width:40px;height:300px`;
    chronicle.appendChild(sp);
    const spSvg=S('0 0 40 300','100%','100%','0.06');
    cathedralSpire(spSvg,20,5,260,0.7,colLight);
    sp.appendChild(spSvg);
  }

  // Bone lattice behind timeline
  const bl=document.createElement('div');
  bl.className='orn';
  bl.style.cssText='top:200px;left:50%;width:300px;height:400px;transform:translateX(-50%)';
  chronicle.appendChild(bl);
  const blSvg=S('0 0 300 400','100%','100%','0.02');
  boneLattice(blSvg,0,0,300,400,20,0.8,colLight);
  bl.appendChild(blSvg);

  // Rose windows at timeline milestones
  for(let i=0;i<5;i++){
    const rw=document.createElement('div');
    rw.className='orn';
    rw.style.cssText=`top:${210+i*72}px;left:15px;width:30px;height:30px`;
    chronicle.appendChild(rw);
    const rwSvg=S('0 0 30 30','100%','100%','0.08');
    roseWindow(rwSvg,15,15,R(6,12),0.6,colLight);
    rw.appendChild(rwSvg);
  }
})();


// ── Expanded Summon section ornaments ──
(function expandSummon(){
  const summon=document.getElementById('summon');
  if(!summon)return;

  // Gothic tracery behind call to action
  const gt=document.createElement('div');
  gt.className='orn';
  gt.style.cssText='top:30%;left:50%;width:400px;height:300px;transform:translate(-50%,-50%)';
  summon.appendChild(gt);
  const gtSvg=S('0 0 400 300','100%','100%','0.035');
  gothicTracery(gtSvg,200,150,350,280,0.8);
  gt.appendChild(gtSvg);

  // Ossuary pattern in far background
  const os=document.createElement('div');
  os.className='orn';
  os.style.cssText='bottom:10%;left:50%;width:500px;height:200px;transform:translateX(-50%)';
  summon.appendChild(os);
  const osSvg=S('0 0 500 200','100%','100%','0.02');
  ossuaryPattern(osSvg,0,0,500,200,25,0.7);
  os.appendChild(osSvg);

  // Candelabra
  const mc=document.createElement('div');
  mc.className='orn';
  mc.style.cssText='top:5%;left:50%;width:120px;height:250px;transform:translateX(-50%)';
  summon.appendChild(mc);
  const mcSvg=S('0 0 120 250','100%','100%','0.06');
  megaCandelabra(mcSvg,60,5,100,200,0.7);
  mc.appendChild(mcSvg);
})();


// ── Expanded background filigree (more scattered elements) ──
(function expandBg(){
  const el=document.getElementById('bgFiligree');
  if(!el||!el.querySelector('svg'))return;
  const svg=el.querySelector('svg');

  // Scattered tombstone frames
  for(let i=0;i<8;i++){
    tombstone(svg,R(100,1100),R(200,3800),R(40,80),R(60,120),R(0.01,0.03));
  }

  // Scattered gargoyle brackets
  for(let i=0;i<12;i++){
    gargoylePerch(svg,R(50,1100),R(100,3800),R(15,35),R(0.01,0.03));
  }

  // Scattered cathedral spires
  for(let i=0;i<6;i++){
    cathedralSpire(svg,R(80,1120),R(100,3600),R(40,100),R(0.01,0.025));
  }

  // Scattered gothic tracery
  for(let i=0;i<5;i++){
    gothicTracery(svg,R(150,1050),R(300,3500),R(60,120),R(80,160),R(0.01,0.02));
  }

  // Scattered ossuary patches
  for(let i=0;i<4;i++){
    ossuaryPattern(svg,R(50,900),R(200,3500),R(80,200),R(60,150),R(18,30),R(0.01,0.025));
  }

  // Scattered reliquary boxes
  for(let i=0;i<10;i++){
    reliquaryBox(svg,R(100,1100),R(100,3900),R(25,50),R(18,35),R(0.01,0.03));
  }

  // Scattered crypt borders
  for(let i=0;i<6;i++){
    cryptBorder(svg,R(50,500),R(200,3700),R(200,500),R(0.01,0.02));
  }

  // More crosses for good measure
  for(let i=0;i<15;i++){
    bigCross(svg,R(80,1120),R(150,3850),R(12,30),R(0.01,0.025));
  }

  // More chains dripping from nothing (ambient)
  for(let i=0;i<20;i++){
    chain(svg,R(50,1150),R(50,3800),R(15,50),R(0.01,0.03),R(1,3),false);
  }
})();


// ════════════════════════════════════════════════════════════════════════════════
//
// ████████████████████████████████████████████████████████████████████████████
// █                                                                        █
// █   DEEP LAYER — ADDITIONAL GENERATORS, COMPOSITIONS, AND PLACEMENTS     █
// █   Pushing element count to absolute maximum. Every section gets         █
// █   additional ornamental depth. Gothic maximalism.                       █
// █                                                                        █
// ████████████████████████████████████████████████████████████████████████████
//
// ════════════════════════════════════════════════════════════════════════════════


// ════════════════════════════════════════════════════════════════
// 20. FLYING BUTTRESS — architectural support with vine
// ════════════════════════════════════════════════════════════════
function flyingButtress(svg,x1,y1,x2,y2,op,c){
  c=c||col;
  // Main arch stroke
  const mx=(x1+x2)/2,my=Math.min(y1,y2)-Math.abs(x2-x1)*0.3;
  svg.appendChild(E('path',{
    d:`M${x1} ${y1} Q${mx} ${my} ${x2} ${y2}`,
    stroke:c,'stroke-width':'0.7',fill:'none',opacity:op*0.3
  }));
  // Inner parallel arch
  svg.appendChild(E('path',{
    d:`M${x1+2} ${y1-1} Q${mx} ${my+4} ${x2-2} ${y2-1}`,
    stroke:c,'stroke-width':'0.25',fill:'none',opacity:op*0.12
  }));
  // Pillar at each end
  for(const [px,py] of [[x1,y1],[x2,y2]]){
    svg.appendChild(E('line',{
      x1:px,y1:py,x2:px,y2:py+R(15,35),
      stroke:c,'stroke-width':'0.4',opacity:op*0.2
    }));
    // Capital ornament
    svg.appendChild(E('circle',{cx:px,cy:py,r:R(1,2.5),stroke:c,'stroke-width':'0.25',fill:'none',opacity:op*0.1}));
  }
  // Vine along the buttress curve
  const pts=[];
  for(let t=0;t<=1;t+=0.1){
    const bx=x1*(1-t)*(1-t)+2*mx*t*(1-t)+x2*t*t;
    const by=y1*(1-t)*(1-t)+2*my*t*(1-t)+y2*t*t;
    pts.push({x:bx+R(-2,2),y:by+R(-2,2)});
  }
  thornedArchway(svg,pts,0.2,op*0.15,R(2,5),1,false,c);
}


// ════════════════════════════════════════════════════════════════
// 21. PINNACLE — small decorative tower top
// ════════════════════════════════════════════════════════════════
function pinnacle(svg,cx,cy,h,op,c){
  c=c||col;
  // Tapered body
  svg.appendChild(E('path',{
    d:`M${cx} ${cy} L${cx-h*0.04} ${cy+h*0.7} L${cx+h*0.04} ${cy+h*0.7} Z`,
    stroke:c,'stroke-width':'0.4',fill:'none',opacity:op*0.25
  }));
  // Crocket bumps
  for(let t=0.15;t<0.7;t+=R(0.1,0.18)){
    const py=cy+h*t;
    const pw=h*0.04*(1-t);
    for(let side=-1;side<=1;side+=2){
      svg.appendChild(E('circle',{cx:cx+side*pw,cy:py,r:R(0.3,0.8),fill:c,opacity:op*0.08}));
    }
  }
  // Finial cross at top
  svg.appendChild(E('line',{x1:cx,y1:cy-h*0.08,x2:cx,y2:cy+h*0.05,stroke:c,'stroke-width':'0.35',opacity:op*0.3}));
  svg.appendChild(E('line',{x1:cx-h*0.03,y1:cy-h*0.03,x2:cx+h*0.03,y2:cy-h*0.03,stroke:c,'stroke-width':'0.3',opacity:op*0.25}));
  // Base platform
  svg.appendChild(E('line',{x1:cx-h*0.06,y1:cy+h*0.7,x2:cx+h*0.06,y2:cy+h*0.7,stroke:c,'stroke-width':'0.3',opacity:op*0.15}));
}


// ════════════════════════════════════════════════════════════════
// 22. ALTAR ORNAMENT — table-like structure with cloth drape
// ════════════════════════════════════════════════════════════════
function altarOrnament(svg,cx,cy,w,h,op,c){
  c=c||col;
  const hw=w/2;
  // Table top
  svg.appendChild(E('line',{x1:cx-hw,y1:cy,x2:cx+hw,y2:cy,stroke:c,'stroke-width':'0.6',opacity:op*0.3}));
  // Legs
  for(let side=-1;side<=1;side+=2){
    svg.appendChild(E('line',{
      x1:cx+side*(hw-3),y1:cy,x2:cx+side*(hw-3),y2:cy+h*0.5,
      stroke:c,'stroke-width':'0.4',opacity:op*0.2
    }));
    // Scroll foot
    svg.appendChild(E('path',{
      d:`M${cx+side*(hw-3)} ${cy+h*0.5} Q${cx+side*(hw+2)} ${cy+h*0.55} ${cx+side*(hw-1)} ${cy+h*0.6}`,
      stroke:c,'stroke-width':'0.25',fill:'none',opacity:op*0.12
    }));
  }
  // Draped cloth (scalloped edge)
  let clothD=`M${cx-hw} ${cy+2}`;
  const scallops=RI(4,8);
  for(let i=0;i<scallops;i++){
    const t1=(i+0.5)/scallops;
    const t2=(i+1)/scallops;
    clothD+=` Q${cx-hw+w*t1} ${cy+R(6,14)} ${cx-hw+w*t2} ${cy+2}`;
  }
  svg.appendChild(E('path',{d:clothD,stroke:c,'stroke-width':'0.3',fill:'none',opacity:op*0.15}));
  // Cross on altar
  miniCross(svg,cx,cy-R(5,12),R(6,12),op*0.35,c);
  // Candles
  for(let side=-1;side<=1;side+=2){
    const candleX=cx+side*hw*0.6;
    svg.appendChild(E('line',{
      x1:candleX,y1:cy-R(3,6),x2:candleX,y2:cy,
      stroke:c,'stroke-width':'0.3',opacity:op*0.15
    }));
    svg.appendChild(E('circle',{cx:candleX,cy:cy-R(4,8),r:R(0.3,0.6),fill:c,opacity:op*0.1}));
  }
}


// ════════════════════════════════════════════════════════════════
// 23. CHALICE — cup-shaped ornament
// ════════════════════════════════════════════════════════════════
function chalice(svg,cx,cy,h,op,c){
  c=c||col;
  // Bowl (U-shape)
  svg.appendChild(E('path',{
    d:`M${cx-h*0.15} ${cy} Q${cx-h*0.18} ${cy+h*0.3} ${cx} ${cy+h*0.35}
       Q${cx+h*0.18} ${cy+h*0.3} ${cx+h*0.15} ${cy}`,
    stroke:c,'stroke-width':'0.4',fill:'none',opacity:op*0.25
  }));
  // Rim
  svg.appendChild(E('ellipse',{cx,cy,rx:h*0.15,ry:h*0.02,stroke:c,'stroke-width':'0.3',fill:'none',opacity:op*0.2}));
  // Stem
  svg.appendChild(E('line',{x1:cx,y1:cy+h*0.35,x2:cx,y2:cy+h*0.7,stroke:c,'stroke-width':'0.35',opacity:op*0.2}));
  // Knop (decorative bulge on stem)
  svg.appendChild(E('circle',{cx,cy:cy+h*0.5,r:h*0.03,stroke:c,'stroke-width':'0.25',fill:'none',opacity:op*0.15}));
  // Base
  svg.appendChild(E('ellipse',{cx,cy:cy+h*0.72,rx:h*0.12,ry:h*0.025,stroke:c,'stroke-width':'0.3',fill:'none',opacity:op*0.2}));
  // Decorative band around bowl
  svg.appendChild(E('ellipse',{cx,cy:cy+h*0.15,rx:h*0.16,ry:h*0.015,stroke:c,'stroke-width':'0.2',fill:'none',opacity:op*0.1}));
}


// ════════════════════════════════════════════════════════════════
// 24. BANNER / SCROLL — unfurled ribbon with text suggestion
// ════════════════════════════════════════════════════════════════
function banner(svg,cx,cy,w,h,op,c){
  c=c||col;
  const hw=w/2;
  // Main banner body
  svg.appendChild(E('path',{
    d:`M${cx-hw} ${cy-h/2} L${cx+hw} ${cy-h/2}
       L${cx+hw} ${cy+h/2} L${cx-hw} ${cy+h/2} Z`,
    stroke:c,'stroke-width':'0.4',fill:'none',opacity:op*0.2
  }));
  // Curled ends
  for(let side=-1;side<=1;side+=2){
    const ex=cx+side*hw;
    svg.appendChild(E('path',{
      d:`M${ex} ${cy-h/2} Q${ex+side*h*0.3} ${cy-h*0.3} ${ex+side*h*0.15} ${cy}
         Q${ex+side*h*0.3} ${cy+h*0.3} ${ex} ${cy+h/2}`,
      stroke:c,'stroke-width':'0.3',fill:'none',opacity:op*0.15
    }));
  }
  // Inscription inside
  inscriptions(svg,cx-hw+5,cy-h*0.3,w-10,h*0.6,op*0.06,c);
}


// ════════════════════════════════════════════════════════════════
// 25. MEMENTO MORI — hourglass/skull abstract composition
// ════════════════════════════════════════════════════════════════
function mementoMori(svg,cx,cy,size,op,c){
  c=c||col;
  // Hourglass shape
  const hw=size*0.3,hh=size*0.5;
  svg.appendChild(E('path',{
    d:`M${cx-hw} ${cy-hh} L${cx+hw} ${cy-hh} L${cx} ${cy} L${cx+hw} ${cy+hh} L${cx-hw} ${cy+hh} L${cx} ${cy} Z`,
    stroke:c,'stroke-width':'0.4',fill:'none',opacity:op*0.2
  }));
  // Sand (dots flowing through center)
  for(let i=0;i<8;i++){
    svg.appendChild(E('circle',{
      cx:cx+R(-2,2),cy:cy+R(-hh*0.3,hh*0.3),
      r:R(0.2,0.5),fill:c,opacity:op*R(0.05,0.12)
    }));
  }
  // Wings of time (abstract)
  for(let side=-1;side<=1;side+=2){
    svg.appendChild(E('path',{
      d:`M${cx+side*hw} ${cy-hh*0.3} Q${cx+side*(hw+size*0.2)} ${cy-hh*0.5} ${cx+side*(hw+size*0.15)} ${cy-hh*0.8}`,
      stroke:c,'stroke-width':'0.25',fill:'none',opacity:op*0.1
    }));
    svg.appendChild(E('path',{
      d:`M${cx+side*hw} ${cy+hh*0.3} Q${cx+side*(hw+size*0.2)} ${cy+hh*0.5} ${cx+side*(hw+size*0.15)} ${cy+hh*0.8}`,
      stroke:c,'stroke-width':'0.25',fill:'none',opacity:op*0.1
    }));
  }
  // Cross above
  miniCross(svg,cx,cy-hh-size*0.1,R(4,8),op*0.25,c);
}


// ════════════════════════════════════════════════════════════════════════════════
// DEEP EXPANSION — More ornamental placement throughout every section
// ════════════════════════════════════════════════════════════════════════════════


// ── More Hero depth ──
(function deepHero(){
  const hero=document.getElementById('hero');
  if(!hero)return;

  // Flying buttresses connecting corners to center area
  const fbL=document.createElement('div');
  fbL.className='orn';
  fbL.style.cssText='top:5%;left:5%;width:300px;height:200px';
  hero.appendChild(fbL);
  const fbSvgL=S('0 0 300 200','100%','100%','0.06');
  flyingButtress(fbSvgL,10,180,280,20,0.7);
  flyingButtress(fbSvgL,20,170,260,40,0.4);
  fbL.appendChild(fbSvgL);

  const fbR=document.createElement('div');
  fbR.className='orn';
  fbR.style.cssText='top:5%;right:5%;width:300px;height:200px;transform:scaleX(-1)';
  hero.appendChild(fbR);
  const fbSvgR=S('0 0 300 200','100%','100%','0.06');
  flyingButtress(fbSvgR,10,180,280,20,0.7);
  flyingButtress(fbSvgR,20,170,260,40,0.4);
  fbR.appendChild(fbSvgR);

  // Pinnacles along top edge
  const pinTop=document.createElement('div');
  pinTop.className='orn';
  pinTop.style.cssText='top:0;left:0;width:100%;height:120px';
  hero.appendChild(pinTop);
  const pinSvg=S('0 0 1200 120','100%','100%','0.05');
  for(let x=80;x<1200;x+=R(90,160)){
    pinnacle(pinSvg,x,5,R(50,90),R(0.3,0.7));
  }
  pinTop.appendChild(pinSvg);

  // Chalices at bottom corners
  for(let pos of['bottom:60px;left:8%','bottom:60px;right:8%']){
    const ch=document.createElement('div');
    ch.className='orn';
    ch.style.cssText=`${pos};width:40px;height:50px`;
    hero.appendChild(ch);
    const chSvg=S('0 0 40 50','100%','100%','0.07');
    chalice(chSvg,20,5,40,0.7);
    ch.appendChild(chSvg);
  }

  // Banners
  const ban=document.createElement('div');
  ban.className='orn';
  ban.style.cssText='bottom:120px;left:50%;width:200px;height:20px;transform:translateX(-50%)';
  hero.appendChild(ban);
  const banSvg=S('0 0 200 20','100%','100%','0.05');
  banner(banSvg,100,10,180,16,0.7);
  ban.appendChild(banSvg);
})();


// ── Deep About additions ──
(function deepAbout(){
  const about=document.getElementById('about');
  if(!about)return;

  // Altar ornament below stats
  const alt=document.createElement('div');
  alt.className='orn';
  alt.style.cssText='bottom:200px;left:50%;width:200px;height:80px;transform:translateX(-50%)';
  about.appendChild(alt);
  const altSvg=S('0 0 200 80','100%','100%','0.05');
  altarOrnament(altSvg,100,15,160,60,0.7);
  alt.appendChild(altSvg);

  // Memento mori symbols scattered
  for(let i=0;i<3;i++){
    const mm=document.createElement('div');
    mm.className='orn';
    const leftPos=20+i*38;
    mm.style.cssText=`top:${250+i*200}px;${i%2===0?'left':'right'}:${leftPos}px;width:40px;height:50px`;
    about.appendChild(mm);
    const mmSvg=S('0 0 40 50','100%','100%','0.04');
    mementoMori(mmSvg,20,25,35,0.7);
    mm.appendChild(mmSvg);
  }

  // Pinnacles along detail cards
  const pin=document.createElement('div');
  pin.className='orn';
  pin.style.cssText='bottom:20px;left:50%;width:600px;height:50px;transform:translateX(-50%)';
  about.appendChild(pin);
  const pinSvg=S('0 0 600 50','100%','100%','0.04');
  for(let x=50;x<600;x+=R(80,140)){
    pinnacle(pinSvg,x,3,R(30,45),R(0.3,0.6));
  }
  pin.appendChild(pinSvg);

  // Flying buttress decorations
  const fb=document.createElement('div');
  fb.className='orn';
  fb.style.cssText='top:150px;left:50%;width:500px;height:100px;transform:translateX(-50%)';
  about.appendChild(fb);
  const fbSvg=S('0 0 500 100','100%','100%','0.03');
  flyingButtress(fbSvg,50,90,200,15,0.5);
  flyingButtress(fbSvg,300,15,450,90,0.5);
  fb.appendChild(fbSvg);
})();


// ── Deep Arsenal additions (dark section) ──
(function deepArsenal(){
  const arsenal=document.getElementById('arsenal');
  if(!arsenal)return;

  // Altar with chalices
  const alt=document.createElement('div');
  alt.className='orn';
  alt.style.cssText='bottom:30px;left:50%;width:250px;height:80px;transform:translateX(-50%)';
  arsenal.appendChild(alt);
  const altSvg=S('0 0 250 80','100%','100%','0.04');
  altarOrnament(altSvg,125,12,200,55,0.7,colLight);
  chalice(altSvg,85,0,30,0.5,colLight);
  chalice(altSvg,165,0,30,0.5,colLight);
  alt.appendChild(altSvg);

  // Pinnacle row at top
  const pin=document.createElement('div');
  pin.className='orn';
  pin.style.cssText='top:0;left:0;width:100%;height:60px';
  arsenal.appendChild(pin);
  const pinSvg=S('0 0 1200 60','100%','100%','0.04');
  for(let x=60;x<1200;x+=R(70,130)){
    pinnacle(pinSvg,x,3,R(35,55),R(0.3,0.6),colLight);
  }
  pin.appendChild(pinSvg);

  // Banner
  const ban=document.createElement('div');
  ban.className='orn';
  ban.style.cssText='top:100px;left:50%;width:250px;height:20px;transform:translateX(-50%)';
  arsenal.appendChild(ban);
  const banSvg=S('0 0 250 20','100%','100%','0.04');
  banner(banSvg,125,10,220,16,0.6,colLight);
  ban.appendChild(banSvg);

  // Flying buttresses on sides
  for(let side of['left:20px','right:20px']){
    const fb=document.createElement('div');
    fb.className='orn';
    fb.style.cssText=`bottom:100px;${side};width:150px;height:200px`;
    arsenal.appendChild(fb);
    const fbSvg=S('0 0 150 200','100%','100%','0.04');
    flyingButtress(fbSvg,10,190,140,20,0.6,colLight);
    fb.appendChild(fbSvg);
  }
})();


// ── Deep Chronicle additions ──
(function deepChronicle(){
  const chronicle=document.getElementById('chronicle');
  if(!chronicle)return;

  // Memento mori at timeline nodes
  for(let i=0;i<5;i++){
    const mm=document.createElement('div');
    mm.className='orn';
    mm.style.cssText=`top:${225+i*72}px;right:50px;width:30px;height:35px`;
    chronicle.appendChild(mm);
    const mmSvg=S('0 0 30 35','100%','100%','0.05');
    mementoMori(mmSvg,15,17,25,0.6,colLight);
    mm.appendChild(mmSvg);
  }

  // Pinnacle row above timeline
  const pin=document.createElement('div');
  pin.className='orn';
  pin.style.cssText='top:160px;left:50%;width:400px;height:40px;transform:translateX(-50%)';
  chronicle.appendChild(pin);
  const pinSvg=S('0 0 400 40','100%','100%','0.04');
  for(let x=30;x<400;x+=R(50,90)){
    pinnacle(pinSvg,x,3,R(25,35),R(0.3,0.6),colLight);
  }
  pin.appendChild(pinSvg);

  // Chalice at bottom
  const ch=document.createElement('div');
  ch.className='orn';
  ch.style.cssText='bottom:30px;left:50%;width:40px;height:50px;transform:translateX(-50%)';
  chronicle.appendChild(ch);
  const chSvg=S('0 0 40 50','100%','100%','0.05');
  chalice(chSvg,20,5,40,0.6,colLight);
  ch.appendChild(chSvg);
})();


// ── Deep Summon additions ──
(function deepSummon(){
  const summon=document.getElementById('summon');
  if(!summon)return;

  // Altar at bottom
  const alt=document.createElement('div');
  alt.className='orn';
  alt.style.cssText='bottom:40px;left:50%;width:300px;height:80px;transform:translateX(-50%)';
  summon.appendChild(alt);
  const altSvg=S('0 0 300 80','100%','100%','0.04');
  altarOrnament(altSvg,150,12,250,55,0.6);
  alt.appendChild(altSvg);

  // Banners flanking title
  for(let side of['left:10%','right:10%']){
    const ban=document.createElement('div');
    ban.className='orn';
    ban.style.cssText=`top:35%;${side};width:100px;height:20px`;
    summon.appendChild(ban);
    const banSvg=S('0 0 100 20','100%','100%','0.04');
    banner(banSvg,50,10,85,16,0.6);
    ban.appendChild(banSvg);
  }

  // Pinnacles
  const pin=document.createElement('div');
  pin.className='orn';
  pin.style.cssText='top:0;left:0;width:100%;height:50px';
  summon.appendChild(pin);
  const pinSvg=S('0 0 1200 50','100%','100%','0.04');
  for(let x=100;x<1200;x+=R(100,180)){
    pinnacle(pinSvg,x,3,R(30,45),R(0.25,0.55));
  }
  pin.appendChild(pinSvg);
})();


// ── Final deep background expansion ──
(function deepBg(){
  const el=document.getElementById('bgFiligree');
  if(!el||!el.querySelector('svg'))return;
  const svg=el.querySelector('svg');

  // Flying buttresses
  for(let i=0;i<8;i++){
    flyingButtress(svg,R(50,500),R(200,3700),R(200,700),R(100,3600),R(0.01,0.02));
  }
  // Pinnacles
  for(let i=0;i<15;i++){
    pinnacle(svg,R(50,1150),R(50,3800),R(20,60),R(0.01,0.02));
  }
  // Altars
  for(let i=0;i<6;i++){
    altarOrnament(svg,R(100,1100),R(200,3700),R(40,80),R(30,50),R(0.01,0.02));
  }
  // Chalices
  for(let i=0;i<10;i++){
    chalice(svg,R(80,1120),R(100,3850),R(15,35),R(0.008,0.02));
  }
  // Banners
  for(let i=0;i<8;i++){
    banner(svg,R(150,1050),R(200,3700),R(50,120),R(12,25),R(0.01,0.02));
  }
  // Memento mori
  for(let i=0;i<10;i++){
    mementoMori(svg,R(100,1100),R(200,3800),R(12,30),R(0.008,0.018));
  }
  // More chains
  for(let i=0;i<30;i++){
    chain(svg,R(30,1170),R(50,3850),R(10,45),R(0.008,0.025),R(0.5,2.5),false);
  }
  // More thorny vine fragments
  for(let i=0;i<12;i++){
    const pts=[];
    const sx=R(50,1100),sy=R(100,3800);
    for(let t=0;t<RI(3,8);t++){
      pts.push({x:sx+t*R(15,30)+R(-8,8),y:sy+t*R(-5,5)});
    }
    thornedArchway(svg,pts,R(0.15,0.4),R(0.01,0.025),R(2,6),R(0.5,1.5),R(0,1)<0.5);
  }
  // Filigree spirals
  for(let i=0;i<18;i++){
    filigreeSpiral(svg,R(50,1150),R(50,3950),R(6,20),R(1,3),R(0.01,0.03),R(0.15,0.3));
  }
  // Iron gate fragments
  for(let i=0;i<5;i++){
    ironGate(svg,R(50,900),R(200,3600),R(80,200),R(40,100),R(0.01,0.02));
  }
  // Crypt borders
  for(let i=0;i<8;i++){
    cryptBorder(svg,R(30,600),R(150,3700),R(150,500),R(0.008,0.018));
  }
})();


// ════════════════════════════════════════════════════════════════
// GENERATOR #26-31 — ABYSS LAYER
// ════════════════════════════════════════════════════════════════

// #26 — Censer (swinging incense burner)
function censer(svg,cx,cy,size,op,c){
  c=c||col;
  const hw=size*0.3, hh=size*0.5;
  // Chain suspending the censer
  const chainH=size*0.4;
  P(svg,`M${cx},${cy} L${cx},${cy+chainH}`,R(0.3,0.6),op,c);
  // Bowl body
  P(svg,`M${cx-hw},${cy+chainH} Q${cx-hw*1.2},${cy+chainH+hh*0.5} ${cx},${cy+chainH+hh} Q${cx+hw*1.2},${cy+chainH+hh*0.5} ${cx+hw},${cy+chainH}`,R(0.3,0.6),op,c);
  // Lid
  P(svg,`M${cx-hw*0.8},${cy+chainH} Q${cx},${cy+chainH-size*0.15} ${cx+hw*0.8},${cy+chainH}`,R(0.2,0.5),op*0.8,c);
  // Smoke tendrils
  for(let i=0;i<RI(3,6);i++){
    const sx=cx+R(-hw*0.3,hw*0.3);
    const sTop=cy+chainH+hh;
    P(svg,`M${sx},${sTop} Q${sx+R(-8,8)},${sTop+R(5,15)} ${sx+R(-12,12)},${sTop+R(15,30)} Q${sx+R(-15,15)},${sTop+R(25,40)} ${sx+R(-20,20)},${sTop+R(35,55)}`,R(0.1,0.3),op*R(0.3,0.7),c);
  }
  // Filigree on bowl
  for(let a=-0.6;a<=0.6;a+=0.3){
    const fx=cx+Math.sin(a)*hw*0.8;
    const fy=cy+chainH+hh*0.3+Math.cos(a)*hh*0.2;
    miniCross(svg,fx,fy,size*0.08,op*0.6,c);
  }
}

// #27 — Wrought Iron Fence segment
function ironFence(svg,x,y,w,h,op,c){
  c=c||col;
  // Top rail
  P(svg,`M${x},${y} L${x+w},${y}`,R(0.4,0.8),op,c);
  // Bottom rail
  P(svg,`M${x},${y+h} L${x+w},${y+h}`,R(0.4,0.8),op,c);
  // Vertical bars with spearpoints
  const barCount=Math.floor(w/R(12,20));
  const gap=w/barCount;
  for(let i=0;i<=barCount;i++){
    const bx=x+i*gap;
    P(svg,`M${bx},${y} L${bx},${y+h}`,R(0.2,0.4),op*0.8,c);
    // Spearpoint at top
    P(svg,`M${bx-2},${y} L${bx},${y-R(4,8)} L${bx+2},${y}`,R(0.2,0.4),op,c);
    // Small scroll between bars
    if(i<barCount){
      const mx=bx+gap*0.5;
      const my=y+h*R(0.3,0.7);
      filigreeSpiral(svg,mx,my,R(2,5),R(0.5,1.5),op*0.5,R(0.15,0.3),c);
    }
  }
  // Middle crossbar with scroll
  const midY=y+h*0.5;
  P(svg,`M${x},${midY} L${x+w},${midY}`,R(0.2,0.4),op*0.6,c);
}

// #28 — Bat Silhouette
function batSilhouette(svg,cx,cy,span,op,c){
  c=c||col;
  const hw=span*0.5, hh=span*0.25;
  // Wing left
  P(svg,`M${cx},${cy} Q${cx-hw*0.4},${cy-hh} ${cx-hw},${cy-hh*0.5} Q${cx-hw*0.7},${cy-hh*0.8} ${cx-hw*0.5},${cy-hh*0.3} Q${cx-hw*0.3},${cy+hh*0.2} ${cx},${cy}`,R(0.2,0.4),op,c);
  // Wing right
  P(svg,`M${cx},${cy} Q${cx+hw*0.4},${cy-hh} ${cx+hw},${cy-hh*0.5} Q${cx+hw*0.7},${cy-hh*0.8} ${cx+hw*0.5},${cy-hh*0.3} Q${cx+hw*0.3},${cy+hh*0.2} ${cx},${cy}`,R(0.2,0.4),op,c);
  // Body
  E(svg,cx,cy,span*0.06,span*0.08,R(0.2,0.4),op*0.8,c);
  // Ears
  P(svg,`M${cx-3},${cy-span*0.07} L${cx-1},${cy-span*0.14} L${cx+1},${cy-span*0.07}`,R(0.15,0.3),op*0.7,c);
  P(svg,`M${cx+1},${cy-span*0.07} L${cx+3},${cy-span*0.14} L${cx+5},${cy-span*0.07}`,R(0.15,0.3),op*0.7,c);
}

// #29 — Coffin Shape
function coffinShape(svg,cx,cy,w,h,op,c){
  c=c||col;
  const tw=w*0.4, bw=w*0.3;
  // Coffin outline
  P(svg,`M${cx-tw},${cy-h*0.35} L${cx-w*0.5},${cy-h*0.15} L${cx-bw},${cy+h*0.5} L${cx+bw},${cy+h*0.5} L${cx+w*0.5},${cy-h*0.15} L${cx+tw},${cy-h*0.35} Z`,R(0.3,0.6),op,c);
  // Inner coffin
  const sc=0.75;
  P(svg,`M${cx-tw*sc},${cy-h*0.35*sc} L${cx-w*0.5*sc},${cy-h*0.15*sc} L${cx-bw*sc},${cy+h*0.5*sc} L${cx+bw*sc},${cy+h*0.5*sc} L${cx+w*0.5*sc},${cy-h*0.15*sc} L${cx+tw*sc},${cy-h*0.35*sc} Z`,R(0.2,0.4),op*0.6,c);
  // Cross on lid
  miniCross(svg,cx,cy-h*0.05,Math.min(w,h)*0.2,op*0.5,c);
  // Decorative rivets at joints
  const joints=[
    [cx-tw,cy-h*0.35],[cx+tw,cy-h*0.35],
    [cx-w*0.5,cy-h*0.15],[cx+w*0.5,cy-h*0.15],
    [cx-bw,cy+h*0.5],[cx+bw,cy+h*0.5]
  ];
  joints.forEach(([jx,jy])=>{
    E(svg,jx,jy,1.5,1.5,R(0.1,0.3),op*0.8,c);
  });
}

// #30 — Serpent Coil
function serpentCoil(svg,cx,cy,radius,coils,op,c){
  c=c||col;
  let d='';
  const totalAngle=coils*Math.PI*2;
  const steps=coils*20;
  for(let i=0;i<=steps;i++){
    const t=i/steps;
    const angle=t*totalAngle;
    const r=radius*(1-t*0.6);
    const x=cx+Math.cos(angle)*r;
    const y=cy+Math.sin(angle)*r*0.5;
    d+=(i===0?'M':'L')+`${x.toFixed(1)},${y.toFixed(1)}`;
  }
  P(svg,d,R(0.3,0.7),op,c);
  // Head
  const headAngle=0;
  const headR=radius;
  const hx=cx+Math.cos(headAngle)*headR;
  const hy=cy;
  P(svg,`M${hx},${hy} L${hx+R(4,8)},${hy-R(2,4)} M${hx},${hy} L${hx+R(4,8)},${hy+R(2,4)}`,R(0.3,0.6),op,c);
  // Scales along body
  for(let i=2;i<steps;i+=RI(3,5)){
    const t=i/steps;
    const angle=t*totalAngle;
    const r=radius*(1-t*0.6);
    const sx=cx+Math.cos(angle)*r;
    const sy=cy+Math.sin(angle)*r*0.5;
    E(svg,sx,sy,R(0.5,1.5),R(0.8,2),R(0.1,0.2),op*0.4,c);
  }
}

// #31 — Wax Seal
function waxSeal(svg,cx,cy,r,op,c){
  c=c||col;
  // Wavy outer edge
  let d='';
  const bumps=RI(12,20);
  for(let i=0;i<=bumps;i++){
    const a=(i/bumps)*Math.PI*2;
    const rr=r+R(-r*0.08,r*0.08);
    const x=cx+Math.cos(a)*rr;
    const y=cy+Math.sin(a)*rr;
    d+=(i===0?'M':'L')+`${x.toFixed(1)},${y.toFixed(1)}`;
  }
  d+='Z';
  P(svg,d,R(0.3,0.6),op,c);
  // Inner circle
  E(svg,cx,cy,r*0.7,r*0.7,R(0.2,0.5),op*0.7,c);
  // Cross or monogram
  miniCross(svg,cx,cy,r*0.4,op*0.6,c);
  // Drip at bottom
  P(svg,`M${cx},${cy+r} Q${cx+R(-3,3)},${cy+r+R(4,10)} ${cx+R(-2,2)},${cy+r+R(10,20)}`,R(0.3,0.6),op*0.5,c);
}


// ════════════════════════════════════════════════════════════════
// ABYSS LAYER EXPANSION — Generators 26-31 placement
// ════════════════════════════════════════════════════════════════

// ── Abyss Hero ──
(function abyssHero(){
  const hero=document.getElementById('hero');
  if(!hero)return;

  // Censers hanging from top
  for(let side of['left:8%','right:8%','left:25%','right:25%']){
    const cs=document.createElement('div');
    cs.className='orn';
    cs.style.cssText=`top:5px;${side};width:50px;height:120px`;
    hero.appendChild(cs);
    const csSvg=S('0 0 50 120','100%','100%','0.04');
    censer(csSvg,25,0,R(30,45),R(0.4,0.7));
    cs.appendChild(csSvg);
  }

  // Bat silhouettes in upper area
  for(let i=0;i<6;i++){
    const bat=document.createElement('div');
    bat.className='orn';
    bat.style.cssText=`top:${R(10,40)}%;left:${R(5,90)}%;width:60px;height:35px`;
    hero.appendChild(bat);
    const batSvg=S('0 0 60 35','100%','100%','0.03');
    batSilhouette(batSvg,30,20,R(25,50),R(0.3,0.6));
    bat.appendChild(batSvg);
  }

  // Iron fence at very bottom
  const fence=document.createElement('div');
  fence.className='orn';
  fence.style.cssText='bottom:0;left:0;width:100%;height:35px';
  hero.appendChild(fence);
  const fSvg=S('0 0 1200 35','100%','100%','0.03');
  ironFence(fSvg,0,5,1200,25,R(0.2,0.5));
  fence.appendChild(fSvg);

  // Wax seals at corners
  for(let pos of['top:20%;left:5%','top:20%;right:5%','bottom:15%;left:8%','bottom:15%;right:8%']){
    const ws=document.createElement('div');
    ws.className='orn';
    ws.style.cssText=`${pos};width:40px;height:45px`;
    hero.appendChild(ws);
    const wsSvg=S('0 0 40 45','100%','100%','0.03');
    waxSeal(wsSvg,20,20,R(12,18),R(0.3,0.6));
    ws.appendChild(wsSvg);
  }
})();


// ── Abyss About ──
(function abyssAbout(){
  const about=document.getElementById('about');
  if(!about)return;

  // Serpent coils flanking
  for(let side of['left:3%','right:3%']){
    const sp=document.createElement('div');
    sp.className='orn';
    sp.style.cssText=`top:40%;${side};width:80px;height:60px`;
    about.appendChild(sp);
    const spSvg=S('0 0 80 60','100%','100%','0.03');
    serpentCoil(spSvg,40,30,R(20,35),R(2,4),R(0.3,0.6));
    sp.appendChild(spSvg);
  }

  // Coffin shapes at bottom
  for(let i=0;i<3;i++){
    const cf=document.createElement('div');
    cf.className='orn';
    cf.style.cssText=`bottom:${R(10,50)}px;left:${15+i*30}%;width:50px;height:80px`;
    about.appendChild(cf);
    const cfSvg=S('0 0 50 80','100%','100%','0.03');
    coffinShape(cfSvg,25,40,R(30,45),R(55,75),R(0.25,0.5));
    cf.appendChild(cfSvg);
  }

  // Bat scatter
  for(let i=0;i<4;i++){
    const bat=document.createElement('div');
    bat.className='orn';
    bat.style.cssText=`top:${R(5,85)}%;left:${R(5,90)}%;width:40px;height:25px`;
    about.appendChild(bat);
    const batSvg=S('0 0 40 25','100%','100%','0.025');
    batSilhouette(batSvg,20,15,R(18,35),R(0.25,0.5));
    bat.appendChild(batSvg);
  }
})();


// ── Abyss Arsenal ──
(function abyssArsenal(){
  const arsenal=document.getElementById('arsenal');
  if(!arsenal)return;

  // Iron fence top border
  const fence=document.createElement('div');
  fence.className='orn';
  fence.style.cssText='top:0;left:0;width:100%;height:30px';
  arsenal.appendChild(fence);
  const fSvg=S('0 0 1200 30','100%','100%','0.03');
  ironFence(fSvg,0,3,1200,22,R(0.2,0.4),colLight);
  fence.appendChild(fSvg);

  // Wax seals between cards
  for(let i=0;i<4;i++){
    const ws=document.createElement('div');
    ws.className='orn';
    ws.style.cssText=`top:55%;left:${12+i*22}%;width:30px;height:35px`;
    arsenal.appendChild(ws);
    const wsSvg=S('0 0 30 35','100%','100%','0.03');
    waxSeal(wsSvg,15,15,R(8,13),R(0.3,0.5),colLight);
    ws.appendChild(wsSvg);
  }

  // Censers at top
  for(let side of['left:5%','right:5%']){
    const cs=document.createElement('div');
    cs.className='orn';
    cs.style.cssText=`top:80px;${side};width:40px;height:90px`;
    arsenal.appendChild(cs);
    const csSvg=S('0 0 40 90','100%','100%','0.03');
    censer(csSvg,20,0,R(22,35),R(0.3,0.5),colLight);
    cs.appendChild(csSvg);
  }
})();


// ── Abyss Conquests ──
(function abyssConquests(){
  const conquests=document.getElementById('conquests');
  if(!conquests)return;

  // Serpent coils around achievements
  for(let i=0;i<3;i++){
    const sp=document.createElement('div');
    sp.className='orn';
    sp.style.cssText=`top:${30+i*20}%;left:${R(2,90)}%;width:70px;height:50px`;
    conquests.appendChild(sp);
    const spSvg=S('0 0 70 50','100%','100%','0.03');
    serpentCoil(spSvg,35,25,R(15,30),R(2,3),R(0.25,0.5));
    sp.appendChild(spSvg);
  }

  // Coffin outlines
  for(let i=0;i<2;i++){
    const cf=document.createElement('div');
    cf.className='orn';
    cf.style.cssText=`bottom:${20+i*40}px;${i%2===0?'left:4%':'right:4%'};width:40px;height:65px`;
    conquests.appendChild(cf);
    const cfSvg=S('0 0 40 65','100%','100%','0.025');
    coffinShape(cfSvg,20,32,R(25,35),R(45,60),R(0.2,0.45));
    cf.appendChild(cfSvg);
  }

  // Bats
  for(let i=0;i<5;i++){
    const bat=document.createElement('div');
    bat.className='orn';
    bat.style.cssText=`top:${R(5,90)}%;left:${R(3,95)}%;width:35px;height:20px`;
    conquests.appendChild(bat);
    const batSvg=S('0 0 35 20','100%','100%','0.02');
    batSilhouette(batSvg,17,12,R(15,30),R(0.2,0.45));
    bat.appendChild(batSvg);
  }
})();


// ── Abyss Chronicle ──
(function abyssChronicle(){
  const chronicle=document.getElementById('chronicle');
  if(!chronicle)return;

  // Wax seals at timeline points
  for(let i=0;i<4;i++){
    const ws=document.createElement('div');
    ws.className='orn';
    ws.style.cssText=`top:${220+i*70}px;left:48%;width:25px;height:28px`;
    chronicle.appendChild(ws);
    const wsSvg=S('0 0 25 28','100%','100%','0.04');
    waxSeal(wsSvg,12,12,R(7,11),R(0.3,0.5),colLight);
    ws.appendChild(wsSvg);
  }

  // Iron fence bottom
  const fence=document.createElement('div');
  fence.className='orn';
  fence.style.cssText='bottom:0;left:0;width:100%;height:25px';
  chronicle.appendChild(fence);
  const fSvg=S('0 0 1200 25','100%','100%','0.03');
  ironFence(fSvg,0,3,1200,18,R(0.15,0.35),colLight);
  fence.appendChild(fSvg);

  // Serpent at bottom corner
  const sp=document.createElement('div');
  sp.className='orn';
  sp.style.cssText='bottom:30px;right:20px;width:60px;height:40px';
  chronicle.appendChild(sp);
  const spSvg=S('0 0 60 40','100%','100%','0.03');
  serpentCoil(spSvg,30,20,R(15,25),R(2,3),R(0.25,0.5),colLight);
  sp.appendChild(spSvg);
})();


// ── Abyss Summon ──
(function abyssSummon(){
  const summon=document.getElementById('summon');
  if(!summon)return;

  // Coffin backdrop behind form
  const cf=document.createElement('div');
  cf.className='orn';
  cf.style.cssText='top:30%;left:50%;width:200px;height:300px;transform:translateX(-50%)';
  summon.appendChild(cf);
  const cfSvg=S('0 0 200 300','100%','100%','0.02');
  coffinShape(cfSvg,100,150,R(140,180),R(240,290),R(0.15,0.35));
  cfSvg.style.opacity='0.03';
  cf.appendChild(cfSvg);

  // Serpent coils near bottom
  for(let side of['left:10%','right:10%']){
    const sp=document.createElement('div');
    sp.className='orn';
    sp.style.cssText=`bottom:60px;${side};width:70px;height:50px`;
    summon.appendChild(sp);
    const spSvg=S('0 0 70 50','100%','100%','0.03');
    serpentCoil(spSvg,35,25,R(18,30),R(2,4),R(0.25,0.5));
    sp.appendChild(spSvg);
  }

  // Bat swarm top
  for(let i=0;i<4;i++){
    const bat=document.createElement('div');
    bat.className='orn';
    bat.style.cssText=`top:${R(3,20)}%;left:${R(10,90)}%;width:45px;height:28px`;
    summon.appendChild(bat);
    const batSvg=S('0 0 45 28','100%','100%','0.025');
    batSilhouette(batSvg,22,16,R(20,40),R(0.25,0.5));
    bat.appendChild(batSvg);
  }
})();


// ── Abyss Background ──
(function abyssBg(){
  const el=document.getElementById('bgFiligree');
  if(!el||!el.querySelector('svg'))return;
  const svg=el.querySelector('svg');

  // Censers scattered
  for(let i=0;i<10;i++){
    censer(svg,R(80,1120),R(100,3800),R(10,25),R(0.008,0.02));
  }
  // Iron fence fragments
  for(let i=0;i<6;i++){
    ironFence(svg,R(30,700),R(200,3700),R(100,400),R(15,30),R(0.008,0.02));
  }
  // Bat silhouettes
  for(let i=0;i<20;i++){
    batSilhouette(svg,R(50,1150),R(50,3850),R(8,25),R(0.008,0.022));
  }
  // Coffins
  for(let i=0;i<8;i++){
    coffinShape(svg,R(100,1100),R(100,3800),R(10,30),R(18,50),R(0.006,0.018));
  }
  // Serpent coils
  for(let i=0;i<10;i++){
    serpentCoil(svg,R(80,1120),R(100,3800),R(8,20),R(2,4),R(0.006,0.018));
  }
  // Wax seals
  for(let i=0;i<15;i++){
    waxSeal(svg,R(60,1140),R(60,3850),R(4,12),R(0.008,0.02));
  }
  // Extra mini crosses scattered
  for(let i=0;i<25;i++){
    miniCross(svg,R(40,1160),R(40,3900),R(3,10),R(0.006,0.02));
  }
  // Extra starbursts
  for(let i=0;i<12;i++){
    starburst(svg,R(60,1140),R(60,3850),R(5,15),RI(5,12),R(0.006,0.018));
  }
  // Extra filigree spirals
  for(let i=0;i<20;i++){
    filigreeSpiral(svg,R(50,1150),R(50,3900),R(4,15),R(1,3),R(0.006,0.02),R(0.1,0.25));
  }
})();


// ════════════════════════════════════════════════════════════════
// GENERATORS #32-45 — INFERNO LAYER
// The deepest circle. Inspired by cathedral grotesques,
// ossuary architecture, and medieval manuscript marginalia.
// ════════════════════════════════════════════════════════════════

// #32 — Grotesque Face (gargoyle-like abstract face)
function grotesqueFace(svg,cx,cy,size,op,c){
  c=c||col;
  const hw=size*0.5,hh=size*0.6;
  // Skull outline
  P(svg,`M${cx-hw*0.7},${cy-hh*0.2} Q${cx-hw},${cy-hh} ${cx},${cy-hh*1.1} Q${cx+hw},${cy-hh} ${cx+hw*0.7},${cy-hh*0.2}`,R(0.3,0.6),op,c);
  // Jaw
  P(svg,`M${cx-hw*0.7},${cy-hh*0.2} Q${cx-hw*0.5},${cy+hh*0.3} ${cx},${cy+hh*0.4} Q${cx+hw*0.5},${cy+hh*0.3} ${cx+hw*0.7},${cy-hh*0.2}`,R(0.3,0.6),op,c);
  // Eye sockets
  for(let sx of[-1,1]){
    E(svg,cx+hw*0.3*sx,cy-hh*0.35,size*0.1,size*0.12,R(0.2,0.5),op*0.7,c);
    E(svg,cx+hw*0.3*sx,cy-hh*0.35,size*0.04,size*0.05,R(0.15,0.3),op*0.9,c);
  }
  // Nose cavity
  P(svg,`M${cx-size*0.04},${cy-hh*0.1} L${cx},${cy+hh*0.05} L${cx+size*0.04},${cy-hh*0.1}`,R(0.2,0.4),op*0.6,c);
  // Horns
  for(let sx of[-1,1]){
    const hx=cx+hw*0.6*sx;
    const hy=cy-hh*0.7;
    P(svg,`M${hx},${hy} Q${hx+size*0.3*sx},${hy-size*0.5} ${hx+size*0.15*sx},${hy-size*0.8}`,R(0.3,0.6),op*0.8,c);
    for(let r=0.2;r<0.8;r+=0.2){
      const rx=hx+(size*0.3*sx)*r*0.5;
      const ry=hy-(size*0.5)*r;
      P(svg,`M${rx-2*sx},${ry+1} L${rx+2*sx},${ry-1}`,R(0.1,0.2),op*0.4,c);
    }
  }
  // Teeth
  for(let t=-3;t<=3;t++){
    const tx=cx+t*size*0.06;
    const ty=cy+hh*0.2;
    P(svg,`M${tx},${ty} L${tx+R(-1,1)},${ty+R(3,7)}`,R(0.15,0.3),op*0.5,c);
  }
  miniCross(svg,cx,cy-hh*0.75,size*0.12,op*0.4,c);
  for(let sx of[-1,1]){
    filigreeSpiral(svg,cx+hw*0.55*sx,cy,size*0.12,R(1,2),op*0.3,R(0.1,0.2),c);
  }
}

// #33 — Spider Web
function spiderWeb(svg,cx,cy,radius,rings,spokes,op,c){
  c=c||col;
  for(let i=0;i<spokes;i++){
    const angle=(i/spokes)*Math.PI*2;
    const ex=cx+Math.cos(angle)*radius;
    const ey=cy+Math.sin(angle)*radius;
    P(svg,`M${cx},${cy} L${ex},${ey}`,R(0.1,0.3),op*0.6,c);
  }
  for(let r=1;r<=rings;r++){
    const rr=radius*(r/rings);
    let d='';
    for(let i=0;i<=spokes;i++){
      const angle=(i/spokes)*Math.PI*2;
      const wobble=R(-rr*0.05,rr*0.05);
      const x=cx+Math.cos(angle)*(rr+wobble);
      const y=cy+Math.sin(angle)*(rr+wobble);
      d+=(i===0?'M':'L')+`${x.toFixed(1)},${y.toFixed(1)}`;
    }
    P(svg,d,R(0.08,0.2),op*0.4,c);
  }
  for(let r=2;r<=rings;r+=2){
    const rr=radius*(r/rings);
    for(let i=0;i<spokes;i+=RI(1,3)){
      const angle=(i/spokes)*Math.PI*2;
      const x=cx+Math.cos(angle)*rr;
      const y=cy+Math.sin(angle)*rr;
      E(svg,x,y,R(0.3,1),R(0.3,1),R(0.05,0.15),op*0.5,c);
    }
  }
}

// #34 — Dripping Wax
function drippingWax(svg,x,yStart,count,maxLen,op,c){
  c=c||col;
  for(let i=0;i<count;i++){
    const dx=x+i*R(6,14);
    const len=R(maxLen*0.3,maxLen);
    P(svg,`M${dx},${yStart} Q${dx+R(-3,3)},${yStart+len*0.5} ${dx+R(-2,2)},${yStart+len}`,R(0.3,0.8),op,c);
    E(svg,dx+R(-2,2),yStart+len,R(1,3),R(1.5,4),R(0.2,0.5),op*0.7,c);
    if(R(0,1)>0.5){
      const mLen=len*R(0.2,0.5);
      P(svg,`M${dx+R(-4,4)},${yStart+R(2,8)} Q${dx+R(-5,5)},${yStart+mLen*0.5} ${dx+R(-3,3)},${yStart+mLen}`,R(0.1,0.3),op*0.4,c);
    }
  }
}

// #35 — Pentacle
function pentacle(svg,cx,cy,radius,op,c){
  c=c||col;
  E(svg,cx,cy,radius,radius,R(0.2,0.5),op,c);
  E(svg,cx,cy,radius*0.85,radius*0.85,R(0.15,0.3),op*0.6,c);
  let starD='';
  for(let i=0;i<5;i++){
    const outerA=((i*72)-90)*Math.PI/180;
    const innerA=(((i*72)+36)-90)*Math.PI/180;
    const ox=cx+Math.cos(outerA)*radius*0.8;
    const oy=cy+Math.sin(outerA)*radius*0.8;
    const ix=cx+Math.cos(innerA)*radius*0.35;
    const iy=cy+Math.sin(innerA)*radius*0.35;
    starD+=(i===0?'M':'L')+`${ox.toFixed(1)},${oy.toFixed(1)} L${ix.toFixed(1)},${iy.toFixed(1)}`;
  }
  starD+='Z';
  P(svg,starD,R(0.2,0.4),op*0.7,c);
  E(svg,cx,cy,radius*0.06,radius*0.06,R(0.2,0.4),op*0.9,c);
  for(let i=0;i<5;i++){
    const a=((i*72)-90)*Math.PI/180;
    const rx=cx+Math.cos(a)*radius*1.15;
    const ry=cy+Math.sin(a)*radius*1.15;
    miniCross(svg,rx,ry,radius*0.1,op*0.3,c);
  }
}

// #36 — Thorny Crown
function thornyCrown(svg,cx,cy,radius,op,c){
  c=c||col;
  const segments=RI(16,28);
  let pts=[];
  for(let i=0;i<=segments;i++){
    const a=(i/segments)*Math.PI*2;
    const wobble=R(-radius*0.06,radius*0.06);
    pts.push({x:cx+Math.cos(a)*(radius+wobble),y:cy+Math.sin(a)*(radius+wobble)});
  }
  P(svg,curvePath(pts),R(0.4,0.8),op,c);
  let pts2=[];
  for(let i=0;i<=segments;i++){
    const a=(i/segments)*Math.PI*2+0.15;
    const wobble=R(-radius*0.08,radius*0.08);
    pts2.push({x:cx+Math.cos(a)*(radius*0.92+wobble),y:cy+Math.sin(a)*(radius*0.92+wobble)});
  }
  P(svg,curvePath(pts2),R(0.3,0.6),op*0.7,c);
  for(let i=0;i<segments;i++){
    const a=(i/segments)*Math.PI*2;
    const bx=cx+Math.cos(a)*radius;
    const by=cy+Math.sin(a)*radius;
    const thornDir=a+R(-0.3,0.3);
    const thornLen=R(radius*0.15,radius*0.35);
    const tx=bx+Math.cos(thornDir)*thornLen;
    const ty=by+Math.sin(thornDir)*thornLen;
    P(svg,`M${bx},${by} Q${(bx+tx)/2+R(-2,2)},${(by+ty)/2+R(-2,2)} ${tx},${ty}`,R(0.15,0.35),op*0.6,c);
  }
  for(let i=0;i<segments;i+=2){
    const a=(i/segments)*Math.PI*2;
    const bx=cx+Math.cos(a)*radius*0.85;
    const by=cy+Math.sin(a)*radius*0.85;
    const thornDir=a+Math.PI+R(-0.4,0.4);
    const thornLen=R(radius*0.1,radius*0.2);
    const tx=bx+Math.cos(thornDir)*thornLen;
    const ty=by+Math.sin(thornDir)*thornLen;
    P(svg,`M${bx},${by} L${tx},${ty}`,R(0.1,0.25),op*0.4,c);
  }
}

// #37 — Lantern
function lantern(svg,cx,cy,size,op,c){
  c=c||col;
  const w=size*0.4,h=size*0.6;
  P(svg,`M${cx},${cy} L${cx},${cy+size*0.2}`,R(0.2,0.4),op*0.7,c);
  const roofY=cy+size*0.2;
  P(svg,`M${cx-w*0.6},${roofY+h*0.15} L${cx},${roofY} L${cx+w*0.6},${roofY+h*0.15}`,R(0.3,0.6),op,c);
  const bodyTop=roofY+h*0.15;
  const bodyBot=roofY+h*0.85;
  P(svg,`M${cx-w},${bodyTop} L${cx-w},${bodyBot} L${cx-w*0.3},${bodyBot+h*0.15} L${cx+w*0.3},${bodyBot+h*0.15} L${cx+w},${bodyBot} L${cx+w},${bodyTop} Z`,R(0.3,0.5),op,c);
  P(svg,`M${cx-w*0.7},${bodyTop+3} L${cx-w*0.7},${bodyBot-3}`,R(0.1,0.2),op*0.3,c);
  P(svg,`M${cx+w*0.7},${bodyTop+3} L${cx+w*0.7},${bodyBot-3}`,R(0.1,0.2),op*0.3,c);
  P(svg,`M${cx},${bodyTop+2} L${cx},${bodyBot-2}`,R(0.1,0.2),op*0.3,c);
  E(svg,cx,bodyTop+(bodyBot-bodyTop)*0.5,w*0.4,w*0.4,R(0.1,0.2),op*0.2,c);
  P(svg,`M${cx},${bodyBot+h*0.15} L${cx},${bodyBot+h*0.15+R(4,10)}`,R(0.2,0.4),op*0.6,c);
  E(svg,cx,bodyBot+h*0.15+R(5,12),R(1,2),R(1,2),R(0.15,0.3),op*0.5,c);
  for(let sx of[-1,1]){
    filigreeSpiral(svg,cx+w*0.9*sx,bodyTop+5,R(3,6),R(0.5,1.5),op*0.3,R(0.1,0.2),c);
  }
}

// #38 — Scythe
function scythe(svg,cx,cy,size,op,c){
  c=c||col;
  P(svg,`M${cx},${cy} L${cx+size*0.05},${cy+size*0.9}`,R(0.4,0.8),op,c);
  P(svg,`M${cx},${cy} Q${cx-size*0.6},${cy+size*0.1} ${cx-size*0.5},${cy+size*0.35} Q${cx-size*0.3},${cy+size*0.5} ${cx+size*0.05},${cy+size*0.25}`,R(0.3,0.6),op,c);
  P(svg,`M${cx},${cy} Q${cx-size*0.4},${cy+size*0.12} ${cx-size*0.3},${cy+size*0.3}`,R(0.2,0.4),op*0.5,c);
  for(let w=0.2;w<0.85;w+=0.08){
    const wy=cy+size*w;
    P(svg,`M${cx-3},${wy} L${cx+8},${wy-3}`,R(0.1,0.2),op*0.3,c);
  }
  E(svg,cx+size*0.05,cy+size*0.92,R(2,4),R(2,4),R(0.2,0.4),op*0.7,c);
}

// #39 — Ankh
function ankh(svg,cx,cy,size,op,c){
  c=c||col;
  const sw=R(0.3,0.7);
  E(svg,cx,cy-size*0.3,size*0.18,size*0.22,sw,op,c);
  P(svg,`M${cx},${cy-size*0.1} L${cx},${cy+size*0.5}`,sw,op,c);
  P(svg,`M${cx-size*0.2},${cy+size*0.05} L${cx+size*0.2},${cy+size*0.05}`,sw,op,c);
  E(svg,cx,cy-size*0.3,size*0.1,size*0.14,R(0.15,0.3),op*0.4,c);
  for(let dx of[-1,1]){
    P(svg,`M${cx+size*0.2*dx},${cy+size*0.05-3} L${cx+size*0.2*dx},${cy+size*0.05+3}`,sw*0.7,op*0.6,c);
  }
  P(svg,`M${cx-3},${cy+size*0.5} L${cx+3},${cy+size*0.5}`,sw*0.7,op*0.6,c);
}

// #40 — Fleur de Lis
function fleurDeLis(svg,cx,cy,size,op,c){
  c=c||col;
  P(svg,`M${cx},${cy+size*0.4} L${cx},${cy-size*0.1} Q${cx-size*0.05},${cy-size*0.35} ${cx},${cy-size*0.5} Q${cx+size*0.05},${cy-size*0.35} ${cx},${cy-size*0.1}`,R(0.3,0.6),op,c);
  P(svg,`M${cx},${cy+size*0.1} Q${cx-size*0.15},${cy} ${cx-size*0.35},${cy-size*0.3} Q${cx-size*0.4},${cy-size*0.45} ${cx-size*0.25},${cy-size*0.5} Q${cx-size*0.1},${cy-size*0.35} ${cx},${cy-size*0.1}`,R(0.3,0.6),op,c);
  P(svg,`M${cx},${cy+size*0.1} Q${cx+size*0.15},${cy} ${cx+size*0.35},${cy-size*0.3} Q${cx+size*0.4},${cy-size*0.45} ${cx+size*0.25},${cy-size*0.5} Q${cx+size*0.1},${cy-size*0.35} ${cx},${cy-size*0.1}`,R(0.3,0.6),op,c);
  P(svg,`M${cx-size*0.1},${cy+size*0.1} L${cx-size*0.15},${cy+size*0.4} L${cx+size*0.15},${cy+size*0.4} L${cx+size*0.1},${cy+size*0.1}`,R(0.2,0.4),op*0.7,c);
  P(svg,`M${cx-size*0.2},${cy+size*0.1} L${cx+size*0.2},${cy+size*0.1}`,R(0.3,0.5),op*0.8,c);
}

// #41 — Runic Inscription Band
function runicBand(svg,x,y,w,h,op,c){
  c=c||col;
  P(svg,`M${x},${y} L${x+w},${y}`,R(0.2,0.5),op,c);
  P(svg,`M${x},${y+h} L${x+w},${y+h}`,R(0.2,0.5),op,c);
  const runeW=R(6,12);
  const count=Math.floor(w/runeW);
  for(let i=0;i<count;i++){
    const rx=x+i*runeW+runeW*0.5;
    const ry=y+h*0.2;
    const rh=h*0.6;
    const type=RI(0,6);
    if(type===0){
      P(svg,`M${rx},${ry} L${rx},${ry+rh}`,R(0.15,0.3),op*0.6,c);
    }else if(type===1){
      P(svg,`M${rx},${ry} L${rx},${ry+rh} M${rx},${ry+rh*0.3} L${rx+runeW*0.3},${ry}`,R(0.15,0.3),op*0.6,c);
    }else if(type===2){
      P(svg,`M${rx-runeW*0.2},${ry} L${rx+runeW*0.2},${ry+rh} M${rx+runeW*0.2},${ry} L${rx-runeW*0.2},${ry+rh}`,R(0.15,0.3),op*0.6,c);
    }else if(type===3){
      P(svg,`M${rx},${ry} L${rx},${ry+rh} M${rx-runeW*0.25},${ry+rh*0.3} L${rx},${ry} L${rx+runeW*0.25},${ry+rh*0.3}`,R(0.15,0.3),op*0.6,c);
    }else if(type===4){
      P(svg,`M${rx},${ry} L${rx+runeW*0.2},${ry+rh*0.5} L${rx},${ry+rh} L${rx-runeW*0.2},${ry+rh*0.5} Z`,R(0.15,0.3),op*0.6,c);
    }else{
      P(svg,`M${rx},${ry} L${rx},${ry+rh} M${rx},${ry+rh*0.5} L${rx+runeW*0.3},${ry+rh*0.2}`,R(0.15,0.3),op*0.6,c);
    }
    if(i<count-1 && R(0,1)>0.6){
      E(svg,rx+runeW*0.5,y+h*0.5,R(0.3,0.8),R(0.3,0.8),R(0.05,0.15),op*0.3,c);
    }
  }
}

// #42 — Inverted Arch
function invertedArch(svg,cx,cy,w,h,op,c){
  c=c||col;
  P(svg,`M${cx-w*0.5},${cy} Q${cx},${cy+h} ${cx+w*0.5},${cy}`,R(0.3,0.7),op,c);
  P(svg,`M${cx-w*0.38},${cy} Q${cx},${cy+h*0.75} ${cx+w*0.38},${cy}`,R(0.2,0.5),op*0.6,c);
  E(svg,cx,cy+h*0.85,R(2,5),R(2,5),R(0.2,0.4),op*0.7,c);
  for(let sx of[-1,1]){
    const fx=cx+w*0.5*sx;
    P(svg,`M${fx},${cy} L${fx},${cy-R(5,15)}`,R(0.2,0.4),op*0.5,c);
    E(svg,fx,cy-R(6,16),R(1,3),R(1,3),R(0.15,0.3),op*0.5,c);
  }
  chain(svg,cx,cy+h*0.8,R(5,15),op*0.4,R(0.5,2),false,c);
}

// #43 — Bone Cross
function boneCross(svg,cx,cy,size,op,c){
  c=c||col;
  const l=size*0.5;
  P(svg,`M${cx},${cy-l} L${cx},${cy+l}`,R(0.5,1),op,c);
  for(let dy of[-1,1]){
    E(svg,cx-size*0.04,cy+l*dy,R(2,4),R(2,4),R(0.2,0.4),op*0.7,c);
    E(svg,cx+size*0.04,cy+l*dy,R(2,4),R(2,4),R(0.2,0.4),op*0.7,c);
  }
  P(svg,`M${cx-l*0.7},${cy} L${cx+l*0.7},${cy}`,R(0.5,1),op,c);
  for(let dx of[-1,1]){
    E(svg,cx+l*0.7*dx,cy-size*0.04,R(2,4),R(2,4),R(0.2,0.4),op*0.7,c);
    E(svg,cx+l*0.7*dx,cy+size*0.04,R(2,4),R(2,4),R(0.2,0.4),op*0.7,c);
  }
  E(svg,cx,cy,R(3,6),R(3,6),R(0.2,0.4),op*0.8,c);
}

// #44 — Dagger
function impaledSkull(svg,cx,cy,size,op,c){
  c=c||col;
  P(svg,`M${cx},${cy} L${cx-size*0.06},${cy+size*0.5} L${cx},${cy+size*0.65} L${cx+size*0.06},${cy+size*0.5} Z`,R(0.2,0.5),op,c);
  P(svg,`M${cx},${cy+size*0.05} L${cx},${cy+size*0.55}`,R(0.1,0.2),op*0.4,c);
  P(svg,`M${cx-size*0.15},${cy} Q${cx},${cy+size*0.03} ${cx+size*0.15},${cy}`,R(0.3,0.5),op,c);
  P(svg,`M${cx-size*0.15},${cy} Q${cx},${cy-size*0.03} ${cx+size*0.15},${cy}`,R(0.3,0.5),op*0.7,c);
  P(svg,`M${cx},${cy-size*0.02} L${cx},${cy-size*0.25}`,R(0.4,0.7),op,c);
  for(let w=0.05;w<0.23;w+=0.03){
    P(svg,`M${cx-2},${cy-size*w} L${cx+2},${cy-size*(w+0.015)}`,R(0.08,0.15),op*0.3,c);
  }
  E(svg,cx,cy-size*0.27,R(2,4),R(2,4),R(0.2,0.4),op*0.8,c);
  P(svg,`M${cx},${cy+size*0.65} L${cx+R(-1,1)},${cy+size*0.65+R(3,10)}`,R(0.15,0.3),op*0.4,c);
}

// #45 — Ornate Frame Border
function ornateFrame(svg,x,y,w,h,op,c){
  c=c||col;
  P(svg,`M${x},${y} L${x+w},${y} L${x+w},${y+h} L${x},${y+h} Z`,R(0.3,0.6),op,c);
  const m=Math.min(w,h)*0.08;
  P(svg,`M${x+m},${y+m} L${x+w-m},${y+m} L${x+w-m},${y+h-m} L${x+m},${y+h-m} Z`,R(0.2,0.4),op*0.7,c);
  for(let corner of[[x,y],[x+w,y],[x+w,y+h],[x,y+h]]){
    filigreeSpiral(svg,corner[0],corner[1],R(m*0.5,m*1.2),R(1,2),op*0.5,R(0.1,0.2),c);
  }
  fleurDeLis(svg,x+w*0.5,y-m*0.5,m*1.5,op*0.5,c);
  invertedArch(svg,x+w*0.5,y+h+m*0.2,w*0.3,m*2,op*0.3,c);
  for(let i=1;i<4;i++){
    const ty=y+h*(i/4);
    P(svg,`M${x},${ty} L${x-R(3,8)},${ty+R(-3,3)}`,R(0.15,0.3),op*0.4,c);
    P(svg,`M${x+w},${ty} L${x+w+R(3,8)},${ty+R(-3,3)}`,R(0.15,0.3),op*0.4,c);
  }
}


// ════════════════════════════════════════════════════════════════
// INFERNO LAYER — Section placements for generators #32-45
// ════════════════════════════════════════════════════════════════

// ── Inferno Hero ──
(function infernoHero(){
  const hero=document.getElementById('hero');
  if(!hero)return;

  // Grotesque faces flanking title
  for(let side of['left:2%','right:2%']){
    const gf=document.createElement('div');
    gf.className='orn';
    gf.style.cssText=`top:25%;${side};width:80px;height:100px`;
    hero.appendChild(gf);
    const gfSvg=S('0 0 80 100','100%','100%','0.04');
    grotesqueFace(gfSvg,40,50,R(50,70),R(0.3,0.6));
    gf.appendChild(gfSvg);
  }

  // Spider webs in upper corners
  for(let pos of['top:0;left:0','top:0;right:0']){
    const sw=document.createElement('div');
    sw.className='orn';
    sw.style.cssText=`${pos};width:120px;height:120px`;
    hero.appendChild(sw);
    const swSvg=S('0 0 120 120','100%','100%','0.03');
    spiderWeb(swSvg,pos.includes('left')?0:120,0,R(60,110),RI(4,7),RI(8,14),R(0.2,0.5));
    sw.appendChild(swSvg);
  }

  // Dripping wax from top edge
  const drip=document.createElement('div');
  drip.className='orn';
  drip.style.cssText='top:0;left:0;width:100%;height:80px';
  hero.appendChild(drip);
  const dripSvg=S('0 0 1200 80','100%','100%','0.03');
  drippingWax(dripSvg,R(50,150),0,RI(8,15),R(30,70),R(0.2,0.5));
  drippingWax(dripSvg,R(400,600),0,RI(6,12),R(25,60),R(0.15,0.4));
  drippingWax(dripSvg,R(800,1000),0,RI(8,15),R(30,70),R(0.2,0.5));
  drip.appendChild(dripSvg);

  // Thorny crown around hero subtitle area
  const tc=document.createElement('div');
  tc.className='orn';
  tc.style.cssText='top:60%;left:50%;width:200px;height:200px;transform:translate(-50%,-50%)';
  hero.appendChild(tc);
  const tcSvg=S('0 0 200 200','100%','100%','0.025');
  thornyCrown(tcSvg,100,100,R(60,90),R(0.2,0.45));
  tc.appendChild(tcSvg);

  // Lanterns flanking
  for(let side of['left:6%','right:6%']){
    const ln=document.createElement('div');
    ln.className='orn';
    ln.style.cssText=`top:10%;${side};width:40px;height:100px`;
    hero.appendChild(ln);
    const lnSvg=S('0 0 40 100','100%','100%','0.035');
    lantern(lnSvg,20,0,R(50,70),R(0.3,0.6));
    ln.appendChild(lnSvg);
  }

  // Daggers at edges
  for(let i=0;i<4;i++){
    const dg=document.createElement('div');
    dg.className='orn';
    dg.style.cssText=`top:${R(30,80)}%;left:${R(1,98)}%;width:25px;height:60px`;
    hero.appendChild(dg);
    const dgSvg=S('0 0 25 60','100%','100%','0.025');
    impaledSkull(dgSvg,12,2,R(40,55),R(0.25,0.5));
    dg.appendChild(dgSvg);
  }

  // Pentacle near bottom
  const pc=document.createElement('div');
  pc.className='orn';
  pc.style.cssText='bottom:10%;left:50%;width:100px;height:100px;transform:translateX(-50%)';
  hero.appendChild(pc);
  const pcSvg=S('0 0 100 100','100%','100%','0.02');
  pentacle(pcSvg,50,50,R(30,45),R(0.2,0.4));
  pc.appendChild(pcSvg);

  // Runic band under title
  const rb=document.createElement('div');
  rb.className='orn';
  rb.style.cssText='top:75%;left:10%;width:80%;height:20px';
  hero.appendChild(rb);
  const rbSvg=S('0 0 960 20','100%','100%','0.025');
  runicBand(rbSvg,10,2,940,16,R(0.2,0.45));
  rb.appendChild(rbSvg);
})();


// ── Inferno About ──
(function infernoAbout(){
  const about=document.getElementById('about');
  if(!about)return;

  // Fleur de lis at section top
  const fdl=document.createElement('div');
  fdl.className='orn';
  fdl.style.cssText='top:60px;left:50%;width:50px;height:60px;transform:translateX(-50%)';
  about.appendChild(fdl);
  const fdlSvg=S('0 0 50 60','100%','100%','0.04');
  fleurDeLis(fdlSvg,25,50,R(35,48),R(0.3,0.6));
  fdl.appendChild(fdlSvg);

  // Ornate frame around bio text
  const of1=document.createElement('div');
  of1.className='orn';
  of1.style.cssText='top:25%;left:15%;width:70%;height:50%;pointer-events:none';
  about.appendChild(of1);
  const ofSvg=S('0 0 840 400','100%','100%','0.02');
  ornateFrame(ofSvg,20,20,800,360,R(0.15,0.35));
  of1.appendChild(ofSvg);

  // Spider web corner
  const sw=document.createElement('div');
  sw.className='orn';
  sw.style.cssText='bottom:0;right:0;width:100px;height:100px';
  about.appendChild(sw);
  const swSvg=S('0 0 100 100','100%','100%','0.025');
  spiderWeb(swSvg,100,100,R(50,90),RI(3,6),RI(7,12),R(0.15,0.4));
  sw.appendChild(swSvg);

  // Bone crosses
  for(let i=0;i<3;i++){
    const bc=document.createElement('div');
    bc.className='orn';
    bc.style.cssText=`top:${R(15,80)}%;left:${R(2,95)}%;width:30px;height:35px`;
    about.appendChild(bc);
    const bcSvg=S('0 0 30 35','100%','100%','0.025');
    boneCross(bcSvg,15,17,R(20,30),R(0.2,0.5));
    bc.appendChild(bcSvg);
  }

  // Ankhs scattered
  for(let i=0;i<4;i++){
    const ak=document.createElement('div');
    ak.className='orn';
    ak.style.cssText=`top:${R(10,85)}%;left:${R(3,94)}%;width:20px;height:35px`;
    about.appendChild(ak);
    const akSvg=S('0 0 20 35','100%','100%','0.02');
    ankh(akSvg,10,10,R(18,30),R(0.2,0.45));
    ak.appendChild(akSvg);
  }

  // Runic band at bottom
  const rb=document.createElement('div');
  rb.className='orn';
  rb.style.cssText='bottom:20px;left:5%;width:90%;height:15px';
  about.appendChild(rb);
  const rbSvg=S('0 0 1080 15','100%','100%','0.02');
  runicBand(rbSvg,5,1,1070,13,R(0.15,0.35));
  rb.appendChild(rbSvg);
})();


// ── Inferno Arsenal ──
(function infernoArsenal(){
  const arsenal=document.getElementById('arsenal');
  if(!arsenal)return;

  // Grotesque faces at section edges
  for(let side of['left:1%','right:1%']){
    const gf=document.createElement('div');
    gf.className='orn';
    gf.style.cssText=`top:35%;${side};width:60px;height:75px`;
    arsenal.appendChild(gf);
    const gfSvg=S('0 0 60 75','100%','100%','0.03');
    grotesqueFace(gfSvg,30,38,R(35,55),R(0.25,0.5),colLight);
    gf.appendChild(gfSvg);
  }

  // Dripping wax from top
  const drip=document.createElement('div');
  drip.className='orn';
  drip.style.cssText='top:0;left:0;width:100%;height:60px';
  arsenal.appendChild(drip);
  const dSvg=S('0 0 1200 60','100%','100%','0.025');
  drippingWax(dSvg,R(50,200),0,RI(10,20),R(20,55),R(0.15,0.4),colLight);
  drippingWax(dSvg,R(500,700),0,RI(8,16),R(15,50),R(0.15,0.4),colLight);
  drippingWax(dSvg,R(900,1100),0,RI(10,20),R(20,55),R(0.15,0.4),colLight);
  drip.appendChild(dSvg);

  // Scythes at corners
  for(let pos of['top:15%;left:3%','top:15%;right:3%','bottom:10%;left:3%','bottom:10%;right:3%']){
    const sc=document.createElement('div');
    sc.className='orn';
    sc.style.cssText=`${pos};width:35px;height:70px`;
    arsenal.appendChild(sc);
    const scSvg=S('0 0 35 70','100%','100%','0.025');
    scythe(scSvg,20,3,R(45,60),R(0.2,0.45),colLight);
    sc.appendChild(scSvg);
  }

  // Pentacle behind section title
  const pc=document.createElement('div');
  pc.className='orn';
  pc.style.cssText='top:5%;left:50%;width:120px;height:120px;transform:translateX(-50%)';
  arsenal.appendChild(pc);
  const pcSvg=S('0 0 120 120','100%','100%','0.02');
  pentacle(pcSvg,60,60,R(40,55),R(0.15,0.35),colLight);
  pc.appendChild(pcSvg);

  // Lanterns at sides
  for(let side of['left:5%','right:5%']){
    const ln=document.createElement('div');
    ln.className='orn';
    ln.style.cssText=`top:50%;${side};width:30px;height:80px`;
    arsenal.appendChild(ln);
    const lnSvg=S('0 0 30 80','100%','100%','0.025');
    lantern(lnSvg,15,0,R(40,60),R(0.2,0.45),colLight);
    ln.appendChild(lnSvg);
  }

  // Fleur de lis row at bottom
  const fRow=document.createElement('div');
  fRow.className='orn';
  fRow.style.cssText='bottom:10px;left:0;width:100%;height:40px';
  arsenal.appendChild(fRow);
  const fSvg=S('0 0 1200 40','100%','100%','0.02');
  for(let x=100;x<1200;x+=R(120,200)){
    fleurDeLis(fSvg,x,30,R(15,25),R(0.2,0.4),colLight);
  }
  fRow.appendChild(fSvg);
})();


// ── Inferno Conquests ──
(function infernoConquests(){
  const conquests=document.getElementById('conquests');
  if(!conquests)return;

  // Inverted arches
  for(let i=0;i<4;i++){
    const ia=document.createElement('div');
    ia.className='orn';
    ia.style.cssText=`top:${30+i*15}%;left:${R(10,80)}%;width:100px;height:50px`;
    conquests.appendChild(ia);
    const iaSvg=S('0 0 100 50','100%','100%','0.025');
    invertedArch(iaSvg,50,5,R(60,90),R(25,40),R(0.2,0.45));
    ia.appendChild(iaSvg);
  }

  // Bone crosses at margins
  for(let i=0;i<5;i++){
    const bc=document.createElement('div');
    bc.className='orn';
    bc.style.cssText=`top:${R(5,90)}%;${R(0,1)>0.5?'left':'right'}:${R(1,6)}%;width:25px;height:30px`;
    conquests.appendChild(bc);
    const bcSvg=S('0 0 25 30','100%','100%','0.02');
    boneCross(bcSvg,12,15,R(16,24),R(0.2,0.4));
    bc.appendChild(bcSvg);
  }

  // Daggers scattered
  for(let i=0;i<3;i++){
    const dg=document.createElement('div');
    dg.className='orn';
    dg.style.cssText=`top:${R(10,85)}%;left:${R(5,92)}%;width:20px;height:50px`;
    conquests.appendChild(dg);
    const dgSvg=S('0 0 20 50','100%','100%','0.02');
    impaledSkull(dgSvg,10,2,R(35,45),R(0.2,0.4));
    dg.appendChild(dgSvg);
  }

  // Ankh row at bottom
  const aRow=document.createElement('div');
  aRow.className='orn';
  aRow.style.cssText='bottom:15px;left:10%;width:80%;height:30px';
  conquests.appendChild(aRow);
  const aSvg=S('0 0 960 30','100%','100%','0.02');
  for(let x=40;x<960;x+=R(80,140)){
    ankh(aSvg,x,5,R(16,24),R(0.15,0.35));
  }
  aRow.appendChild(aSvg);
})();


// ── Inferno Chronicle ──
(function infernoChronicle(){
  const chronicle=document.getElementById('chronicle');
  if(!chronicle)return;

  // Spider webs at corners
  for(let pos of['top:0;left:0','bottom:0;right:0']){
    const sw=document.createElement('div');
    sw.className='orn';
    sw.style.cssText=`${pos};width:100px;height:100px`;
    chronicle.appendChild(sw);
    const swSvg=S('0 0 100 100','100%','100%','0.025');
    const anchor=pos.includes('left')?[0,0]:[100,100];
    spiderWeb(swSvg,anchor[0],anchor[1],R(50,90),RI(3,6),RI(7,11),R(0.15,0.35),colLight);
    sw.appendChild(swSvg);
  }

  // Thorny crown behind title
  const tc=document.createElement('div');
  tc.className='orn';
  tc.style.cssText='top:50px;left:50%;width:160px;height:160px;transform:translateX(-50%)';
  chronicle.appendChild(tc);
  const tcSvg=S('0 0 160 160','100%','100%','0.02');
  thornyCrown(tcSvg,80,80,R(50,70),R(0.15,0.35),colLight);
  tc.appendChild(tcSvg);

  // Lanterns at timeline sides
  for(let i=0;i<3;i++){
    for(let side of['left:8%','right:8%']){
      const ln=document.createElement('div');
      ln.className='orn';
      ln.style.cssText=`top:${30+i*20}%;${side};width:25px;height:65px`;
      chronicle.appendChild(ln);
      const lnSvg=S('0 0 25 65','100%','100%','0.02');
      lantern(lnSvg,12,0,R(35,50),R(0.2,0.4),colLight);
      ln.appendChild(lnSvg);
    }
  }

  // Runic band above timeline
  const rb=document.createElement('div');
  rb.className='orn';
  rb.style.cssText='top:145px;left:10%;width:80%;height:14px';
  chronicle.appendChild(rb);
  const rbSvg=S('0 0 960 14','100%','100%','0.02');
  runicBand(rbSvg,5,1,950,12,R(0.15,0.3),colLight);
  rb.appendChild(rbSvg);

  // Ornate frame around timeline
  const of1=document.createElement('div');
  of1.className='orn';
  of1.style.cssText='top:10%;left:5%;width:90%;height:80%';
  chronicle.appendChild(of1);
  const ofSvg=S('0 0 1080 640','100%','100%','0.015');
  ornateFrame(ofSvg,15,15,1050,610,R(0.1,0.25),colLight);
  of1.appendChild(ofSvg);

  // Scythe at bottom corner
  const sc=document.createElement('div');
  sc.className='orn';
  sc.style.cssText='bottom:20px;right:20px;width:30px;height:60px';
  chronicle.appendChild(sc);
  const scSvg=S('0 0 30 60','100%','100%','0.025');
  scythe(scSvg,18,2,R(40,55),R(0.2,0.4),colLight);
  sc.appendChild(scSvg);
})();


// ── Inferno Summon ──
(function infernoSummon(){
  const summon=document.getElementById('summon');
  if(!summon)return;

  // Pentacle behind contact form
  const pc=document.createElement('div');
  pc.className='orn';
  pc.style.cssText='top:35%;left:50%;width:250px;height:250px;transform:translate(-50%,-50%)';
  summon.appendChild(pc);
  const pcSvg=S('0 0 250 250','100%','100%','0.015');
  pentacle(pcSvg,125,125,R(80,110),R(0.12,0.28));
  pc.appendChild(pcSvg);

  // Grotesque faces at bottom
  for(let side of['left:3%','right:3%']){
    const gf=document.createElement('div');
    gf.className='orn';
    gf.style.cssText=`bottom:5%;${side};width:50px;height:65px`;
    summon.appendChild(gf);
    const gfSvg=S('0 0 50 65','100%','100%','0.03');
    grotesqueFace(gfSvg,25,33,R(30,45),R(0.2,0.45));
    gf.appendChild(gfSvg);
  }

  // Dripping wax at top
  const drip=document.createElement('div');
  drip.className='orn';
  drip.style.cssText='top:0;left:0;width:100%;height:50px';
  summon.appendChild(drip);
  const dSvg=S('0 0 1200 50','100%','100%','0.025');
  drippingWax(dSvg,R(100,300),0,RI(12,20),R(15,45),R(0.15,0.4));
  drippingWax(dSvg,R(600,900),0,RI(10,18),R(15,45),R(0.15,0.4));
  drip.appendChild(dSvg);

  // Inverted arches
  for(let i=0;i<3;i++){
    const ia=document.createElement('div');
    ia.className='orn';
    ia.style.cssText=`bottom:${20+i*15}%;left:${20+i*25}%;width:80px;height:40px`;
    summon.appendChild(ia);
    const iaSvg=S('0 0 80 40','100%','100%','0.02');
    invertedArch(iaSvg,40,3,R(50,70),R(20,35),R(0.15,0.35));
    ia.appendChild(iaSvg);
  }

  // Fleur de lis flanking
  for(let side of['left:12%','right:12%']){
    const fl=document.createElement('div');
    fl.className='orn';
    fl.style.cssText=`top:45%;${side};width:30px;height:40px`;
    summon.appendChild(fl);
    const flSvg=S('0 0 30 40','100%','100%','0.03');
    fleurDeLis(flSvg,15,30,R(18,28),R(0.25,0.5));
    fl.appendChild(flSvg);
  }
})();


// ── Inferno Background ──
(function infernoBg(){
  const el=document.getElementById('bgFiligree');
  if(!el||!el.querySelector('svg'))return;
  const svg=el.querySelector('svg');

  for(let i=0;i<8;i++){
    grotesqueFace(svg,R(80,1120),R(100,3800),R(8,22),R(0.005,0.015));
  }
  for(let i=0;i<12;i++){
    spiderWeb(svg,R(50,1150),R(50,3850),R(15,50),RI(3,5),RI(5,10),R(0.005,0.015));
  }
  for(let i=0;i<15;i++){
    drippingWax(svg,R(30,1100),R(50,3800),RI(2,6),R(8,30),R(0.005,0.015));
  }
  for(let i=0;i<6;i++){
    pentacle(svg,R(100,1100),R(100,3800),R(8,25),R(0.005,0.015));
  }
  for(let i=0;i<8;i++){
    thornyCrown(svg,R(80,1120),R(80,3820),R(10,30),R(0.005,0.015));
  }
  for(let i=0;i<10;i++){
    lantern(svg,R(60,1140),R(60,3840),R(8,20),R(0.005,0.015));
  }
  for(let i=0;i<8;i++){
    scythe(svg,R(80,1120),R(80,3820),R(10,25),R(0.005,0.015));
  }
  for(let i=0;i<12;i++){
    ankh(svg,R(60,1140),R(60,3840),R(8,20),R(0.005,0.015));
  }
  for(let i=0;i<15;i++){
    fleurDeLis(svg,R(50,1150),R(50,3850),R(6,18),R(0.005,0.015));
  }
  for(let i=0;i<8;i++){
    runicBand(svg,R(30,600),R(100,3700),R(100,400),R(8,16),R(0.005,0.015));
  }
  for(let i=0;i<10;i++){
    invertedArch(svg,R(100,1100),R(100,3800),R(30,80),R(15,40),R(0.005,0.015));
  }
  for(let i=0;i<15;i++){
    boneCross(svg,R(50,1150),R(50,3850),R(5,18),R(0.005,0.015));
  }
  for(let i=0;i<10;i++){
    impaledSkull(svg,R(80,1120),R(80,3820),R(8,22),R(0.005,0.015));
  }
  for(let i=0;i<5;i++){
    ornateFrame(svg,R(50,800),R(100,3500),R(60,200),R(40,150),R(0.004,0.012));
  }
  for(let i=0;i<25;i++){
    batSilhouette(svg,R(30,1170),R(30,3870),R(5,18),R(0.005,0.015));
  }
  for(let i=0;i<8;i++){
    coffinShape(svg,R(80,1120),R(80,3820),R(6,20),R(10,35),R(0.004,0.013));
  }
})();


// ════════════════════════════════════════════════════════════════
// PURGATORIO LAYER — Extreme density vine borders & overlays
// ════════════════════════════════════════════════════════════════

// ── Purgatorio Hero ──
(function purgatHero(){
  const hero=document.getElementById('hero');
  if(!hero)return;

  // Dense vine border — top
  const vt=document.createElement('div');
  vt.className='orn';
  vt.style.cssText='top:0;left:0;width:100%;height:20px';
  hero.appendChild(vt);
  const vtSvg=S('0 0 1200 20','100%','100%','0.04');
  const vinePts1=[];
  for(let x=0;x<1200;x+=R(30,60)){vinePts1.push({x:x,y:10+R(-5,5)});}
  thornedArchway(vtSvg,vinePts1,R(0.3,0.6),R(0.15,0.25),R(3,6),R(0.5,1.2),true);
  vt.appendChild(vtSvg);

  // Dense vine border — bottom
  const vb=document.createElement('div');
  vb.className='orn';
  vb.style.cssText='bottom:0;left:0;width:100%;height:20px';
  hero.appendChild(vb);
  const vbSvg=S('0 0 1200 20','100%','100%','0.04');
  const vinePts2=[];
  for(let x=0;x<1200;x+=R(30,60)){vinePts2.push({x:x,y:10+R(-5,5)});}
  thornedArchway(vbSvg,vinePts2,R(0.3,0.6),R(0.15,0.25),R(3,6),R(0.5,1.2),true);
  vb.appendChild(vbSvg);

  // Dense vine border — left
  const vl=document.createElement('div');
  vl.className='orn';
  vl.style.cssText='top:0;left:0;width:20px;height:100%';
  hero.appendChild(vl);
  const vlSvg=S('0 0 20 800','100%','100%','0.035');
  const vinePts3=[];
  for(let y=0;y<800;y+=R(30,60)){vinePts3.push({x:10+R(-5,5),y:y});}
  thornedArchway(vlSvg,vinePts3,R(0.3,0.5),R(0.12,0.22),R(2,5),R(0.4,1),true);
  vl.appendChild(vlSvg);

  // Dense vine border — right
  const vr=document.createElement('div');
  vr.className='orn';
  vr.style.cssText='top:0;right:0;width:20px;height:100%';
  hero.appendChild(vr);
  const vrSvg=S('0 0 20 800','100%','100%','0.035');
  const vinePts4=[];
  for(let y=0;y<800;y+=R(30,60)){vinePts4.push({x:10+R(-5,5),y:y});}
  thornedArchway(vrSvg,vinePts4,R(0.3,0.5),R(0.12,0.22),R(2,5),R(0.4,1),true);
  vr.appendChild(vrSvg);

  // Chain cascade from top
  const cc=document.createElement('div');
  cc.className='orn';
  cc.style.cssText='top:0;left:0;width:100%;height:200px';
  hero.appendChild(cc);
  const ccSvg=S('0 0 1200 200','100%','100%','0.02');
  for(let x=50;x<1200;x+=R(60,120)){
    chain(ccSvg,x,0,R(30,150),R(0.15,0.35),R(1,3),R(0,1)>0.7);
  }
  cc.appendChild(ccSvg);

  // Inscription columns
  const ins=document.createElement('div');
  ins.className='orn';
  ins.style.cssText='top:30%;left:2%;width:15%;height:40%';
  hero.appendChild(ins);
  const insSvg=S('0 0 180 320','100%','100%','0.015');
  inscriptions(insSvg,5,5,170,310,R(0.15,0.3));
  ins.appendChild(insSvg);

  const ins2=document.createElement('div');
  ins2.className='orn';
  ins2.style.cssText='top:25%;right:2%;width:15%;height:45%';
  hero.appendChild(ins2);
  const ins2Svg=S('0 0 180 360','100%','100%','0.015');
  inscriptions(ins2Svg,5,5,170,350,R(0.15,0.3));
  ins2.appendChild(ins2Svg);
})();


// ── Purgatorio About ──
(function purgatAbout(){
  const about=document.getElementById('about');
  if(!about)return;

  for(let side of[['left:0','left'],['right:0','right']]){
    const v=document.createElement('div');
    v.className='orn';
    v.style.cssText=`top:0;${side[0]};width:15px;height:100%`;
    about.appendChild(v);
    const vSvg=S('0 0 15 600','100%','100%','0.03');
    const pts=[];
    for(let y=0;y<600;y+=R(25,50)){pts.push({x:7+R(-4,4),y:y});}
    thornedArchway(vSvg,pts,R(0.25,0.5),R(0.12,0.2),R(2,5),R(0.4,1),true);
    v.appendChild(vSvg);
  }

  // Starburst row
  const sr=document.createElement('div');
  sr.className='orn';
  sr.style.cssText='bottom:40px;left:0;width:100%;height:30px';
  about.appendChild(sr);
  const srSvg=S('0 0 1200 30','100%','100%','0.02');
  for(let x=60;x<1200;x+=R(80,150)){
    starburst(srSvg,x,15,R(5,12),RI(6,14),R(0.15,0.35));
  }
  sr.appendChild(srSvg);
})();


// ── Purgatorio Arsenal ──
(function purgatArsenal(){
  const arsenal=document.getElementById('arsenal');
  if(!arsenal)return;

  // Full vine border overlay
  const fb=document.createElement('div');
  fb.className='orn';
  fb.style.cssText='top:0;left:0;width:100%;height:100%;pointer-events:none';
  arsenal.appendChild(fb);
  const fbSvg=S('0 0 1200 800','100%','100%','0.015');
  const tPts=[];
  for(let x=0;x<1200;x+=R(30,60)){tPts.push({x:x,y:R(3,12)});}
  thornedArchway(fbSvg,tPts,R(0.2,0.4),R(0.1,0.2),R(2,4),R(0.3,0.8),true,colLight);
  const bPts=[];
  for(let x=0;x<1200;x+=R(30,60)){bPts.push({x:x,y:R(788,797)});}
  thornedArchway(fbSvg,bPts,R(0.2,0.4),R(0.1,0.2),R(2,4),R(0.3,0.8),true,colLight);
  const lPts=[];
  for(let y=0;y<800;y+=R(30,60)){lPts.push({x:R(3,12),y:y});}
  thornedArchway(fbSvg,lPts,R(0.2,0.4),R(0.1,0.2),R(2,4),R(0.3,0.8),true,colLight);
  const rPts=[];
  for(let y=0;y<800;y+=R(30,60)){rPts.push({x:R(1188,1197),y:y});}
  thornedArchway(fbSvg,rPts,R(0.2,0.4),R(0.1,0.2),R(2,4),R(0.3,0.8),true,colLight);
  fb.appendChild(fbSvg);

  // Inscription columns
  for(let side of['left:1%','right:1%']){
    const ins=document.createElement('div');
    ins.className='orn';
    ins.style.cssText=`top:20%;${side};width:50px;height:60%`;
    arsenal.appendChild(ins);
    const insSvg=S('0 0 50 480','100%','100%','0.015');
    inscriptions(insSvg,3,3,44,474,R(0.12,0.25),colLight);
    ins.appendChild(insSvg);
  }
})();


// ── Purgatorio Chronicle ──
(function purgatChronicle(){
  const chronicle=document.getElementById('chronicle');
  if(!chronicle)return;

  const fb=document.createElement('div');
  fb.className='orn';
  fb.style.cssText='top:0;left:0;width:100%;height:100%;pointer-events:none';
  chronicle.appendChild(fb);
  const fbSvg=S('0 0 1200 800','100%','100%','0.012');
  const tPts=[];
  for(let x=0;x<1200;x+=R(30,60)){tPts.push({x:x,y:R(3,12)});}
  thornedArchway(fbSvg,tPts,R(0.2,0.4),R(0.08,0.18),R(2,4),R(0.3,0.8),true,colLight);
  const bPts=[];
  for(let x=0;x<1200;x+=R(30,60)){bPts.push({x:x,y:R(788,797)});}
  thornedArchway(fbSvg,bPts,R(0.2,0.4),R(0.08,0.18),R(2,4),R(0.3,0.8),true,colLight);
  fb.appendChild(fbSvg);

  // Chain cascade on sides
  for(let side of['left:3%','right:3%']){
    const cc=document.createElement('div');
    cc.className='orn';
    cc.style.cssText=`top:10%;${side};width:20px;height:80%`;
    chronicle.appendChild(cc);
    const ccSvg=S('0 0 20 640','100%','100%','0.02');
    for(let y=0;y<640;y+=R(40,80)){
      chain(ccSvg,10,y,R(15,35),R(0.15,0.3),R(0.5,2),false,colLight);
    }
    cc.appendChild(ccSvg);
  }
})();


// ── Purgatorio Summon ──
(function purgatSummon(){
  const summon=document.getElementById('summon');
  if(!summon)return;

  const fb=document.createElement('div');
  fb.className='orn';
  fb.style.cssText='top:0;left:0;width:100%;height:100%;pointer-events:none';
  summon.appendChild(fb);
  const fbSvg=S('0 0 1200 600','100%','100%','0.012');
  const tPts=[];
  for(let x=0;x<1200;x+=R(25,55)){tPts.push({x:x,y:R(3,10)});}
  thornedArchway(fbSvg,tPts,R(0.2,0.4),R(0.1,0.2),R(2,4),R(0.3,0.8),true);
  const bPts=[];
  for(let x=0;x<1200;x+=R(25,55)){bPts.push({x:x,y:R(590,598)});}
  thornedArchway(fbSvg,bPts,R(0.2,0.4),R(0.1,0.2),R(2,4),R(0.3,0.8),true);
  const lPts=[];
  for(let y=0;y<600;y+=R(25,55)){lPts.push({x:R(3,10),y:y});}
  thornedArchway(fbSvg,lPts,R(0.2,0.4),R(0.1,0.2),R(2,4),R(0.3,0.8),true);
  const rPts=[];
  for(let y=0;y<600;y+=R(25,55)){rPts.push({x:R(1190,1197),y:y});}
  thornedArchway(fbSvg,rPts,R(0.2,0.4),R(0.1,0.2),R(2,4),R(0.3,0.8),true);
  fb.appendChild(fbSvg);

  // Inscription strip
  const ins=document.createElement('div');
  ins.className='orn';
  ins.style.cssText='bottom:5%;left:5%;width:90%;height:40px';
  summon.appendChild(ins);
  const insSvg=S('0 0 1080 40','100%','100%','0.015');
  inscriptions(insSvg,5,5,1070,30,R(0.12,0.25));
  ins.appendChild(insSvg);
})();


// ── Purgatorio Conquests ──
(function purgatConquests(){
  const conquests=document.getElementById('conquests');
  if(!conquests)return;

  // Vine borders left + right
  for(let side of['left:0','right:0']){
    const v=document.createElement('div');
    v.className='orn';
    v.style.cssText=`top:0;${side};width:12px;height:100%`;
    conquests.appendChild(v);
    const vSvg=S('0 0 12 600','100%','100%','0.025');
    const pts=[];
    for(let y=0;y<600;y+=R(20,50)){pts.push({x:6+R(-3,3),y:y});}
    thornedArchway(vSvg,pts,R(0.2,0.4),R(0.1,0.2),R(2,4),R(0.3,0.8),true);
    v.appendChild(vSvg);
  }

  // Starburst scatter
  const ss=document.createElement('div');
  ss.className='orn';
  ss.style.cssText='top:0;left:0;width:100%;height:100%;pointer-events:none';
  conquests.appendChild(ss);
  const ssSvg=S('0 0 1200 600','100%','100%','0.015');
  for(let i=0;i<12;i++){
    starburst(ssSvg,R(50,1150),R(50,550),R(5,15),RI(5,12),R(0.1,0.25));
  }
  ss.appendChild(ssSvg);
})();


// ════════════════════════════════════════════════════════════════
// PARADISO LAYER — Final mega-expansion of background elements
// ════════════════════════════════════════════════════════════════
(function paradisoFinal(){
  const el=document.getElementById('bgFiligree');
  if(!el||!el.querySelector('svg'))return;
  const svg=el.querySelector('svg');

  // Wave 1: 50 vine fragments
  for(let i=0;i<50;i++){
    const pts=[];
    const sx=R(20,1180),sy=R(20,3980);
    for(let t=0;t<RI(3,10);t++){
      pts.push({x:sx+t*R(8,25)+R(-5,5),y:sy+t*R(-8,8)});
    }
    thornedArchway(svg,pts,R(0.08,0.25),R(0.004,0.015),R(1,4),R(0.3,1),R(0,1)<0.5);
  }
  // Wave 2: 40 chains
  for(let i=0;i<40;i++){
    chain(svg,R(20,1180),R(20,3980),R(5,35),R(0.004,0.015),R(0.3,2),R(0,1)>0.8);
  }
  // Wave 3: 30 starbursts
  for(let i=0;i<30;i++){
    starburst(svg,R(30,1170),R(30,3970),R(3,12),RI(4,10),R(0.004,0.014));
  }
  // Wave 4: 20 mini crosses
  for(let i=0;i<20;i++){
    miniCross(svg,R(30,1170),R(30,3970),R(2,8),R(0.004,0.014));
  }
  // Wave 5: 15 big crosses
  for(let i=0;i<15;i++){
    bigCross(svg,R(80,1120),R(80,3920),R(5,20),R(0.003,0.01));
  }
  // Wave 6: 25 spirals
  for(let i=0;i<25;i++){
    filigreeSpiral(svg,R(30,1170),R(30,3970),R(3,18),R(1,4),R(0.004,0.015),R(0.08,0.2));
  }
  // Wave 7: 10 rose windows
  for(let i=0;i<10;i++){
    roseWindow(svg,R(100,1100),R(100,3900),R(8,30),R(0.004,0.012));
  }
  // Wave 8: 8 gothic arches
  for(let i=0;i<8;i++){
    gothicArch(svg,R(100,1100),R(100,3900),R(20,60),R(25,70),R(0.004,0.012));
  }
  // Wave 9: 12 candelabra
  for(let i=0;i<12;i++){
    candelabra(svg,R(80,1120),R(80,3920),R(15,40),R(20,50),R(0.004,0.012));
  }
  // Wave 10: 8 iron gates
  for(let i=0;i<8;i++){
    ironGate(svg,R(30,900),R(100,3700),R(50,150),R(20,60),R(0.004,0.012));
  }
  // Wave 11: 10 bone lattice
  for(let i=0;i<10;i++){
    boneLattice(svg,R(30,900),R(100,3700),R(40,120),R(30,80),R(8,20),R(0.004,0.012));
  }
  // Wave 12: 6 cathedral spires
  for(let i=0;i<6;i++){
    cathedralSpire(svg,R(80,1120),R(80,3920),R(20,60),R(0.004,0.012));
  }
  // Wave 13: 8 tombstone frames
  for(let i=0;i<8;i++){
    tombstone(svg,R(100,1100),R(100,3900),R(15,50),R(20,60),R(0.003,0.01));
  }
  // Wave 14: 6 reliquary boxes
  for(let i=0;i<6;i++){
    reliquaryBox(svg,R(100,1100),R(100,3900),R(20,60),R(15,40),R(0.003,0.01));
  }
  // Wave 15: 10 gothic tracery
  for(let i=0;i<10;i++){
    gothicTracery(svg,R(100,1100),R(100,3900),R(15,50),R(20,60),R(0.003,0.01));
  }
  // Wave 16: 12 serpent coils
  for(let i=0;i<12;i++){
    serpentCoil(svg,R(60,1140),R(60,3940),R(5,18),R(2,4),R(0.004,0.012));
  }
  // Wave 17: 8 censers
  for(let i=0;i<8;i++){
    censer(svg,R(80,1120),R(80,3920),R(6,18),R(0.004,0.012));
  }
  // Wave 18: 15 wax seals
  for(let i=0;i<15;i++){
    waxSeal(svg,R(40,1160),R(40,3960),R(3,10),R(0.004,0.012));
  }
  // Wave 19: 20 fleur de lis
  for(let i=0;i<20;i++){
    fleurDeLis(svg,R(40,1160),R(40,3960),R(4,14),R(0.004,0.012));
  }
  // Wave 20: 8 ornate frames
  for(let i=0;i<8;i++){
    ornateFrame(svg,R(30,800),R(80,3600),R(30,120),R(20,80),R(0.003,0.01));
  }

  console.log('[Gothic Filigree Engine v4 — PARADISO] Final expansion complete');
})();


// ════════════════════════════════════════════════════════════════
// STYX LAYER — Animation assignments & divider ornaments
// Dynamic class assignments, divider artwork, footer expansion,
// and additional per-section filigree density passes
// ════════════════════════════════════════════════════════════════

// ── Assign animated CSS classes to existing ornaments ──
(function assignAnimations(){
  // Hero hanging ornaments get sway
  ['ornHL','ornHR','ornHC','ornHL2','ornHR2'].forEach(id=>{
    const el=document.getElementById(id);
    if(el)el.classList.add('orn-sway');
  });
  // Corner ornaments get slow drift
  ['ornTL','ornTR','ornBL','ornBR'].forEach(id=>{
    const el=document.getElementById(id);
    if(el)el.classList.add('orn-drift-slow');
  });
  // Side ornaments get drift
  ['ornSL','ornSR','ornAR','ornAL','ornArR','ornArL','ornCL','ornCR','ornChL','ornChR'].forEach(id=>{
    const el=document.getElementById(id);
    if(el)el.classList.add('orn-drift');
  });
  // Summon corners get pulse
  ['ornSumTL','ornSumTR','ornSumBL','ornSumBR'].forEach(id=>{
    const el=document.getElementById(id);
    if(el)el.classList.add('orn-pulse');
  });
  // Background filigree gets ink bleed
  const bg=document.getElementById('bgFiligree');
  if(bg)bg.classList.add('orn-bleed');
})();


// ── Divider Ornament Art ──
// Each divider section gets elaborate filigree artwork
(function buildDividerArt(){
  // Divider 1 (Hero → About)
  const d1=document.getElementById('div1');
  if(d1){
    d1.style.height='80px';
    d1.style.position='relative';
    d1.style.overflow='visible';
    const d1Orn=document.createElement('div');
    d1Orn.className='orn';
    d1Orn.style.cssText='top:0;left:0;width:100%;height:100%';
    d1.appendChild(d1Orn);
    const d1Svg=S('0 0 1200 80','100%','100%','1');
    // Central cross
    bigCross(d1Svg,600,40,R(30,50),R(0.08,0.15));
    // Vine running through
    const pts1=[];
    for(let x=0;x<1200;x+=R(25,50)){pts1.push({x:x,y:40+R(-15,15)});}
    thornedArchway(d1Svg,pts1,R(0.2,0.4),R(0.06,0.12),R(3,7),R(0.4,1),true);
    // Flanking chains
    for(let x=200;x<1000;x+=R(80,160)){
      chain(d1Svg,x,5,R(15,40),R(0.06,0.12),R(1,3),R(0,1)>0.7);
    }
    // Starbursts at regular intervals
    for(let x=100;x<1200;x+=R(150,250)){
      starburst(d1Svg,x,40,R(8,18),RI(6,12),R(0.06,0.1));
    }
    // Rose windows
    roseWindow(d1Svg,300,40,R(15,25),R(0.05,0.1));
    roseWindow(d1Svg,900,40,R(15,25),R(0.05,0.1));
    // Fleur de lis
    fleurDeLis(d1Svg,150,40,R(12,20),R(0.06,0.1));
    fleurDeLis(d1Svg,1050,40,R(12,20),R(0.06,0.1));
    // Runic band
    runicBand(d1Svg,350,30,500,20,R(0.04,0.08));
    d1Orn.appendChild(d1Svg);
  }

  // Divider 2 (About → Arsenal)
  const d2=document.getElementById('div2');
  if(d2){
    d2.style.height='80px';
    d2.style.position='relative';
    d2.style.overflow='visible';
    const d2Orn=document.createElement('div');
    d2Orn.className='orn';
    d2Orn.style.cssText='top:0;left:0;width:100%;height:100%';
    d2.appendChild(d2Orn);
    const d2Svg=S('0 0 1200 80','100%','100%','1');
    // Gothic arch centered
    gothicArch(d2Svg,600,15,R(100,200),R(40,65),R(0.08,0.15));
    // Iron gate span
    ironGate(d2Svg,100,10,1000,60,R(0.04,0.1));
    // Thorny crowns
    thornyCrown(d2Svg,200,40,R(15,25),R(0.05,0.1));
    thornyCrown(d2Svg,1000,40,R(15,25),R(0.05,0.1));
    // Daggers
    impaledSkull(d2Svg,400,10,R(40,55),R(0.06,0.1));
    impaledSkull(d2Svg,800,10,R(40,55),R(0.06,0.1));
    // Mini crosses scatter
    for(let x=50;x<1200;x+=R(60,100)){
      miniCross(d2Svg,x,R(20,60),R(4,10),R(0.04,0.08));
    }
    // Bone cross
    boneCross(d2Svg,600,40,R(20,35),R(0.06,0.1));
    d2Orn.appendChild(d2Svg);
  }

  // Divider 3 (Arsenal → Conquests)
  const d3=document.getElementById('div3');
  if(d3){
    d3.style.height='80px';
    d3.style.position='relative';
    d3.style.overflow='visible';
    const d3Orn=document.createElement('div');
    d3Orn.className='orn';
    d3Orn.style.cssText='top:0;left:0;width:100%;height:100%';
    d3.appendChild(d3Orn);
    const d3Svg=S('0 0 1200 80','100%','100%','1');
    // Candelabra centered
    candelabra(d3Svg,600,5,R(150,250),R(55,70),R(0.08,0.15));
    // Vine
    const pts3=[];
    for(let x=0;x<1200;x+=R(30,55)){pts3.push({x:x,y:70+R(-10,5)});}
    thornedArchway(d3Svg,pts3,R(0.2,0.4),R(0.05,0.1),R(2,5),R(0.3,0.8),true);
    // Ankh row
    for(let x=80;x<1200;x+=R(100,180)){
      ankh(d3Svg,x,R(10,50),R(12,22),R(0.05,0.1));
    }
    // Serpent coils
    serpentCoil(d3Svg,250,40,R(12,22),R(2,3),R(0.05,0.1));
    serpentCoil(d3Svg,950,40,R(12,22),R(2,3),R(0.05,0.1));
    // Pentacle
    pentacle(d3Svg,600,40,R(18,28),R(0.04,0.09));
    d3Orn.appendChild(d3Svg);
  }

  // Divider 4 (Conquests → Chronicle)
  const d4=document.getElementById('div4');
  if(d4){
    d4.style.height='80px';
    d4.style.position='relative';
    d4.style.overflow='visible';
    const d4Orn=document.createElement('div');
    d4Orn.className='orn';
    d4Orn.style.cssText='top:0;left:0;width:100%;height:100%';
    d4.appendChild(d4Orn);
    const d4Svg=S('0 0 1200 80','100%','100%','1');
    // Scythe crossed composition
    scythe(d4Svg,560,5,R(50,65),R(0.08,0.14));
    scythe(d4Svg,640,5,R(50,65),R(0.08,0.14));
    // Gothic tracery span
    gothicTracery(d4Svg,600,10,R(200,400),R(50,70),R(0.05,0.1));
    // Ornate frame
    ornateFrame(d4Svg,200,10,800,60,R(0.04,0.08));
    // Wax seals at intervals
    for(let x=100;x<1200;x+=R(120,200)){
      waxSeal(d4Svg,x,40,R(6,14),R(0.05,0.1));
    }
    // Dripping wax
    drippingWax(d4Svg,R(80,200),0,RI(5,10),R(20,50),R(0.05,0.1));
    drippingWax(d4Svg,R(900,1100),0,RI(5,10),R(20,50),R(0.05,0.1));
    d4Orn.appendChild(d4Svg);
  }
})();


// ── Footer Expansion ──
(function expandFooter(){
  const footer=document.querySelector('footer');
  if(!footer)return;

  // Footer vine border top
  const vt=document.createElement('div');
  vt.className='orn';
  vt.style.cssText='top:0;left:0;width:100%;height:15px';
  footer.appendChild(vt);
  const vtSvg=S('0 0 1200 15','100%','100%','0.03');
  const pts=[];
  for(let x=0;x<1200;x+=R(25,50)){pts.push({x:x,y:7+R(-4,4)});}
  thornedArchway(vtSvg,pts,R(0.2,0.4),R(0.1,0.2),R(2,4),R(0.3,0.8),true);
  vt.appendChild(vtSvg);

  // Footer chains
  const cc=document.createElement('div');
  cc.className='orn';
  cc.style.cssText='top:0;left:0;width:100%;height:80px';
  footer.appendChild(cc);
  const ccSvg=S('0 0 1200 80','100%','100%','0.02');
  for(let x=60;x<1200;x+=R(50,100)){
    chain(ccSvg,x,0,R(10,40),R(0.1,0.25),R(0.5,2),false);
  }
  cc.appendChild(ccSvg);

  // Footer fleur de lis row
  const fr=document.createElement('div');
  fr.className='orn';
  fr.style.cssText='bottom:10px;left:0;width:100%;height:30px';
  footer.appendChild(fr);
  const frSvg=S('0 0 1200 30','100%','100%','0.02');
  for(let x=80;x<1200;x+=R(100,180)){
    fleurDeLis(frSvg,x,22,R(10,18),R(0.15,0.3));
  }
  fr.appendChild(frSvg);

  // Footer pentacle
  const pc=document.createElement('div');
  pc.className='orn';
  pc.style.cssText='top:50%;left:50%;width:120px;height:120px;transform:translate(-50%,-50%)';
  footer.appendChild(pc);
  const pcSvg=S('0 0 120 120','100%','100%','0.015');
  pentacle(pcSvg,60,60,R(35,50),R(0.1,0.25));
  pc.appendChild(pcSvg);

  // Footer inscriptions
  for(let side of['left:5%','right:5%']){
    const ins=document.createElement('div');
    ins.className='orn';
    ins.style.cssText=`top:20%;${side};width:80px;height:60%`;
    footer.appendChild(ins);
    const insSvg=S('0 0 80 120','100%','100%','0.01');
    inscriptions(insSvg,3,3,74,114,R(0.1,0.2));
    ins.appendChild(insSvg);
  }
})();


// ── Styx Hero Micro-ornaments ──
(function styxHeroMicro(){
  const hero=document.getElementById('hero');
  if(!hero)return;

  // Scattered bone crosses
  for(let i=0;i<8;i++){
    const bc=document.createElement('div');
    bc.className='orn orn-drift';
    bc.style.cssText=`top:${R(5,90)}%;left:${R(2,96)}%;width:18px;height:22px;animation-delay:${R(0,5)}s`;
    hero.appendChild(bc);
    const svg=S('0 0 18 22','100%','100%','0.02');
    boneCross(svg,9,11,R(12,18),R(0.2,0.5));
    bc.appendChild(svg);
  }

  // Scattered ankhs
  for(let i=0;i<6;i++){
    const ak=document.createElement('div');
    ak.className='orn orn-drift-slow';
    ak.style.cssText=`top:${R(8,88)}%;left:${R(3,95)}%;width:14px;height:24px;animation-delay:${R(0,8)}s`;
    hero.appendChild(ak);
    const svg=S('0 0 14 24','100%','100%','0.018');
    ankh(svg,7,5,R(14,20),R(0.2,0.45));
    ak.appendChild(svg);
  }

  // Scattered fleur de lis
  for(let i=0;i<5;i++){
    const fl=document.createElement('div');
    fl.className='orn orn-pulse';
    fl.style.cssText=`top:${R(10,85)}%;left:${R(5,92)}%;width:16px;height:20px;animation-delay:${R(0,4)}s`;
    hero.appendChild(fl);
    const svg=S('0 0 16 20','100%','100%','0.018');
    fleurDeLis(svg,8,15,R(10,16),R(0.2,0.4));
    fl.appendChild(svg);
  }

  // Mini lanterns across top
  for(let i=0;i<8;i++){
    const ln=document.createElement('div');
    ln.className='orn orn-sway';
    ln.style.cssText=`top:0;left:${5+i*12}%;width:18px;height:45px;animation-delay:${R(0,6)}s`;
    hero.appendChild(ln);
    const svg=S('0 0 18 45','100%','100%','0.02');
    lantern(svg,9,0,R(25,38),R(0.2,0.45));
    ln.appendChild(svg);
  }

  // Wax seals at random positions
  for(let i=0;i<6;i++){
    const ws=document.createElement('div');
    ws.className='orn';
    ws.style.cssText=`top:${R(15,80)}%;left:${R(5,92)}%;width:20px;height:22px`;
    hero.appendChild(ws);
    const svg=S('0 0 20 22','100%','100%','0.015');
    waxSeal(svg,10,10,R(6,10),R(0.2,0.4));
    ws.appendChild(svg);
  }
})();


// ── Styx About Micro-ornaments ──
(function styxAboutMicro(){
  const about=document.getElementById('about');
  if(!about)return;

  // Scattered daggers
  for(let i=0;i<4;i++){
    const dg=document.createElement('div');
    dg.className='orn orn-drift';
    dg.style.cssText=`top:${R(10,85)}%;left:${R(3,94)}%;width:15px;height:40px;animation-delay:${R(0,6)}s`;
    about.appendChild(dg);
    const svg=S('0 0 15 40','100%','100%','0.018');
    impaledSkull(svg,7,2,R(28,36),R(0.2,0.45));
    dg.appendChild(svg);
  }

  // Spider web fragments
  for(let i=0;i<3;i++){
    const sw=document.createElement('div');
    sw.className='orn';
    sw.style.cssText=`top:${R(5,80)}%;left:${R(3,90)}%;width:50px;height:50px`;
    about.appendChild(sw);
    const svg=S('0 0 50 50','100%','100%','0.015');
    spiderWeb(svg,R(0,50),R(0,50),R(20,45),RI(2,4),RI(5,9),R(0.12,0.3));
    sw.appendChild(svg);
  }

  // Inverted arches
  for(let i=0;i<3;i++){
    const ia=document.createElement('div');
    ia.className='orn';
    ia.style.cssText=`bottom:${R(40,120)}px;left:${R(10,80)}%;width:60px;height:30px`;
    about.appendChild(ia);
    const svg=S('0 0 60 30','100%','100%','0.018');
    invertedArch(svg,30,3,R(40,55),R(15,25),R(0.15,0.35));
    ia.appendChild(svg);
  }
})();


// ── Styx Arsenal Micro-ornaments ──
(function styxArsenalMicro(){
  const arsenal=document.getElementById('arsenal');
  if(!arsenal)return;

  // Thorny crowns at card corners
  for(let i=0;i<3;i++){
    const tc=document.createElement('div');
    tc.className='orn orn-spin';
    tc.style.cssText=`top:${25+i*22}%;left:${R(20,80)}%;width:40px;height:40px;animation-delay:${i*3}s;animation-duration:${R(40,80)}s`;
    arsenal.appendChild(tc);
    const svg=S('0 0 40 40','100%','100%','0.015');
    thornyCrown(svg,20,20,R(12,18),R(0.15,0.3),colLight);
    tc.appendChild(svg);
  }

  // Coffin outlines
  for(let i=0;i<3;i++){
    const cf=document.createElement('div');
    cf.className='orn';
    cf.style.cssText=`top:${R(10,80)}%;${R(0,1)>0.5?'left:2%':'right:2%'};width:30px;height:50px`;
    arsenal.appendChild(cf);
    const svg=S('0 0 30 50','100%','100%','0.015');
    coffinShape(svg,15,25,R(20,28),R(35,45),R(0.15,0.3),colLight);
    cf.appendChild(svg);
  }

  // Serpent coils
  for(let i=0;i<2;i++){
    const sp=document.createElement('div');
    sp.className='orn';
    sp.style.cssText=`bottom:${R(15,40)}%;${i===0?'left:3%':'right:3%'};width:50px;height:35px`;
    arsenal.appendChild(sp);
    const svg=S('0 0 50 35','100%','100%','0.015');
    serpentCoil(svg,25,17,R(12,20),R(2,3),R(0.15,0.3),colLight);
    sp.appendChild(svg);
  }
})();


// ── Styx Chronicle Micro-ornaments ──
(function styxChronMicro(){
  const chronicle=document.getElementById('chronicle');
  if(!chronicle)return;

  // Bone crosses at timeline nodes
  for(let i=0;i<5;i++){
    const bc=document.createElement('div');
    bc.className='orn';
    bc.style.cssText=`top:${215+i*70}px;left:${R(2,8)}%;width:20px;height:24px`;
    chronicle.appendChild(bc);
    const svg=S('0 0 20 24','100%','100%','0.02');
    boneCross(svg,10,12,R(14,20),R(0.2,0.4),colLight);
    bc.appendChild(svg);
  }

  // Fleur de lis at bottom
  const fl=document.createElement('div');
  fl.className='orn';
  fl.style.cssText='bottom:20px;left:50%;width:30px;height:40px;transform:translateX(-50%)';
  chronicle.appendChild(fl);
  const flSvg=S('0 0 30 40','100%','100%','0.025');
  fleurDeLis(flSvg,15,30,R(18,26),R(0.2,0.4),colLight);
  fl.appendChild(flSvg);

  // Grotesque face at top
  const gf=document.createElement('div');
  gf.className='orn';
  gf.style.cssText='top:10px;left:50%;width:50px;height:60px;transform:translateX(-50%)';
  chronicle.appendChild(gf);
  const gfSvg=S('0 0 50 60','100%','100%','0.02');
  grotesqueFace(gfSvg,25,30,R(30,45),R(0.2,0.4),colLight);
  gf.appendChild(gfSvg);

  // Scythes flanking
  for(let side of['left:2%','right:2%']){
    const sc=document.createElement('div');
    sc.className='orn orn-drift';
    sc.style.cssText=`top:45%;${side};width:25px;height:55px`;
    chronicle.appendChild(sc);
    const scSvg=S('0 0 25 55','100%','100%','0.018');
    scythe(scSvg,15,2,R(35,48),R(0.2,0.4),colLight);
    sc.appendChild(scSvg);
  }
})();


// ── Styx Summon Micro-ornaments ──
(function styxSummonMicro(){
  const summon=document.getElementById('summon');
  if(!summon)return;

  // Ornate frame behind CTA
  const of1=document.createElement('div');
  of1.className='orn';
  of1.style.cssText='top:30%;left:20%;width:60%;height:40%';
  summon.appendChild(of1);
  const ofSvg=S('0 0 720 320','100%','100%','0.012');
  ornateFrame(ofSvg,15,15,690,290,R(0.1,0.25));
  of1.appendChild(ofSvg);

  // Thorny crown behind title
  const tc=document.createElement('div');
  tc.className='orn orn-spin';
  tc.style.cssText='top:12%;left:50%;width:140px;height:140px;transform:translateX(-50%);animation-duration:120s';
  summon.appendChild(tc);
  const tcSvg=S('0 0 140 140','100%','100%','0.015');
  thornyCrown(tcSvg,70,70,R(45,65),R(0.12,0.28));
  tc.appendChild(tcSvg);

  // Lanterns above buttons
  for(let i=0;i<3;i++){
    const ln=document.createElement('div');
    ln.className='orn orn-sway';
    ln.style.cssText=`top:65%;left:${25+i*25}%;width:20px;height:50px;animation-delay:${i*1.5}s`;
    summon.appendChild(ln);
    const lnSvg=S('0 0 20 50','100%','100%','0.015');
    lantern(lnSvg,10,0,R(28,40),R(0.2,0.4));
    ln.appendChild(lnSvg);
  }

  // Runic band below subtitle
  const rb=document.createElement('div');
  rb.className='orn';
  rb.style.cssText='top:58%;left:15%;width:70%;height:14px';
  summon.appendChild(rb);
  const rbSvg=S('0 0 840 14','100%','100%','0.015');
  runicBand(rbSvg,5,1,830,12,R(0.12,0.28));
  rb.appendChild(rbSvg);

  // Bone lattice backdrop
  const bl=document.createElement('div');
  bl.className='orn';
  bl.style.cssText='top:5%;left:5%;width:90%;height:90%;pointer-events:none';
  summon.appendChild(bl);
  const blSvg=S('0 0 1080 540','100%','100%','0.008');
  boneLattice(blSvg,20,20,1040,500,R(30,60),R(0.1,0.25));
  bl.appendChild(blSvg);
})();


// ── Styx Conquests Micro-ornaments ──
(function styxConquestsMicro(){
  const conquests=document.getElementById('conquests');
  if(!conquests)return;

  // Grotesque faces between project cards
  for(let i=0;i<2;i++){
    const gf=document.createElement('div');
    gf.className='orn';
    gf.style.cssText=`top:${35+i*30}%;left:50%;width:40px;height:50px;transform:translateX(-50%)`;
    conquests.appendChild(gf);
    const gfSvg=S('0 0 40 50','100%','100%','0.018');
    grotesqueFace(gfSvg,20,25,R(25,38),R(0.15,0.35));
    gf.appendChild(gfSvg);
  }

  // Ornate frame around section
  const of1=document.createElement('div');
  of1.className='orn';
  of1.style.cssText='top:3%;left:2%;width:96%;height:94%';
  conquests.appendChild(of1);
  const ofSvg=S('0 0 1152 564','100%','100%','0.01');
  ornateFrame(ofSvg,10,10,1132,544,R(0.06,0.15));
  of1.appendChild(ofSvg);

  // Scythe at bottom center
  const sc=document.createElement('div');
  sc.className='orn';
  sc.style.cssText='bottom:20px;left:50%;width:30px;height:60px;transform:translateX(-50%)';
  conquests.appendChild(sc);
  const scSvg=S('0 0 30 60','100%','100%','0.02');
  scythe(scSvg,18,2,R(40,55),R(0.2,0.4));
  sc.appendChild(scSvg);

  // Thorny crown at top
  const tc=document.createElement('div');
  tc.className='orn';
  tc.style.cssText='top:3%;left:50%;width:100px;height:100px;transform:translateX(-50%)';
  conquests.appendChild(tc);
  const tcSvg=S('0 0 100 100','100%','100%','0.015');
  thornyCrown(tcSvg,50,50,R(30,45),R(0.12,0.28));
  tc.appendChild(tcSvg);
})();


// ── Final Styx Background Pass ──
(function styxBgFinal(){
  const el=document.getElementById('bgFiligree');
  if(!el||!el.querySelector('svg'))return;
  const svg=el.querySelector('svg');

  // 30 more grotesque faces
  for(let i=0;i<30;i++){
    grotesqueFace(svg,R(60,1140),R(60,3940),R(5,15),R(0.003,0.01));
  }
  // 20 more spider webs
  for(let i=0;i<20;i++){
    spiderWeb(svg,R(40,1160),R(40,3960),R(8,30),RI(2,4),RI(4,8),R(0.003,0.01));
  }
  // 25 more dripping wax
  for(let i=0;i<25;i++){
    drippingWax(svg,R(20,1140),R(40,3960),RI(1,4),R(5,20),R(0.003,0.01));
  }
  // 15 more thorny crowns
  for(let i=0;i<15;i++){
    thornyCrown(svg,R(60,1140),R(60,3940),R(5,20),R(0.003,0.01));
  }
  // 20 more lanterns
  for(let i=0;i<20;i++){
    lantern(svg,R(40,1160),R(40,3960),R(5,15),R(0.003,0.01));
  }
  // 15 more scythes
  for(let i=0;i<15;i++){
    scythe(svg,R(60,1140),R(60,3940),R(6,18),R(0.003,0.01));
  }
  // 20 more ankhs
  for(let i=0;i<20;i++){
    ankh(svg,R(40,1160),R(40,3960),R(5,15),R(0.003,0.01));
  }
  // 20 more fleur de lis
  for(let i=0;i<20;i++){
    fleurDeLis(svg,R(40,1160),R(40,3960),R(4,12),R(0.003,0.01));
  }
  // 10 more runic bands
  for(let i=0;i<10;i++){
    runicBand(svg,R(20,700),R(80,3800),R(60,300),R(5,12),R(0.003,0.01));
  }
  // 15 more inverted arches
  for(let i=0;i<15;i++){
    invertedArch(svg,R(80,1120),R(80,3920),R(20,60),R(10,30),R(0.003,0.01));
  }
  // 20 more bone crosses
  for(let i=0;i<20;i++){
    boneCross(svg,R(40,1160),R(40,3960),R(4,12),R(0.003,0.01));
  }
  // 15 more daggers
  for(let i=0;i<15;i++){
    impaledSkull(svg,R(60,1140),R(60,3940),R(6,16),R(0.003,0.01));
  }
  // 15 more coffins
  for(let i=0;i<15;i++){
    coffinShape(svg,R(60,1140),R(60,3940),R(4,14),R(8,25),R(0.003,0.01));
  }
  // 10 more serpent coils
  for(let i=0;i<10;i++){
    serpentCoil(svg,R(60,1140),R(60,3940),R(5,15),R(2,3),R(0.003,0.01));
  }
  // 10 more wax seals
  for(let i=0;i<10;i++){
    waxSeal(svg,R(40,1160),R(40,3960),R(3,8),R(0.003,0.01));
  }
  // 8 more ornate frames
  for(let i=0;i<8;i++){
    ornateFrame(svg,R(30,700),R(60,3600),R(25,100),R(18,70),R(0.002,0.008));
  }

  console.log('[Gothic Filigree Engine v4 — STYX LAYER] All expansions complete');
})();


// ████████████████████████████████████████████████████████████████
// ██                                                          ██
// ██  DOOM LAYER — BLOOD SYSTEM + GENERATORS #46-55          ██
// ██  NO LIMITS. FILL EVERY PIXEL. DROWN IT IN FILIGREE.     ██
// ██                                                          ██
// ████████████████████████████████████████████████████████████████

const bloodCol='#8b0000';
const bloodLight='#dc143c';

// #46 — Blood Splatter (SVG)
function bloodSplatter(svg,cx,cy,radius,op,c){
  c=c||bloodCol;
  // Main splat
  let d='';
  const lobes=RI(5,12);
  for(let i=0;i<=lobes;i++){
    const a=(i/lobes)*Math.PI*2;
    const rr=radius*R(0.4,1.2);
    const x=cx+Math.cos(a)*rr;
    const y=cy+Math.sin(a)*rr;
    if(i===0)d+=`M${x.toFixed(1)},${y.toFixed(1)}`;
    else{
      const cp1x=cx+Math.cos(a-0.3)*rr*R(0.8,1.4);
      const cp1y=cy+Math.sin(a-0.3)*rr*R(0.8,1.4);
      d+=` Q${cp1x.toFixed(1)},${cp1y.toFixed(1)} ${x.toFixed(1)},${y.toFixed(1)}`;
    }
  }
  d+='Z';
  P(svg,d,R(0.3,0.8),op,c);
  // Satellite droplets
  for(let i=0;i<RI(3,8);i++){
    const a=R(0,Math.PI*2);
    const dist=radius*R(1.2,2.5);
    const dx=cx+Math.cos(a)*dist;
    const dy=cy+Math.sin(a)*dist;
    E(svg,dx,dy,R(0.5,3),R(0.5,3),R(0.2,0.5),op*R(0.3,0.8),c);
  }
  // Drip trails from main splat
  for(let i=0;i<RI(1,4);i++){
    const a=R(Math.PI*0.3,Math.PI*0.7);
    const sx=cx+Math.cos(a)*radius*0.5;
    const sy=cy+Math.sin(a)*radius*0.5;
    const dripLen=R(radius,radius*4);
    P(svg,`M${sx},${sy} Q${sx+R(-5,5)},${sy+dripLen*0.5} ${sx+R(-3,3)},${sy+dripLen}`,R(0.3,0.8),op*0.6,c);
    E(svg,sx+R(-3,3),sy+dripLen,R(1,3),R(1.5,4),R(0.2,0.5),op*0.4,c);
  }
}

// #47 — Blood Drip Trail (long vertical blood stream)
function bloodDripTrail(svg,x,yStart,length,op,c){
  c=c||bloodCol;
  // Main stream with wobble
  let d=`M${x},${yStart}`;
  const segs=Math.floor(length/R(8,15));
  let cx2=x,cy2=yStart;
  for(let i=0;i<segs;i++){
    cx2+=R(-3,3);
    cy2+=length/segs;
    d+=` Q${cx2+R(-4,4)},${cy2-length/(segs*2)} ${cx2},${cy2}`;
  }
  P(svg,d,R(0.5,1.5),op,c);
  // Thicker bulges
  for(let i=0;i<segs;i+=RI(2,4)){
    const by=yStart+(length/segs)*i;
    E(svg,x+R(-2,2),by,R(1,3),R(2,5),R(0.3,0.8),op*0.7,c);
  }
  // Terminal drip blob
  E(svg,cx2,cy2,R(2,5),R(3,7),R(0.3,0.8),op*0.8,c);
  // Micro drips branching off
  for(let i=0;i<RI(2,6);i++){
    const brY=yStart+R(length*0.2,length*0.8);
    const brDir=R(0,1)>0.5?1:-1;
    const brLen=R(5,20);
    P(svg,`M${x},${brY} Q${x+brDir*R(3,8)},${brY+brLen*0.5} ${x+brDir*R(1,5)},${brY+brLen}`,R(0.2,0.5),op*0.4,c);
  }
}

// #48 — Bleeding Cross (cross with blood dripping)
function bleedingCross(svg,cx,cy,size,op,c){
  c=c||col;
  // Draw the cross itself
  bigCross(svg,cx,cy,size,op,c);
  // Blood drips from crossbar ends
  for(let dx of[-1,1]){
    const bx=cx+size*0.4*dx;
    bloodDripTrail(svg,bx,cy,R(size*0.5,size*1.5),op*0.6,bloodCol);
  }
  // Blood drip from bottom
  bloodDripTrail(svg,cx,cy+size*0.5,R(size*0.3,size*1.2),op*0.5,bloodCol);
  // Splatter at base
  bloodSplatter(svg,cx,cy+size*0.8,R(size*0.1,size*0.25),op*0.4,bloodCol);
}

// #49 — Thorned Heart
function thornedHeart(svg,cx,cy,size,op,c){
  c=c||col;
  const hw=size*0.5,hh=size*0.55;
  // Heart shape
  P(svg,`M${cx},${cy+hh*0.8} Q${cx-hw*1.3},${cy+hh*0.2} ${cx-hw*0.8},${cy-hh*0.3} Q${cx-hw*0.3},${cy-hh*1.1} ${cx},${cy-hh*0.3} Q${cx+hw*0.3},${cy-hh*1.1} ${cx+hw*0.8},${cy-hh*0.3} Q${cx+hw*1.3},${cy+hh*0.2} ${cx},${cy+hh*0.8}`,R(0.4,0.8),op,c);
  // Thorny vine wrapping around heart
  const thorns=RI(8,16);
  for(let i=0;i<thorns;i++){
    const t=i/thorns;
    const a=t*Math.PI*2;
    const hr=size*0.4+R(-size*0.05,size*0.05);
    const px=cx+Math.cos(a)*hr*0.9;
    const py=cy-size*0.1+Math.sin(a)*hr*0.7;
    const thornA=a+R(-0.5,0.5);
    const tl=R(size*0.08,size*0.2);
    P(svg,`M${px},${py} L${px+Math.cos(thornA)*tl},${py+Math.sin(thornA)*tl}`,R(0.2,0.4),op*0.6,c);
  }
  // Blood dripping from bottom tip
  bloodDripTrail(svg,cx,cy+hh*0.8,R(size*0.3,size*0.8),op*0.5,bloodCol);
  // Blood drops from sides
  for(let dx of[-1,1]){
    bloodSplatter(svg,cx+hw*0.3*dx,cy+hh*0.5,R(size*0.03,size*0.08),op*0.3,bloodCol);
  }
}

// #50 — Inverted Cross
function invertedCross(svg,cx,cy,size,op,c){
  c=c||col;
  const sw=R(0.4,1);
  // Vertical shaft (long part on top, short on bottom)
  P(svg,`M${cx},${cy-size*0.5} L${cx},${cy+size*0.2}`,sw,op,c);
  // Horizontal bar (in lower third)
  P(svg,`M${cx-size*0.25},${cy+size*0.05} L${cx+size*0.25},${cy+size*0.05}`,sw,op,c);
  // Decorative elements
  E(svg,cx,cy-size*0.5,R(1.5,3),R(1.5,3),R(0.15,0.3),op*0.7,c);
  E(svg,cx,cy+size*0.2,R(2,4),R(2,4),R(0.2,0.4),op*0.7,c);
  for(let dx of[-1,1]){
    E(svg,cx+size*0.25*dx,cy+size*0.05,R(1,2.5),R(1,2.5),R(0.15,0.3),op*0.6,c);
  }
  // Blood drip from top
  bloodDripTrail(svg,cx,cy+size*0.2,R(size*0.2,size*0.6),op*0.4,bloodCol);
}

// #51 — Crown of Nails
function crownOfNails(svg,cx,cy,radius,nails,op,c){
  c=c||col;
  // Base ring
  E(svg,cx,cy,radius,radius*0.3,R(0.3,0.6),op,c);
  E(svg,cx,cy,radius*0.9,radius*0.25,R(0.2,0.4),op*0.6,c);
  // Nails protruding upward
  for(let i=0;i<nails;i++){
    const a=(i/nails)*Math.PI*2;
    const bx=cx+Math.cos(a)*radius;
    const by=cy+Math.sin(a)*radius*0.3;
    const nailH=R(radius*0.3,radius*0.8);
    const nailA=a*0.3-Math.PI/2;
    const nx=bx+Math.cos(nailA)*nailH;
    const ny=by+Math.sin(nailA)*nailH;
    P(svg,`M${bx},${by} L${nx},${ny}`,R(0.3,0.6),op*0.8,c);
    // Nail head
    P(svg,`M${nx-2},${ny} L${nx+2},${ny}`,R(0.3,0.5),op*0.6,c);
    // Blood from nail point
    if(R(0,1)>0.5){
      P(svg,`M${bx},${by} L${bx+R(-2,2)},${by+R(3,12)}`,R(0.2,0.5),op*0.3,bloodCol);
    }
  }
}

// #52 — Blood Chalice (chalice overflowing with blood)
function sacrificialAltar(svg,cx,cy,h,op,c){
  c=c||col;
  // Cup
  const cupW=h*0.35,cupH=h*0.4;
  P(svg,`M${cx-cupW},${cy} Q${cx-cupW*1.1},${cy+cupH*0.8} ${cx-cupW*0.3},${cy+cupH} L${cx+cupW*0.3},${cy+cupH} Q${cx+cupW*1.1},${cy+cupH*0.8} ${cx+cupW},${cy}`,R(0.3,0.7),op,c);
  // Rim
  E(svg,cx,cy,cupW,cupW*0.15,R(0.3,0.6),op,c);
  // Stem
  P(svg,`M${cx},${cy+cupH} L${cx},${cy+h*0.8}`,R(0.3,0.5),op,c);
  // Base
  E(svg,cx,cy+h*0.85,h*0.2,h*0.05,R(0.3,0.6),op,c);
  // Blood overflowing
  for(let i=0;i<RI(3,7);i++){
    const bx=cx+R(-cupW*0.8,cupW*0.8);
    P(svg,`M${bx},${cy} Q${bx+R(-4,4)},${cy-R(3,12)} ${bx+R(-6,6)},${cy-R(8,25)}`,R(0.3,0.8),op*0.5,bloodCol);
  }
  // Blood drips down cup
  for(let i=0;i<RI(2,5);i++){
    const bx=cx+R(-cupW*0.6,cupW*0.6);
    bloodDripTrail(svg,bx,cy+cupH*0.3,R(cupH*0.5,cupH*1.5),op*0.4,bloodCol);
  }
  // Blood pool at base
  bloodSplatter(svg,cx,cy+h*0.9,R(h*0.08,h*0.15),op*0.3,bloodCol);
}

// #53 — Death Angel Wing
function deathAngelWing(svg,cx,cy,size,dir,op,c){
  c=c||col;
  const d=dir;  // 1=right, -1=left
  // Main wing curve
  P(svg,`M${cx},${cy} Q${cx+size*0.4*d},${cy-size*0.3} ${cx+size*0.8*d},${cy-size*0.5} Q${cx+size*1.1*d},${cy-size*0.3} ${cx+size*0.9*d},${cy} Q${cx+size*0.7*d},${cy+size*0.1} ${cx+size*0.3*d},${cy+size*0.15} Q${cx+size*0.1*d},${cy+size*0.1} ${cx},${cy}`,R(0.3,0.7),op,c);
  // Feather bones
  for(let i=0;i<RI(5,10);i++){
    const t=i/10;
    const bx=cx+size*(0.1+t*0.7)*d;
    const by=cy-size*0.1*Math.sin(t*Math.PI);
    const fLen=size*R(0.15,0.35);
    const fA=-Math.PI/2+R(-0.4,0.4);
    P(svg,`M${bx},${by} L${bx+Math.cos(fA)*fLen*d},${by+Math.sin(fA)*fLen}`,R(0.2,0.4),op*0.5,c);
  }
  // Secondary feather layer
  P(svg,`M${cx},${cy} Q${cx+size*0.3*d},${cy-size*0.15} ${cx+size*0.6*d},${cy-size*0.3} Q${cx+size*0.8*d},${cy-size*0.15} ${cx+size*0.65*d},${cy+size*0.05}`,R(0.2,0.4),op*0.4,c);
  // Blood drips from wing tips
  if(R(0,1)>0.4){
    bloodDripTrail(svg,cx+size*0.85*d,cy,R(size*0.1,size*0.3),op*0.3,bloodCol);
  }
}

// #54 — Bone Chandelier
function boneChandelier(svg,cx,cy,w,h,op,c){
  c=c||col;
  // Central ring
  E(svg,cx,cy,w*0.15,w*0.08,R(0.3,0.6),op,c);
  // Arms (bone-like)
  const arms=RI(4,8);
  for(let i=0;i<arms;i++){
    const a=(i/arms)*Math.PI+Math.PI;
    const ax=cx+Math.cos(a)*w*0.4;
    const ay=cy+Math.sin(a)*h*0.3+h*0.15;
    P(svg,`M${cx+Math.cos(a)*w*0.15},${cy+Math.sin(a)*w*0.08} Q${cx+Math.cos(a)*w*0.25},${(cy+ay)/2+R(-5,5)} ${ax},${ay}`,R(0.3,0.5),op,c);
    // Bone knuckle at end
    E(svg,ax,ay,R(2,4),R(2,4),R(0.2,0.4),op*0.7,c);
    // Chain hanging from each arm
    chain(svg,ax,ay,R(h*0.2,h*0.5),op*0.5,R(1,3),R(0,1)>0.6,c);
    // Candle drip from each arm
    bloodDripTrail(svg,ax,ay+R(5,15),R(8,25),op*0.3,bloodCol);
  }
  // Suspension chains
  for(let dx of[-w*0.1,0,w*0.1]){
    P(svg,`M${cx+dx},${cy-h*0.1} L${cx+dx},${cy-h*0.4}`,R(0.2,0.4),op*0.6,c);
  }
  // Central pendant
  chain(svg,cx,cy+w*0.08,R(h*0.15,h*0.35),op*0.6,R(1.5,3),true,c);
}

// #55 — Crypt Gate (massive ornamental gate)
function cryptGate(svg,x,y,w,h,op,c){
  c=c||col;
  // Outer frame
  P(svg,`M${x},${y+h} L${x},${y+h*0.15} Q${x+w*0.5},${y-h*0.05} ${x+w},${y+h*0.15} L${x+w},${y+h}`,R(0.5,1),op,c);
  // Inner frame
  const m=w*0.08;
  P(svg,`M${x+m},${y+h} L${x+m},${y+h*0.2} Q${x+w*0.5},${y+h*0.02} ${x+w-m},${y+h*0.2} L${x+w-m},${y+h}`,R(0.3,0.7),op*0.7,c);
  // Vertical bars
  const bars=RI(5,12);
  const gap=(w-m*2)/bars;
  for(let i=1;i<bars;i++){
    const bx=x+m+i*gap;
    P(svg,`M${bx},${y+h} L${bx},${y+h*0.22}`,R(0.2,0.5),op*0.6,c);
    // Spearpoint
    P(svg,`M${bx-2},${y+h*0.22} L${bx},${y+h*0.15} L${bx+2},${y+h*0.22}`,R(0.2,0.4),op*0.6,c);
  }
  // Arch keystone
  E(svg,x+w*0.5,y+h*0.05,R(4,8),R(4,8),R(0.3,0.6),op*0.8,c);
  // Cross on keystone
  miniCross(svg,x+w*0.5,y+h*0.05,R(6,12),op*0.5,c);
  // Horizontal crossbar
  P(svg,`M${x+m},${y+h*0.5} L${x+w-m},${y+h*0.5}`,R(0.2,0.4),op*0.5,c);
  // Filigree scrollwork between bars
  for(let i=0;i<bars-1;i++){
    const bx=x+m+i*gap+gap*0.5;
    const by=y+h*0.65;
    filigreeSpiral(svg,bx,by,R(gap*0.15,gap*0.3),R(0.5,1.5),op*0.3,R(0.1,0.2),c);
  }
  // Blood drips from spearpoints
  for(let i=1;i<bars;i+=RI(1,3)){
    const bx=x+m+i*gap;
    if(R(0,1)>0.4){
      bloodDripTrail(svg,bx,y+h*0.15,R(10,35),op*0.25,bloodCol);
    }
  }
  // Blood pooling at bottom
  bloodSplatter(svg,x+w*0.5,y+h,R(w*0.05,w*0.12),op*0.2,bloodCol);
}


// ████████████████████████████████████████████████████████████████
// ██ DOOM LAYER — Placement of generators #46-55              ██
// ██ + Blood CSS element generation + cranked density          ██
// ████████████████████████████████████████████████████████████████

// ── CSS Blood Drip Generator ──
function spawnBloodDrips(parent,count,maxH,cls){
  cls=cls||'';
  for(let i=0;i<count;i++){
    const drip=document.createElement('div');
    drip.className='blood-drip '+cls;
    drip.style.cssText=`left:${R(0,100)}%;top:${R(-5,5)}%;height:${R(20,maxH)}px;width:${R(1,4)}px;animation-delay:${R(0,6)}s;opacity:${R(0.08,0.25)}`;
    parent.appendChild(drip);
  }
}
function spawnBloodSplatters(parent,count){
  for(let i=0;i<count;i++){
    const splat=document.createElement('div');
    splat.className='blood-splatter';
    splat.style.cssText=`left:${R(2,96)}%;top:${R(5,95)}%;width:${R(3,15)}px;height:${R(3,15)}px;animation-delay:${R(0,5)}s;opacity:${R(0.04,0.15)}`;
    parent.appendChild(splat);
  }
}
function spawnBloodPools(parent,count){
  for(let i=0;i<count;i++){
    const pool=document.createElement('div');
    pool.className='blood-pool';
    pool.style.cssText=`left:${R(5,90)}%;bottom:${R(-2,5)}%;width:${R(8,30)}px;height:${R(3,10)}px;animation-delay:${R(0,4)}s;opacity:${R(0.05,0.15)}`;
    parent.appendChild(pool);
  }
}


// ── Doom Hero ──
(function doomHero(){
  const hero=document.getElementById('hero');
  if(!hero)return;

  // CSS blood drips from top — 30 drips
  spawnBloodDrips(hero,30,200);
  spawnBloodSplatters(hero,15);
  spawnBloodPools(hero,8);

  // Bleeding cross — center background
  const bc=document.createElement('div');
  bc.className='orn';
  bc.style.cssText='top:15%;left:50%;width:300px;height:400px;transform:translateX(-50%)';
  hero.appendChild(bc);
  const bcSvg=S('0 0 300 400','100%','100%','0.04');
  bleedingCross(bcSvg,150,120,R(80,120),R(0.25,0.5));
  bc.appendChild(bcSvg);

  // Thorned hearts
  for(let side of['left:4%','right:4%']){
    const th=document.createElement('div');
    th.className='orn orn-pulse';
    th.style.cssText=`top:40%;${side};width:80px;height:100px`;
    hero.appendChild(th);
    const thSvg=S('0 0 80 100','100%','100%','0.04');
    thornedHeart(thSvg,40,40,R(45,65),R(0.3,0.6));
    th.appendChild(thSvg);
  }

  // Death angel wings flanking title
  const wl=document.createElement('div');
  wl.className='orn';
  wl.style.cssText='top:30%;left:5%;width:250px;height:200px';
  hero.appendChild(wl);
  const wlSvg=S('0 0 250 200','100%','100%','0.035');
  deathAngelWing(wlSvg,200,100,R(120,180),-1,R(0.2,0.45));
  wl.appendChild(wlSvg);

  const wr=document.createElement('div');
  wr.className='orn';
  wr.style.cssText='top:30%;right:5%;width:250px;height:200px';
  hero.appendChild(wr);
  const wrSvg=S('0 0 250 200','100%','100%','0.035');
  deathAngelWing(wrSvg,50,100,R(120,180),1,R(0.2,0.45));
  wr.appendChild(wrSvg);

  // Bone chandelier
  const bch=document.createElement('div');
  bch.className='orn orn-sway';
  bch.style.cssText='top:0;left:50%;width:300px;height:250px;transform:translateX(-50%)';
  hero.appendChild(bch);
  const bchSvg=S('0 0 300 250','100%','100%','0.03');
  boneChandelier(bchSvg,150,30,R(200,280),R(150,220),R(0.2,0.45));
  bch.appendChild(bchSvg);

  // Crypt gate at bottom
  const cg=document.createElement('div');
  cg.className='orn';
  cg.style.cssText='bottom:0;left:50%;width:400px;height:200px;transform:translateX(-50%)';
  hero.appendChild(cg);
  const cgSvg=S('0 0 400 200','100%','100%','0.025');
  cryptGate(cgSvg,20,10,360,180,R(0.2,0.4));
  cg.appendChild(cgSvg);

  // Crown of nails behind title
  const cn=document.createElement('div');
  cn.className='orn';
  cn.style.cssText='top:45%;left:50%;width:200px;height:100px;transform:translate(-50%,-50%)';
  hero.appendChild(cn);
  const cnSvg=S('0 0 200 100','100%','100%','0.03');
  crownOfNails(cnSvg,100,50,R(60,85),RI(12,20),R(0.2,0.45));
  cn.appendChild(cnSvg);

  // Blood splatters (SVG) scattered
  for(let i=0;i<8;i++){
    const bs=document.createElement('div');
    bs.className='orn';
    bs.style.cssText=`top:${R(5,90)}%;left:${R(2,96)}%;width:40px;height:50px`;
    hero.appendChild(bs);
    const bsSvg=S('0 0 40 50','100%','100%','0.04');
    bloodSplatter(bsSvg,20,20,R(8,18),R(0.15,0.4));
    bs.appendChild(bsSvg);
  }

  // Inverted crosses scattered
  for(let i=0;i<6;i++){
    const ic=document.createElement('div');
    ic.className='orn orn-drift';
    ic.style.cssText=`top:${R(8,88)}%;left:${R(3,95)}%;width:20px;height:35px;animation-delay:${R(0,8)}s`;
    hero.appendChild(ic);
    const icSvg=S('0 0 20 35','100%','100%','0.025');
    invertedCross(icSvg,10,10,R(18,28),R(0.2,0.5));
    ic.appendChild(icSvg);
  }

  // Blood chalice
  const bChal=document.createElement('div');
  bChal.className='orn';
  bChal.style.cssText='bottom:15%;right:8%;width:60px;height:80px';
  hero.appendChild(bChal);
  const bChalSvg=S('0 0 60 80','100%','100%','0.035');
  sacrificialAltar(bChalSvg,30,10,R(50,70),R(0.25,0.5));
  bChal.appendChild(bChalSvg);
})();


// ── Doom About ──
(function doomAbout(){
  const about=document.getElementById('about');
  if(!about)return;

  spawnBloodDrips(about,20,150);
  spawnBloodSplatters(about,10);
  spawnBloodPools(about,5);

  // Thorned heart centerpiece
  const th=document.createElement('div');
  th.className='orn';
  th.style.cssText='top:40%;left:50%;width:120px;height:140px;transform:translateX(-50%)';
  about.appendChild(th);
  const thSvg=S('0 0 120 140','100%','100%','0.025');
  thornedHeart(thSvg,60,50,R(55,80),R(0.2,0.45));
  th.appendChild(thSvg);

  // Death angel wings at edges
  for(let i=0;i<2;i++){
    const w=document.createElement('div');
    w.className='orn';
    w.style.cssText=`top:25%;${i===0?'left:2%':'right:2%'};width:180px;height:150px`;
    about.appendChild(w);
    const wSvg=S('0 0 180 150','100%','100%','0.025');
    deathAngelWing(wSvg,i===0?150:30,75,R(80,130),i===0?-1:1,R(0.15,0.35));
    w.appendChild(wSvg);
  }

  // Blood chalices
  for(let side of['left:8%','right:8%']){
    const bc=document.createElement('div');
    bc.className='orn';
    bc.style.cssText=`bottom:10%;${side};width:40px;height:55px`;
    about.appendChild(bc);
    const bcSvg=S('0 0 40 55','100%','100%','0.025');
    sacrificialAltar(bcSvg,20,5,R(35,48),R(0.2,0.4));
    bc.appendChild(bcSvg);
  }

  // Blood splatters
  for(let i=0;i<6;i++){
    const bs=document.createElement('div');
    bs.className='orn';
    bs.style.cssText=`top:${R(5,90)}%;left:${R(2,95)}%;width:30px;height:35px`;
    about.appendChild(bs);
    const bsSvg=S('0 0 30 35','100%','100%','0.03');
    bloodSplatter(bsSvg,15,15,R(5,14),R(0.1,0.3));
    bs.appendChild(bsSvg);
  }

  // Inverted crosses
  for(let i=0;i<4;i++){
    const ic=document.createElement('div');
    ic.className='orn';
    ic.style.cssText=`top:${R(10,85)}%;left:${R(3,94)}%;width:16px;height:28px`;
    about.appendChild(ic);
    const icSvg=S('0 0 16 28','100%','100%','0.02');
    invertedCross(icSvg,8,8,R(14,22),R(0.15,0.4));
    ic.appendChild(icSvg);
  }
})();


// ── Doom Arsenal ──
(function doomArsenal(){
  const arsenal=document.getElementById('arsenal');
  if(!arsenal)return;

  spawnBloodDrips(arsenal,25,180,'blood-drip-slow');
  spawnBloodSplatters(arsenal,12);
  spawnBloodPools(arsenal,6);

  // Crypt gate at section entrance
  const cg=document.createElement('div');
  cg.className='orn';
  cg.style.cssText='top:0;left:50%;width:500px;height:180px;transform:translateX(-50%)';
  arsenal.appendChild(cg);
  const cgSvg=S('0 0 500 180','100%','100%','0.025');
  cryptGate(cgSvg,20,5,460,165,R(0.15,0.35),colLight);
  cg.appendChild(cgSvg);

  // Bleeding crosses at sides
  for(let side of['left:2%','right:2%']){
    const bc=document.createElement('div');
    bc.className='orn';
    bc.style.cssText=`top:30%;${side};width:100px;height:180px`;
    arsenal.appendChild(bc);
    const bcSvg=S('0 0 100 180','100%','100%','0.025');
    bleedingCross(bcSvg,50,40,R(30,50),R(0.2,0.4),colLight);
    bc.appendChild(bcSvg);
  }

  // Bone chandeliers
  for(let pct of[25,50,75]){
    const bch=document.createElement('div');
    bch.className='orn orn-sway';
    bch.style.cssText=`top:0;left:${pct}%;width:150px;height:130px;transform:translateX(-50%);animation-delay:${R(0,4)}s`;
    arsenal.appendChild(bch);
    const bchSvg=S('0 0 150 130','100%','100%','0.02');
    boneChandelier(bchSvg,75,15,R(100,140),R(80,120),R(0.15,0.35),colLight);
    bch.appendChild(bchSvg);
  }

  // Crown of nails at bottom
  const cn=document.createElement('div');
  cn.className='orn';
  cn.style.cssText='bottom:5%;left:50%;width:180px;height:80px;transform:translateX(-50%)';
  arsenal.appendChild(cn);
  const cnSvg=S('0 0 180 80','100%','100%','0.02');
  crownOfNails(cnSvg,90,40,R(50,75),RI(10,18),R(0.15,0.35),colLight);
  cn.appendChild(cnSvg);

  // Thorned hearts scattered
  for(let i=0;i<4;i++){
    const th=document.createElement('div');
    th.className='orn';
    th.style.cssText=`top:${R(15,80)}%;left:${R(5,90)}%;width:45px;height:55px`;
    arsenal.appendChild(th);
    const thSvg=S('0 0 45 55','100%','100%','0.02');
    thornedHeart(thSvg,22,22,R(25,40),R(0.15,0.35),colLight);
    th.appendChild(thSvg);
  }

  // Blood splatters (SVG)
  for(let i=0;i<10;i++){
    const bs=document.createElement('div');
    bs.className='orn';
    bs.style.cssText=`top:${R(3,95)}%;left:${R(2,96)}%;width:25px;height:30px`;
    arsenal.appendChild(bs);
    const bsSvg=S('0 0 25 30','100%','100%','0.03');
    bloodSplatter(bsSvg,12,12,R(4,12),R(0.1,0.3),bloodLight);
    bs.appendChild(bsSvg);
  }
})();


// ── Doom Conquests ──
(function doomConquests(){
  const conquests=document.getElementById('conquests');
  if(!conquests)return;

  spawnBloodDrips(conquests,18,140);
  spawnBloodSplatters(conquests,8);
  spawnBloodPools(conquests,4);

  // Thorned hearts between projects
  for(let i=0;i<3;i++){
    const th=document.createElement('div');
    th.className='orn';
    th.style.cssText=`top:${25+i*25}%;left:50%;width:50px;height:60px;transform:translateX(-50%)`;
    conquests.appendChild(th);
    const thSvg=S('0 0 50 60','100%','100%','0.025');
    thornedHeart(thSvg,25,25,R(25,40),R(0.2,0.45));
    th.appendChild(thSvg);
  }

  // Inverted crosses at margins
  for(let i=0;i<6;i++){
    const ic=document.createElement('div');
    ic.className='orn';
    ic.style.cssText=`top:${R(5,90)}%;${R(0,1)>0.5?'left:1%':'right:1%'};width:18px;height:30px`;
    conquests.appendChild(ic);
    const icSvg=S('0 0 18 30','100%','100%','0.02');
    invertedCross(icSvg,9,8,R(15,24),R(0.15,0.4));
    ic.appendChild(icSvg);
  }

  // Blood chalice at bottom
  const bc=document.createElement('div');
  bc.className='orn';
  bc.style.cssText='bottom:8%;left:50%;width:50px;height:70px;transform:translateX(-50%)';
  conquests.appendChild(bc);
  const bcSvg=S('0 0 50 70','100%','100%','0.025');
  sacrificialAltar(bcSvg,25,5,R(45,60),R(0.2,0.4));
  bc.appendChild(bcSvg);

  // Death angel wings
  const wl=document.createElement('div');
  wl.className='orn';
  wl.style.cssText='top:10%;left:1%;width:150px;height:120px';
  conquests.appendChild(wl);
  const wlSvg=S('0 0 150 120','100%','100%','0.02');
  deathAngelWing(wlSvg,120,60,R(70,110),-1,R(0.15,0.3));
  wl.appendChild(wlSvg);

  const wrr=document.createElement('div');
  wrr.className='orn';
  wrr.style.cssText='top:10%;right:1%;width:150px;height:120px';
  conquests.appendChild(wrr);
  const wrrSvg=S('0 0 150 120','100%','100%','0.02');
  deathAngelWing(wrrSvg,30,60,R(70,110),1,R(0.15,0.3));
  wrr.appendChild(wrrSvg);
})();


// ── Doom Chronicle ──
(function doomChronicle(){
  const chronicle=document.getElementById('chronicle');
  if(!chronicle)return;

  spawnBloodDrips(chronicle,22,160,'blood-drip-slow');
  spawnBloodSplatters(chronicle,10);
  spawnBloodPools(chronicle,5);

  // Bleeding cross at top
  const bc=document.createElement('div');
  bc.className='orn';
  bc.style.cssText='top:3%;left:50%;width:120px;height:200px;transform:translateX(-50%)';
  chronicle.appendChild(bc);
  const bcSvg=S('0 0 120 200','100%','100%','0.02');
  bleedingCross(bcSvg,60,50,R(35,55),R(0.15,0.35),colLight);
  bc.appendChild(bcSvg);

  // Bone chandelier
  const bch=document.createElement('div');
  bch.className='orn orn-sway';
  bch.style.cssText='top:0;left:50%;width:200px;height:150px;transform:translateX(-50%)';
  chronicle.appendChild(bch);
  const bchSvg=S('0 0 200 150','100%','100%','0.018');
  boneChandelier(bchSvg,100,15,R(140,180),R(100,140),R(0.12,0.3),colLight);
  bch.appendChild(bchSvg);

  // Crown of nails at timeline center
  const cn=document.createElement('div');
  cn.className='orn';
  cn.style.cssText='top:55%;left:50%;width:120px;height:60px;transform:translateX(-50%)';
  chronicle.appendChild(cn);
  const cnSvg=S('0 0 120 60','100%','100%','0.02');
  crownOfNails(cnSvg,60,30,R(35,50),RI(8,14),R(0.15,0.3),colLight);
  cn.appendChild(cnSvg);

  // Crypt gate at bottom
  const cg=document.createElement('div');
  cg.className='orn';
  cg.style.cssText='bottom:0;left:50%;width:350px;height:150px;transform:translateX(-50%)';
  chronicle.appendChild(cg);
  const cgSvg=S('0 0 350 150','100%','100%','0.02');
  cryptGate(cgSvg,15,5,320,135,R(0.12,0.28),colLight);
  cg.appendChild(cgSvg);

  // Blood splatters at timeline nodes
  for(let i=0;i<5;i++){
    const bs=document.createElement('div');
    bs.className='orn';
    bs.style.cssText=`top:${218+i*70}px;left:${R(5,15)}%;width:20px;height:25px`;
    chronicle.appendChild(bs);
    const bsSvg=S('0 0 20 25','100%','100%','0.03');
    bloodSplatter(bsSvg,10,10,R(4,10),R(0.15,0.35),bloodLight);
    bs.appendChild(bsSvg);
  }
})();


// ── Doom Summon ──
(function doomSummon(){
  const summon=document.getElementById('summon');
  if(!summon)return;

  spawnBloodDrips(summon,25,170);
  spawnBloodSplatters(summon,12);
  spawnBloodPools(summon,6);

  // Massive bleeding cross centerpiece
  const bc=document.createElement('div');
  bc.className='orn';
  bc.style.cssText='top:20%;left:50%;width:250px;height:350px;transform:translateX(-50%)';
  summon.appendChild(bc);
  const bcSvg=S('0 0 250 350','100%','100%','0.02');
  bleedingCross(bcSvg,125,100,R(60,90),R(0.12,0.28));
  bc.appendChild(bcSvg);

  // Death angel wings behind CTA
  for(let i=0;i<2;i++){
    const w=document.createElement('div');
    w.className='orn';
    w.style.cssText=`top:25%;${i===0?'left:8%':'right:8%'};width:200px;height:160px`;
    summon.appendChild(w);
    const wSvg=S('0 0 200 160','100%','100%','0.02');
    deathAngelWing(wSvg,i===0?160:40,80,R(90,140),i===0?-1:1,R(0.12,0.3));
    w.appendChild(wSvg);
  }

  // Blood chalices flanking
  for(let side of['left:15%','right:15%']){
    const bChal=document.createElement('div');
    bChal.className='orn';
    bChal.style.cssText=`bottom:15%;${side};width:45px;height:60px`;
    summon.appendChild(bChal);
    const bChalSvg=S('0 0 45 60','100%','100%','0.025');
    sacrificialAltar(bChalSvg,22,5,R(38,52),R(0.2,0.4));
    bChal.appendChild(bChalSvg);
  }

  // Inverted crosses
  for(let i=0;i<5;i++){
    const ic=document.createElement('div');
    ic.className='orn';
    ic.style.cssText=`top:${R(5,90)}%;left:${R(3,95)}%;width:15px;height:26px`;
    summon.appendChild(ic);
    const icSvg=S('0 0 15 26','100%','100%','0.02');
    invertedCross(icSvg,7,7,R(12,20),R(0.15,0.35));
    ic.appendChild(icSvg);
  }

  // Thorned heart at top
  const th=document.createElement('div');
  th.className='orn orn-pulse';
  th.style.cssText='top:8%;left:50%;width:80px;height:90px;transform:translateX(-50%)';
  summon.appendChild(th);
  const thSvg=S('0 0 80 90','100%','100%','0.025');
  thornedHeart(thSvg,40,35,R(40,60),R(0.2,0.4));
  th.appendChild(thSvg);
})();


// ── Doom Footer ──
(function doomFooter(){
  const footer=document.querySelector('footer');
  if(!footer)return;

  spawnBloodDrips(footer,15,100);
  spawnBloodSplatters(footer,6);

  // Inverted cross at center
  const ic=document.createElement('div');
  ic.className='orn';
  ic.style.cssText='top:50%;left:50%;width:25px;height:40px;transform:translate(-50%,-50%)';
  footer.appendChild(ic);
  const icSvg=S('0 0 25 40','100%','100%','0.02');
  invertedCross(icSvg,12,12,R(18,28),R(0.15,0.3));
  ic.appendChild(icSvg);

  // Blood splatters
  for(let i=0;i<4;i++){
    const bs=document.createElement('div');
    bs.className='orn';
    bs.style.cssText=`top:${R(10,80)}%;left:${R(5,92)}%;width:20px;height:25px`;
    footer.appendChild(bs);
    const bsSvg=S('0 0 20 25','100%','100%','0.025');
    bloodSplatter(bsSvg,10,10,R(4,10),R(0.1,0.25));
    bs.appendChild(bsSvg);
  }
})();


// ── Doom Background Flood ──
(function doomBg(){
  const el=document.getElementById('bgFiligree');
  if(!el||!el.querySelector('svg'))return;
  const svg=el.querySelector('svg');

  // Blood splatters EVERYWHERE in background
  for(let i=0;i<40;i++){
    bloodSplatter(svg,R(30,1170),R(30,3970),R(3,15),R(0.01,0.04));
  }
  // Blood drip trails
  for(let i=0;i<30;i++){
    bloodDripTrail(svg,R(30,1170),R(30,3800),R(20,100),R(0.01,0.03));
  }
  // Bleeding crosses
  for(let i=0;i<10;i++){
    bleedingCross(svg,R(80,1120),R(80,3920),R(8,25),R(0.008,0.025));
  }
  // Thorned hearts
  for(let i=0;i<12;i++){
    thornedHeart(svg,R(80,1120),R(80,3920),R(8,22),R(0.008,0.025));
  }
  // Inverted crosses
  for(let i=0;i<20;i++){
    invertedCross(svg,R(60,1140),R(60,3940),R(5,18),R(0.008,0.025));
  }
  // Crown of nails
  for(let i=0;i<8;i++){
    crownOfNails(svg,R(80,1120),R(80,3920),R(8,25),RI(6,14),R(0.006,0.02));
  }
  // Blood chalices
  for(let i=0;i<10;i++){
    sacrificialAltar(svg,R(80,1120),R(80,3920),R(10,30),R(0.006,0.02));
  }
  // Death angel wings
  for(let i=0;i<8;i++){
    deathAngelWing(svg,R(100,1100),R(100,3900),R(15,45),R(0,1)>0.5?1:-1,R(0.006,0.02));
  }
  // Bone chandeliers
  for(let i=0;i<6;i++){
    boneChandelier(svg,R(100,1100),R(100,3900),R(20,60),R(15,45),R(0.005,0.018));
  }
  // Crypt gates
  for(let i=0;i<5;i++){
    cryptGate(svg,R(30,800),R(80,3700),R(40,150),R(30,100),R(0.005,0.015));
  }
})();


// ████████████████████████████████████████████████████████████████
// ██ GEHENNA LAYER — Cranked density pass                     ██
// ██ Triple the ornament count. Make it INSANE.               ██
// ████████████████████████████████████████████████████████████████

(function gehennaFlood(){
  const sections=['hero','about','conquests','summon'];
  const darkSections=['arsenal','chronicle'];

  // Light sections — flood with ornaments
  sections.forEach(id=>{
    const el=document.getElementById(id);
    if(!el)return;

    // 20 more chains
    const chDiv=document.createElement('div');
    chDiv.className='orn';
    chDiv.style.cssText='top:0;left:0;width:100%;height:100%;pointer-events:none';
    el.appendChild(chDiv);
    const chSvg=S('0 0 1200 800','100%','100%','0.04');
    for(let i=0;i<20;i++){
      chain(chSvg,R(20,1180),R(0,50),R(20,200),R(0.1,0.3),R(1,4),R(0,1)>0.5);
    }
    chDiv.appendChild(chSvg);

    // 15 more crosses of various sizes
    const crDiv=document.createElement('div');
    crDiv.className='orn';
    crDiv.style.cssText='top:0;left:0;width:100%;height:100%;pointer-events:none';
    el.appendChild(crDiv);
    const crSvg=S('0 0 1200 800','100%','100%','0.03');
    for(let i=0;i<15;i++){
      if(R(0,1)>0.5){
        bigCross(crSvg,R(50,1150),R(50,750),R(10,40),R(0.08,0.2));
      }else{
        miniCross(crSvg,R(50,1150),R(50,750),R(5,20),R(0.08,0.2));
      }
    }
    crDiv.appendChild(crSvg);

    // 10 more vine fragments
    const vnDiv=document.createElement('div');
    vnDiv.className='orn';
    vnDiv.style.cssText='top:0;left:0;width:100%;height:100%;pointer-events:none';
    el.appendChild(vnDiv);
    const vnSvg=S('0 0 1200 800','100%','100%','0.03');
    for(let i=0;i<10;i++){
      const pts=[];
      const sx=R(20,1100),sy=R(20,780);
      for(let t=0;t<RI(4,12);t++){
        pts.push({x:sx+t*R(15,40)+R(-10,10),y:sy+t*R(-15,15)});
      }
      thornedArchway(vnSvg,pts,R(0.2,0.5),R(0.08,0.2),R(3,8),R(0.3,1),R(0,1)<0.5);
    }
    vnDiv.appendChild(vnSvg);

    // 8 more starbursts
    for(let i=0;i<8;i++){
      const sb=document.createElement('div');
      sb.className='orn';
      sb.style.cssText=`top:${R(5,90)}%;left:${R(3,95)}%;width:30px;height:30px`;
      el.appendChild(sb);
      const sbSvg=S('0 0 30 30','100%','100%','0.035');
      starburst(sbSvg,15,15,R(8,14),RI(6,14),R(0.15,0.35));
      sb.appendChild(sbSvg);
    }

    // 6 more cathedral spires
    for(let i=0;i<6;i++){
      const sp=document.createElement('div');
      sp.className='orn';
      sp.style.cssText=`top:${R(0,10)}%;left:${R(3,95)}%;width:25px;height:80px`;
      el.appendChild(sp);
      const spSvg=S('0 0 25 80','100%','100%','0.025');
      cathedralSpire(spSvg,12,5,R(50,70),R(0.15,0.35));
      sp.appendChild(spSvg);
    }

    // 5 more rose windows
    for(let i=0;i<5;i++){
      const rw=document.createElement('div');
      rw.className='orn orn-spin';
      rw.style.cssText=`top:${R(10,85)}%;left:${R(5,92)}%;width:50px;height:50px;animation-duration:${R(40,100)}s`;
      el.appendChild(rw);
      const rwSvg=S('0 0 50 50','100%','100%','0.02');
      roseWindow(rwSvg,25,25,R(15,23),R(0.12,0.3));
      rw.appendChild(rwSvg);
    }
  });

  // Dark sections — same treatment with colLight
  darkSections.forEach(id=>{
    const el=document.getElementById(id);
    if(!el)return;

    const chDiv=document.createElement('div');
    chDiv.className='orn';
    chDiv.style.cssText='top:0;left:0;width:100%;height:100%;pointer-events:none';
    el.appendChild(chDiv);
    const chSvg=S('0 0 1200 800','100%','100%','0.035');
    for(let i=0;i<20;i++){
      chain(chSvg,R(20,1180),R(0,50),R(20,200),R(0.08,0.25),R(1,4),R(0,1)>0.5,colLight);
    }
    chDiv.appendChild(chSvg);

    const crDiv=document.createElement('div');
    crDiv.className='orn';
    crDiv.style.cssText='top:0;left:0;width:100%;height:100%;pointer-events:none';
    el.appendChild(crDiv);
    const crSvg=S('0 0 1200 800','100%','100%','0.025');
    for(let i=0;i<15;i++){
      if(R(0,1)>0.5){
        bigCross(crSvg,R(50,1150),R(50,750),R(10,40),R(0.06,0.18),colLight);
      }else{
        miniCross(crSvg,R(50,1150),R(50,750),R(5,20),R(0.06,0.18),colLight);
      }
    }
    crDiv.appendChild(crSvg);

    const vnDiv=document.createElement('div');
    vnDiv.className='orn';
    vnDiv.style.cssText='top:0;left:0;width:100%;height:100%;pointer-events:none';
    el.appendChild(vnDiv);
    const vnSvg=S('0 0 1200 800','100%','100%','0.025');
    for(let i=0;i<10;i++){
      const pts=[];
      const sx=R(20,1100),sy=R(20,780);
      for(let t=0;t<RI(4,12);t++){
        pts.push({x:sx+t*R(15,40)+R(-10,10),y:sy+t*R(-15,15)});
      }
      thornedArchway(vnSvg,pts,R(0.2,0.5),R(0.06,0.18),R(3,8),R(0.3,1),R(0,1)<0.5,colLight);
    }
    vnDiv.appendChild(vnSvg);

    for(let i=0;i<8;i++){
      const sb=document.createElement('div');
      sb.className='orn';
      sb.style.cssText=`top:${R(5,90)}%;left:${R(3,95)}%;width:30px;height:30px`;
      el.appendChild(sb);
      const sbSvg=S('0 0 30 30','100%','100%','0.03');
      starburst(sbSvg,15,15,R(8,14),RI(6,14),R(0.12,0.3),colLight);
      sb.appendChild(sbSvg);
    }

    for(let i=0;i<6;i++){
      const sp=document.createElement('div');
      sp.className='orn';
      sp.style.cssText=`top:${R(0,10)}%;left:${R(3,95)}%;width:25px;height:80px`;
      el.appendChild(sp);
      const spSvg=S('0 0 25 80','100%','100%','0.02');
      cathedralSpire(spSvg,12,5,R(50,70),R(0.12,0.3),colLight);
      sp.appendChild(spSvg);
    }

    for(let i=0;i<5;i++){
      const rw=document.createElement('div');
      rw.className='orn orn-spin';
      rw.style.cssText=`top:${R(10,85)}%;left:${R(5,92)}%;width:50px;height:50px;animation-duration:${R(40,100)}s`;
      el.appendChild(rw);
      const rwSvg=S('0 0 50 50','100%','100%','0.018');
      roseWindow(rwSvg,25,25,R(15,23),R(0.1,0.25),colLight);
      rw.appendChild(rwSvg);
    }
  });
})();


// ████████████████████████████████████████████████████████████████
// ██ RAGNAROK LAYER — Background SVG absolute mega-flood      ██
// ██ Hundreds more elements. Every generator. Max density.    ██
// ████████████████████████████████████████████████████████████████
(function ragnarok(){
  const el=document.getElementById('bgFiligree');
  if(!el||!el.querySelector('svg'))return;
  const svg=el.querySelector('svg');

  // 80 vine fragments
  for(let i=0;i<80;i++){
    const pts=[];
    const sx=R(10,1190),sy=R(10,3990);
    for(let t=0;t<RI(3,12);t++){
      pts.push({x:sx+t*R(5,30)+R(-8,8),y:sy+t*R(-10,10)});
    }
    thornedArchway(svg,pts,R(0.06,0.3),R(0.008,0.03),R(1,6),R(0.2,1.2),R(0,1)<0.5);
  }
  // 60 chains
  for(let i=0;i<60;i++){
    chain(svg,R(10,1190),R(10,3990),R(8,60),R(0.008,0.03),R(0.3,3),R(0,1)>0.7);
  }
  // 40 big crosses
  for(let i=0;i<40;i++){
    bigCross(svg,R(50,1150),R(50,3950),R(5,30),R(0.006,0.025));
  }
  // 50 mini crosses
  for(let i=0;i<50;i++){
    miniCross(svg,R(30,1170),R(30,3970),R(2,12),R(0.006,0.025));
  }
  // 40 starbursts
  for(let i=0;i<40;i++){
    starburst(svg,R(30,1170),R(30,3970),R(3,15),RI(4,12),R(0.006,0.022));
  }
  // 30 spirals
  for(let i=0;i<30;i++){
    filigreeSpiral(svg,R(30,1170),R(30,3970),R(3,20),R(1,4),R(0.006,0.022),R(0.06,0.25));
  }
  // 20 gothic arches
  for(let i=0;i<20;i++){
    gothicArch(svg,R(80,1120),R(80,3920),R(15,70),R(20,80),R(0.005,0.02));
  }
  // 15 candelabra
  for(let i=0;i<15;i++){
    candelabra(svg,R(80,1120),R(80,3920),R(15,50),R(20,60),R(0.005,0.018));
  }
  // 20 rose windows
  for(let i=0;i<20;i++){
    roseWindow(svg,R(60,1140),R(60,3940),R(6,35),R(0.005,0.018));
  }
  // 15 cathedral spires
  for(let i=0;i<15;i++){
    cathedralSpire(svg,R(60,1140),R(60,3940),R(15,70),R(0.005,0.018));
  }
  // 15 iron gates
  for(let i=0;i<15;i++){
    ironGate(svg,R(20,900),R(80,3700),R(40,180),R(15,70),R(0.005,0.018));
  }
  // 15 bone lattice
  for(let i=0;i<15;i++){
    boneLattice(svg,R(20,900),R(80,3700),R(30,150),R(20,100),R(6,25),R(0.005,0.018));
  }
  // 20 blood splatters
  for(let i=0;i<20;i++){
    bloodSplatter(svg,R(30,1170),R(30,3970),R(3,18),R(0.008,0.03));
  }
  // 15 blood drip trails
  for(let i=0;i<15;i++){
    bloodDripTrail(svg,R(30,1170),R(30,3800),R(15,80),R(0.008,0.025));
  }
  // 10 bleeding crosses
  for(let i=0;i<10;i++){
    bleedingCross(svg,R(80,1120),R(80,3920),R(8,30),R(0.006,0.02));
  }
  // 15 thorned hearts
  for(let i=0;i<15;i++){
    thornedHeart(svg,R(60,1140),R(60,3940),R(6,22),R(0.006,0.02));
  }
  // 20 inverted crosses
  for(let i=0;i<20;i++){
    invertedCross(svg,R(50,1150),R(50,3950),R(4,18),R(0.006,0.022));
  }
  // 10 crypt gates
  for(let i=0;i<10;i++){
    cryptGate(svg,R(20,800),R(60,3700),R(30,120),R(20,80),R(0.004,0.015));
  }
  // 12 death angel wings
  for(let i=0;i<12;i++){
    deathAngelWing(svg,R(80,1120),R(80,3920),R(10,40),R(0,1)>0.5?1:-1,R(0.005,0.018));
  }
  // 8 bone chandeliers
  for(let i=0;i<8;i++){
    boneChandelier(svg,R(80,1120),R(80,3920),R(15,50),R(12,40),R(0.004,0.015));
  }
  // 10 crown of nails
  for(let i=0;i<10;i++){
    crownOfNails(svg,R(80,1120),R(80,3920),R(8,25),RI(6,14),R(0.005,0.018));
  }
  // 10 blood chalices
  for(let i=0;i<10;i++){
    sacrificialAltar(svg,R(80,1120),R(80,3920),R(10,30),R(0.005,0.018));
  }
  // 20 tombstone frames
  for(let i=0;i<20;i++){
    tombstone(svg,R(80,1120),R(80,3920),R(10,45),R(15,55),R(0.004,0.015));
  }
  // 15 gargoyle brackets
  for(let i=0;i<15;i++){
    gargoylePerch(svg,R(60,1140),R(60,3940),R(8,25),R(0.005,0.018));
  }
  // 20 grotesque faces
  for(let i=0;i<20;i++){
    grotesqueFace(svg,R(60,1140),R(60,3940),R(5,18),R(0.005,0.018));
  }
  // 25 spider webs
  for(let i=0;i<25;i++){
    spiderWeb(svg,R(30,1170),R(30,3970),R(8,35),RI(2,5),RI(4,10),R(0.005,0.018));
  }
  // 30 dripping wax
  for(let i=0;i<30;i++){
    drippingWax(svg,R(20,1150),R(30,3900),RI(1,5),R(8,35),R(0.006,0.02));
  }
  // 20 pentacles
  for(let i=0;i<20;i++){
    pentacle(svg,R(60,1140),R(60,3940),R(5,25),R(0.005,0.018));
  }
  // 20 thorny crowns
  for(let i=0;i<20;i++){
    thornyCrown(svg,R(60,1140),R(60,3940),R(5,25),R(0.005,0.018));
  }
  // 15 lanterns
  for(let i=0;i<15;i++){
    lantern(svg,R(50,1150),R(50,3950),R(5,20),R(0.005,0.018));
  }
  // 15 scythes
  for(let i=0;i<15;i++){
    scythe(svg,R(50,1150),R(50,3950),R(6,22),R(0.005,0.018));
  }
  // 25 ankhs
  for(let i=0;i<25;i++){
    ankh(svg,R(40,1160),R(40,3960),R(4,16),R(0.005,0.018));
  }
  // 25 fleur de lis
  for(let i=0;i<25;i++){
    fleurDeLis(svg,R(40,1160),R(40,3960),R(4,16),R(0.005,0.018));
  }
  // 10 ornate frames
  for(let i=0;i<10;i++){
    ornateFrame(svg,R(20,800),R(50,3600),R(25,120),R(18,80),R(0.003,0.012));
  }
  // 15 daggers
  for(let i=0;i<15;i++){
    impaledSkull(svg,R(50,1150),R(50,3950),R(5,20),R(0.005,0.018));
  }
  // 20 bat silhouettes
  for(let i=0;i<20;i++){
    batSilhouette(svg,R(30,1170),R(30,3970),R(5,22),R(0.006,0.02));
  }
  // 15 coffin shapes
  for(let i=0;i<15;i++){
    coffinShape(svg,R(60,1140),R(60,3940),R(5,20),R(8,35),R(0.004,0.015));
  }
  // 15 serpent coils
  for(let i=0;i<15;i++){
    serpentCoil(svg,R(60,1140),R(60,3940),R(5,20),R(2,4),R(0.005,0.015));
  }
  // 15 wax seals
  for(let i=0;i<15;i++){
    waxSeal(svg,R(40,1160),R(40,3960),R(3,12),R(0.005,0.015));
  }
  // 10 censers
  for(let i=0;i<10;i++){
    censer(svg,R(60,1140),R(60,3940),R(5,18),R(0.005,0.015));
  }
  // 10 iron fences
  for(let i=0;i<10;i++){
    ironFence(svg,R(20,800),R(80,3800),R(60,250),R(10,35),R(0.005,0.015));
  }
  // 10 bone crosses
  for(let i=0;i<10;i++){
    boneCross(svg,R(50,1150),R(50,3950),R(4,15),R(0.005,0.018));
  }
  // 8 runic bands
  for(let i=0;i<8;i++){
    runicBand(svg,R(20,700),R(60,3800),R(60,300),R(5,15),R(0.005,0.015));
  }
  // 10 inverted arches
  for(let i=0;i<10;i++){
    invertedArch(svg,R(80,1120),R(80,3920),R(20,70),R(10,40),R(0.005,0.015));
  }
  // 8 gothic tracery
  for(let i=0;i<8;i++){
    gothicTracery(svg,R(80,1120),R(80,3920),R(15,55),R(20,65),R(0.004,0.014));
  }
  // 6 sepulchre panels
  for(let i=0;i<6;i++){
    sepulchrePanel(svg,R(80,1120),R(80,3920),R(15,45),R(25,70),R(0.004,0.014));
  }
  // 8 reliquary boxes
  for(let i=0;i<8;i++){
    reliquaryBox(svg,R(80,1120),R(80,3920),R(15,50),R(12,40),R(0.004,0.014));
  }

  console.log('[Gothic Filigree Engine v4 — RAGNAROK] All systems at maximum density. SVG hellscape complete.');
})();


// ████████████████████████████████████████████████████████████████
// ██                                                          ██
// ██  APOCALYPSE LAYER — Generators #56-65                    ██
// ██  New ornamental systems for max insanity                 ██
// ██                                                          ██
// ████████████████████████████████████████████████████████████████

// #56 — Blood Fountain (ornamental blood-spewing structure)
function bloodFountain(svg,cx,cy,size,op,c){
  c=c||col;
  // Basin
  P(svg,`M${cx-size*0.4},${cy+size*0.3} Q${cx-size*0.5},${cy+size*0.5} ${cx-size*0.2},${cy+size*0.55} L${cx+size*0.2},${cy+size*0.55} Q${cx+size*0.5},${cy+size*0.5} ${cx+size*0.4},${cy+size*0.3}`,R(0.3,0.6),op,c);
  // Pedestal
  P(svg,`M${cx-size*0.1},${cy+size*0.55} L${cx-size*0.15},${cy+size*0.75} L${cx+size*0.15},${cy+size*0.75} L${cx+size*0.1},${cy+size*0.55}`,R(0.3,0.5),op,c);
  E(svg,cx,cy+size*0.78,size*0.2,size*0.04,R(0.3,0.5),op,c);
  // Central spout
  P(svg,`M${cx},${cy+size*0.3} L${cx},${cy-size*0.1}`,R(0.3,0.6),op,c);
  // Blood arcs spraying out
  for(let i=0;i<RI(4,8);i++){
    const angle=R(-0.8,0.8);
    const arcH=R(size*0.2,size*0.5);
    const arcW=R(size*0.15,size*0.4);
    P(svg,`M${cx},${cy-size*0.1} Q${cx+arcW*Math.sin(angle)},${cy-size*0.1-arcH} ${cx+arcW*Math.sin(angle)*2},${cy+size*0.2}`,R(0.3,0.7),op*0.5,bloodCol);
  }
  // Drips from basin rim
  for(let i=0;i<RI(3,7);i++){
    const dx=cx+R(-size*0.35,size*0.35);
    bloodDripTrail(svg,dx,cy+size*0.55,R(size*0.1,size*0.3),op*0.3,bloodCol);
  }
  // Cross on pedestal
  miniCross(svg,cx,cy+size*0.65,size*0.08,op*0.4,c);
}

// #57 — Hangman's Noose
function hangmansNoose(svg,cx,cy,size,op,c){
  c=c||col;
  // Rope going up
  P(svg,`M${cx},${cy} L${cx},${cy-size*0.6}`,R(0.4,0.8),op,c);
  // Coils of the knot
  const coils=RI(5,9);
  for(let i=0;i<coils;i++){
    const coilY=cy+size*(0.02+i*0.04);
    E(svg,cx+R(-1,1),coilY,size*0.06,size*0.015,R(0.3,0.6),op*0.7,c);
  }
  // Loop
  P(svg,`M${cx-size*0.04},${cy+size*coils*0.04+size*0.02} Q${cx-size*0.12},${cy+size*0.45} ${cx},${cy+size*0.5} Q${cx+size*0.12},${cy+size*0.45} ${cx+size*0.04},${cy+size*coils*0.04+size*0.02}`,R(0.4,0.7),op,c);
  // Blood drip from bottom of loop
  if(R(0,1)>0.3){
    bloodDripTrail(svg,cx,cy+size*0.5,R(size*0.1,size*0.3),op*0.3,bloodCol);
  }
}

// #58 — Barbed Wire
function barbedWire(svg,pts,op,c){
  c=c||col;
  if(pts.length<2)return;
  // Main wire
  P(svg,curvePath(pts),R(0.3,0.7),op,c);
  // Second parallel wire
  const pts2=pts.map(p=>({x:p.x+R(-2,2),y:p.y+R(2,4)}));
  P(svg,curvePath(pts2),R(0.2,0.5),op*0.6,c);
  // Barbs at intervals
  for(let i=1;i<pts.length-1;i++){
    const p=pts[i];
    for(let b=0;b<RI(1,3);b++){
      const bA=R(0,Math.PI*2);
      const bL=R(3,8);
      P(svg,`M${p.x},${p.y} L${p.x+Math.cos(bA)*bL},${p.y+Math.sin(bA)*bL}`,R(0.2,0.4),op*0.7,c);
      // Blood on some barbs
      if(R(0,1)>0.6){
        E(svg,p.x+Math.cos(bA)*bL,p.y+Math.sin(bA)*bL,R(0.5,1.5),R(0.5,1.5),R(0.1,0.3),op*0.3,bloodCol);
      }
    }
  }
  // Twist marks
  for(let i=0;i<pts.length-1;i++){
    const p1=pts[i],p2=pts[i+1];
    const mx=(p1.x+p2.x)/2,my=(p1.y+p2.y)/2;
    P(svg,`M${mx-2},${my-2} L${mx+2},${my+2}`,R(0.1,0.2),op*0.3,c);
  }
}

// #59 — Skull Pile
function skullPile(svg,cx,cy,count,size,op,c){
  c=c||col;
  for(let i=0;i<count;i++){
    const sx=cx+R(-size*0.8,size*0.8);
    const sy=cy+R(-size*0.3,size*0.3);
    const ss=size*R(0.15,0.35);
    // Skull dome
    P(svg,`M${sx-ss},${sy} Q${sx-ss},${sy-ss*1.5} ${sx},${sy-ss*1.6} Q${sx+ss},${sy-ss*1.5} ${sx+ss},${sy}`,R(0.2,0.5),op*R(0.4,0.9),c);
    // Jaw
    P(svg,`M${sx-ss*0.7},${sy} Q${sx},${sy+ss*0.5} ${sx+ss*0.7},${sy}`,R(0.2,0.4),op*R(0.3,0.7),c);
    // Eye sockets
    E(svg,sx-ss*0.3,sy-ss*0.5,ss*0.15,ss*0.2,R(0.1,0.3),op*R(0.4,0.8),c);
    E(svg,sx+ss*0.3,sy-ss*0.5,ss*0.15,ss*0.2,R(0.1,0.3),op*R(0.4,0.8),c);
    // Nose
    P(svg,`M${sx-ss*0.05},${sy-ss*0.15} L${sx},${sy+ss*0.05} L${sx+ss*0.05},${sy-ss*0.15}`,R(0.1,0.2),op*R(0.3,0.6),c);
  }
  // Blood pooling around pile
  bloodSplatter(svg,cx,cy+size*0.3,R(size*0.1,size*0.25),op*0.25,bloodCol);
}

// #60 — Spiked Halo
function spikedHalo(svg,cx,cy,radius,spikes,op,c){
  c=c||col;
  // Main ring
  E(svg,cx,cy,radius,radius*0.3,R(0.3,0.6),op,c);
  // Inner ring
  E(svg,cx,cy,radius*0.85,radius*0.22,R(0.2,0.4),op*0.6,c);
  // Spikes radiating outward
  for(let i=0;i<spikes;i++){
    const a=(i/spikes)*Math.PI*2;
    const bx=cx+Math.cos(a)*radius;
    const by=cy+Math.sin(a)*radius*0.3;
    const sLen=R(radius*0.2,radius*0.5);
    const sx=bx+Math.cos(a)*sLen;
    const sy=by+Math.sin(a)*sLen*0.3;
    P(svg,`M${bx},${by} L${sx},${sy}`,R(0.2,0.5),op*0.7,c);
    // Point detail
    E(svg,sx,sy,R(0.5,1.5),R(0.5,1.5),R(0.1,0.2),op*0.5,c);
  }
  // Glow rays between spikes
  for(let i=0;i<spikes;i+=2){
    const a=(i/spikes)*Math.PI*2+Math.PI/spikes;
    const rx=cx+Math.cos(a)*radius*1.2;
    const ry=cy+Math.sin(a)*radius*0.36;
    P(svg,`M${cx+Math.cos(a)*radius*0.9},${cy+Math.sin(a)*radius*0.27} L${rx},${ry}`,R(0.05,0.15),op*0.2,c);
  }
}

// #61 — Weeping Eye
function weepingEye(svg,cx,cy,size,op,c){
  c=c||col;
  // Eye outline
  P(svg,`M${cx-size*0.5},${cy} Q${cx},${cy-size*0.35} ${cx+size*0.5},${cy} Q${cx},${cy+size*0.35} ${cx-size*0.5},${cy}`,R(0.3,0.6),op,c);
  // Iris
  E(svg,cx,cy,size*0.18,size*0.22,R(0.2,0.5),op*0.7,c);
  // Pupil
  E(svg,cx,cy,size*0.07,size*0.09,R(0.15,0.3),op*0.9,c);
  // Tear duct / corner details
  P(svg,`M${cx-size*0.5},${cy} L${cx-size*0.58},${cy+size*0.03}`,R(0.15,0.3),op*0.5,c);
  P(svg,`M${cx+size*0.5},${cy} L${cx+size*0.58},${cy+size*0.03}`,R(0.15,0.3),op*0.5,c);
  // Blood tears
  for(let i=0;i<RI(2,5);i++){
    const tx=cx+R(-size*0.2,size*0.2);
    const tearLen=R(size*0.3,size*0.8);
    P(svg,`M${tx},${cy+size*0.2} Q${tx+R(-3,3)},${cy+size*0.2+tearLen*0.5} ${tx+R(-2,2)},${cy+size*0.2+tearLen}`,R(0.2,0.5),op*0.4,bloodCol);
    E(svg,tx+R(-2,2),cy+size*0.2+tearLen,R(0.8,2),R(1,3),R(0.15,0.4),op*0.3,bloodCol);
  }
}

// #62 — Broken Chain
function brokenChain(svg,x1,y1,x2,y2,links,op,c){
  c=c||col;
  const dx=(x2-x1)/links;
  const dy=(y2-y1)/links;
  const breakPoint=RI(Math.floor(links*0.3),Math.floor(links*0.7));
  for(let i=0;i<links;i++){
    if(i===breakPoint)continue;
    const lx=x1+dx*i;
    const ly=y1+dy*i;
    const lw=R(3,6),lh=R(5,10);
    E(svg,lx,ly,lw,lh,R(0.2,0.5),op*(i===breakPoint-1||i===breakPoint+1?0.4:0.7),c);
  }
  // Broken ends dangling
  const bx=x1+dx*breakPoint;
  const by=y1+dy*breakPoint;
  P(svg,`M${bx-4},${by} Q${bx-6},${by+R(5,15)} ${bx-8},${by+R(10,25)}`,R(0.2,0.4),op*0.5,c);
  P(svg,`M${bx+4},${by} Q${bx+6},${by+R(5,15)} ${bx+8},${by+R(10,25)}`,R(0.2,0.4),op*0.5,c);
  // Sparks / blood at break
  for(let i=0;i<RI(2,5);i++){
    E(svg,bx+R(-5,5),by+R(-5,5),R(0.3,1.5),R(0.3,1.5),R(0.08,0.2),op*0.3,bloodCol);
  }
}

// #63 — Thorned Vine Border (rectangular border made of thorned vines)
function thornedVineBorder(svg,x,y,w,h,op,c){
  c=c||col;
  // Top vine
  const tPts=[];
  for(let px=x;px<=x+w;px+=R(15,35)){tPts.push({x:px,y:y+R(-3,3)});}
  thornedArchway(svg,tPts,R(0.2,0.5),op,R(2,5),R(0.3,0.8),true,c);
  // Bottom vine
  const bPts=[];
  for(let px=x;px<=x+w;px+=R(15,35)){bPts.push({x:px,y:y+h+R(-3,3)});}
  thornedArchway(svg,bPts,R(0.2,0.5),op,R(2,5),R(0.3,0.8),true,c);
  // Left vine
  const lPts=[];
  for(let py=y;py<=y+h;py+=R(15,35)){lPts.push({x:x+R(-3,3),y:py});}
  thornedArchway(svg,lPts,R(0.2,0.5),op,R(2,5),R(0.3,0.8),true,c);
  // Right vine
  const rPts=[];
  for(let py=y;py<=y+h;py+=R(15,35)){rPts.push({x:x+w+R(-3,3),y:py});}
  thornedArchway(svg,rPts,R(0.2,0.5),op,R(2,5),R(0.3,0.8),true,c);
  // Corner roses
  for(let corner of[[x,y],[x+w,y],[x+w,y+h],[x,y+h]]){
    roseWindow(svg,corner[0],corner[1],R(8,15),op*0.5,c);
  }
}

// #64 — Cathedral Rose Window (elaborate multi-ring)
function cathedralRoseWindow(svg,cx,cy,radius,op,c){
  c=c||col;
  // Outer ring
  E(svg,cx,cy,radius,radius,R(0.3,0.6),op,c);
  E(svg,cx,cy,radius*0.95,radius*0.95,R(0.2,0.4),op*0.6,c);
  // Petals (outer ring)
  const petals=RI(8,16);
  for(let i=0;i<petals;i++){
    const a1=(i/petals)*Math.PI*2;
    const a2=((i+0.5)/petals)*Math.PI*2;
    const a3=((i+1)/petals)*Math.PI*2;
    const ox1=cx+Math.cos(a1)*radius*0.85;
    const oy1=cy+Math.sin(a1)*radius*0.85;
    const mid=cx+Math.cos(a2)*radius*0.6;
    const midy=cy+Math.sin(a2)*radius*0.6;
    const ox2=cx+Math.cos(a3)*radius*0.85;
    const oy2=cy+Math.sin(a3)*radius*0.85;
    P(svg,`M${ox1},${oy1} Q${mid},${midy} ${ox2},${oy2}`,R(0.15,0.35),op*0.5,c);
  }
  // Middle ring
  E(svg,cx,cy,radius*0.5,radius*0.5,R(0.2,0.4),op*0.5,c);
  // Inner petals
  const innerPetals=RI(5,10);
  for(let i=0;i<innerPetals;i++){
    const a=(i/innerPetals)*Math.PI*2;
    const ix=cx+Math.cos(a)*radius*0.45;
    const iy=cy+Math.sin(a)*radius*0.45;
    const icx=cx+Math.cos(a)*radius*0.25;
    const icy=cy+Math.sin(a)*radius*0.25;
    P(svg,`M${cx},${cy} Q${icx+R(-3,3)},${icy+R(-3,3)} ${ix},${iy}`,R(0.1,0.25),op*0.4,c);
  }
  // Central cross
  miniCross(svg,cx,cy,radius*0.15,op*0.6,c);
  // Radiating light lines
  for(let i=0;i<petals*2;i++){
    const a=(i/(petals*2))*Math.PI*2;
    P(svg,`M${cx+Math.cos(a)*radius*0.5},${cy+Math.sin(a)*radius*0.5} L${cx+Math.cos(a)*radius*0.85},${cy+Math.sin(a)*radius*0.85}`,R(0.05,0.15),op*0.2,c);
  }
}

// #65 — Hanging Cage
function hangingCage(svg,cx,cy,w,h,op,c){
  c=c||col;
  // Suspension chain
  P(svg,`M${cx},${cy} L${cx},${cy+h*0.15}`,R(0.3,0.5),op*0.7,c);
  // Top ring
  E(svg,cx,cy+h*0.15,w*0.4,w*0.1,R(0.3,0.5),op,c);
  // Vertical bars
  const bars=RI(4,8);
  for(let i=0;i<bars;i++){
    const a=(i/bars)*Math.PI*2;
    const tx=cx+Math.cos(a)*w*0.4;
    const ty=cy+h*0.15+Math.sin(a)*w*0.1;
    const bx=cx+Math.cos(a)*w*0.35;
    const by=cy+h*0.85+Math.sin(a)*w*0.08;
    P(svg,`M${tx},${ty} Q${(tx+bx)/2+R(-3,3)},${(ty+by)/2} ${bx},${by}`,R(0.2,0.4),op*0.6,c);
  }
  // Bottom ring
  E(svg,cx,cy+h*0.85,w*0.35,w*0.08,R(0.3,0.5),op,c);
  // Horizontal bands
  for(let r=0.3;r<0.8;r+=0.2){
    E(svg,cx,cy+h*r,w*(0.42-r*0.1),w*(0.1-r*0.02),R(0.15,0.3),op*0.4,c);
  }
  // Blood drips from bottom
  for(let i=0;i<RI(2,5);i++){
    const dx=cx+R(-w*0.25,w*0.25);
    bloodDripTrail(svg,dx,cy+h*0.85,R(h*0.05,h*0.2),op*0.3,bloodCol);
  }
}


// ████████████████████████████████████████████████████████████████
// ██ APOCALYPSE LAYER — Final section placements              ██
// ████████████████████████████████████████████████████████████████

// ── Apocalypse Hero ──
(function apocalypseHero(){
  const hero=document.getElementById('hero');
  if(!hero)return;

  // Blood fountain at bottom center
  const bf=document.createElement('div');
  bf.className='orn';
  bf.style.cssText='bottom:5%;left:50%;width:120px;height:150px;transform:translateX(-50%)';
  hero.appendChild(bf);
  const bfSvg=S('0 0 120 150','100%','100%','0.03');
  bloodFountain(bfSvg,60,20,R(60,90),R(0.25,0.5));
  bf.appendChild(bfSvg);

  // Hanging cages at sides
  for(let side of['left:3%','right:3%']){
    const hc=document.createElement('div');
    hc.className='orn orn-sway';
    hc.style.cssText=`top:5%;${side};width:50px;height:120px;animation-delay:${R(0,3)}s`;
    hero.appendChild(hc);
    const hcSvg=S('0 0 50 120','100%','100%','0.03');
    hangingCage(hcSvg,25,0,R(30,45),R(80,110),R(0.2,0.45));
    hc.appendChild(hcSvg);
  }

  // Spiked halos behind title
  const sh=document.createElement('div');
  sh.className='orn';
  sh.style.cssText='top:35%;left:50%;width:250px;height:120px;transform:translate(-50%,-50%)';
  hero.appendChild(sh);
  const shSvg=S('0 0 250 120','100%','100%','0.025');
  spikedHalo(shSvg,125,60,R(80,110),RI(16,28),R(0.15,0.35));
  sh.appendChild(shSvg);

  // Weeping eyes scattered
  for(let i=0;i<4;i++){
    const we=document.createElement('div');
    we.className='orn orn-flicker';
    we.style.cssText=`top:${R(15,80)}%;left:${R(3,94)}%;width:40px;height:30px;animation-delay:${R(0,4)}s`;
    hero.appendChild(we);
    const weSvg=S('0 0 40 30','100%','100%','0.025');
    weepingEye(weSvg,20,12,R(25,35),R(0.2,0.45));
    we.appendChild(weSvg);
  }

  // Skull piles at bottom corners
  for(let side of['left:2%','right:2%']){
    const sp=document.createElement('div');
    sp.className='orn';
    sp.style.cssText=`bottom:2%;${side};width:100px;height:60px`;
    hero.appendChild(sp);
    const spSvg=S('0 0 100 60','100%','100%','0.03');
    skullPile(spSvg,50,40,RI(3,7),R(35,55),R(0.2,0.45));
    sp.appendChild(spSvg);
  }

  // Barbed wire border top
  const bw=document.createElement('div');
  bw.className='orn';
  bw.style.cssText='top:0;left:0;width:100%;height:15px';
  hero.appendChild(bw);
  const bwSvg=S('0 0 1200 15','100%','100%','0.04');
  const bwPts=[];
  for(let x=0;x<1200;x+=R(20,40)){bwPts.push({x:x,y:7+R(-3,3)});}
  barbedWire(bwSvg,bwPts,R(0.15,0.3));
  bw.appendChild(bwSvg);

  // Cathedral rose windows
  for(let i=0;i<2;i++){
    const crw=document.createElement('div');
    crw.className='orn orn-spin';
    crw.style.cssText=`top:${R(15,30)}%;${i===0?'left:8%':'right:8%'};width:80px;height:80px;animation-duration:${R(60,120)}s`;
    hero.appendChild(crw);
    const crwSvg=S('0 0 80 80','100%','100%','0.025');
    cathedralRoseWindow(crwSvg,40,40,R(25,38),R(0.15,0.35));
    crw.appendChild(crwSvg);
  }

  // Hangman's nooses
  for(let i=0;i<3;i++){
    const hn=document.createElement('div');
    hn.className='orn orn-sway';
    hn.style.cssText=`top:0;left:${15+i*30}%;width:25px;height:80px;animation-delay:${R(0,5)}s`;
    hero.appendChild(hn);
    const hnSvg=S('0 0 25 80','100%','100%','0.02');
    hangmansNoose(hnSvg,12,0,R(50,70),R(0.15,0.35));
    hn.appendChild(hnSvg);
  }

  // Thorned vine border around entire hero
  const tvb=document.createElement('div');
  tvb.className='orn';
  tvb.style.cssText='top:1%;left:1%;width:98%;height:98%;pointer-events:none';
  hero.appendChild(tvb);
  const tvbSvg=S('0 0 1176 784','100%','100%','0.015');
  thornedVineBorder(tvbSvg,10,10,1156,764,R(0.08,0.18));
  tvb.appendChild(tvbSvg);

  // Broken chains
  for(let i=0;i<4;i++){
    const bcn=document.createElement('div');
    bcn.className='orn';
    bcn.style.cssText=`top:${R(10,80)}%;left:${R(2,96)}%;width:30px;height:60px`;
    hero.appendChild(bcn);
    const bcnSvg=S('0 0 30 60','100%','100%','0.025');
    brokenChain(bcnSvg,15,5,15,55,RI(4,8),R(0.15,0.35));
    bcn.appendChild(bcnSvg);
  }
})();


// ── Apocalypse About ──
(function apocalypseAbout(){
  const about=document.getElementById('about');
  if(!about)return;

  // Spiked halo behind title
  const sh=document.createElement('div');
  sh.className='orn';
  sh.style.cssText='top:5%;left:50%;width:180px;height:80px;transform:translateX(-50%)';
  about.appendChild(sh);
  const shSvg=S('0 0 180 80','100%','100%','0.02');
  spikedHalo(shSvg,90,40,R(55,75),RI(12,20),R(0.12,0.28));
  sh.appendChild(shSvg);

  // Weeping eyes at margins
  for(let i=0;i<3;i++){
    const we=document.createElement('div');
    we.className='orn';
    we.style.cssText=`top:${R(15,75)}%;left:${R(2,94)}%;width:35px;height:25px`;
    about.appendChild(we);
    const weSvg=S('0 0 35 25','100%','100%','0.02');
    weepingEye(weSvg,17,10,R(20,30),R(0.15,0.35));
    we.appendChild(weSvg);
  }

  // Skull pile at bottom
  const sp=document.createElement('div');
  sp.className='orn';
  sp.style.cssText='bottom:3%;left:50%;width:150px;height:60px;transform:translateX(-50%)';
  about.appendChild(sp);
  const spSvg=S('0 0 150 60','100%','100%','0.02');
  skullPile(spSvg,75,40,RI(4,8),R(40,65),R(0.15,0.35));
  sp.appendChild(spSvg);

  // Barbed wire at bottom
  const bw=document.createElement('div');
  bw.className='orn';
  bw.style.cssText='bottom:0;left:0;width:100%;height:10px';
  about.appendChild(bw);
  const bwSvg=S('0 0 1200 10','100%','100%','0.03');
  const bwPts=[];
  for(let x=0;x<1200;x+=R(20,40)){bwPts.push({x:x,y:5+R(-3,3)});}
  barbedWire(bwSvg,bwPts,R(0.12,0.25));
  bw.appendChild(bwSvg);

  // Hangman's noose at side
  const hn=document.createElement('div');
  hn.className='orn orn-sway';
  hn.style.cssText='top:10%;right:3%;width:20px;height:70px';
  about.appendChild(hn);
  const hnSvg=S('0 0 20 70','100%','100%','0.02');
  hangmansNoose(hnSvg,10,0,R(40,60),R(0.12,0.28));
  hn.appendChild(hnSvg);

  // Cathedral rose window
  const crw=document.createElement('div');
  crw.className='orn orn-spin';
  crw.style.cssText='top:40%;left:3%;width:60px;height:60px;animation-duration:80s';
  about.appendChild(crw);
  const crwSvg=S('0 0 60 60','100%','100%','0.018');
  cathedralRoseWindow(crwSvg,30,30,R(20,28),R(0.12,0.25));
  crw.appendChild(crwSvg);
})();


// ── Apocalypse Dark Sections (Arsenal + Chronicle) ──
(function apocalypseDark(){
  ['arsenal','chronicle'].forEach(id=>{
    const el=document.getElementById(id);
    if(!el)return;

    // Barbed wire top + bottom
    for(let pos of['top:0','bottom:0']){
      const bw=document.createElement('div');
      bw.className='orn';
      bw.style.cssText=`${pos};left:0;width:100%;height:12px`;
      el.appendChild(bw);
      const bwSvg=S('0 0 1200 12','100%','100%','0.03');
      const pts=[];
      for(let x=0;x<1200;x+=R(18,35)){pts.push({x:x,y:6+R(-3,3)});}
      barbedWire(bwSvg,pts,R(0.1,0.22),colLight);
      bw.appendChild(bwSvg);
    }

    // Hanging cages
    for(let pct of[20,80]){
      const hc=document.createElement('div');
      hc.className='orn orn-sway';
      hc.style.cssText=`top:3%;left:${pct}%;width:40px;height:100px;animation-delay:${R(0,4)}s`;
      el.appendChild(hc);
      const hcSvg=S('0 0 40 100','100%','100%','0.02');
      hangingCage(hcSvg,20,0,R(25,35),R(65,90),R(0.12,0.3),colLight);
      hc.appendChild(hcSvg);
    }

    // Skull piles at bottom
    const sp=document.createElement('div');
    sp.className='orn';
    sp.style.cssText='bottom:2%;left:50%;width:120px;height:50px;transform:translateX(-50%)';
    el.appendChild(sp);
    const spSvg=S('0 0 120 50','100%','100%','0.02');
    skullPile(spSvg,60,35,RI(3,6),R(30,50),R(0.12,0.28),colLight);
    sp.appendChild(spSvg);

    // Weeping eyes
    for(let i=0;i<3;i++){
      const we=document.createElement('div');
      we.className='orn orn-flicker';
      we.style.cssText=`top:${R(15,80)}%;left:${R(4,92)}%;width:30px;height:22px;animation-delay:${R(0,5)}s`;
      el.appendChild(we);
      const weSvg=S('0 0 30 22','100%','100%','0.018');
      weepingEye(weSvg,15,9,R(18,26),R(0.12,0.28),colLight);
      we.appendChild(weSvg);
    }

    // Blood fountain
    const bfo=document.createElement('div');
    bfo.className='orn';
    bfo.style.cssText='bottom:8%;right:5%;width:80px;height:100px';
    el.appendChild(bfo);
    const bfoSvg=S('0 0 80 100','100%','100%','0.02');
    bloodFountain(bfoSvg,40,15,R(40,60),R(0.12,0.25),colLight);
    bfo.appendChild(bfoSvg);

    // Spiked halo
    const halo=document.createElement('div');
    halo.className='orn';
    halo.style.cssText='top:5%;left:50%;width:140px;height:70px;transform:translateX(-50%)';
    el.appendChild(halo);
    const haloSvg=S('0 0 140 70','100%','100%','0.018');
    spikedHalo(haloSvg,70,35,R(45,60),RI(12,20),R(0.1,0.25),colLight);
    halo.appendChild(haloSvg);

    // Cathedral rose windows
    for(let side of['left:3%','right:3%']){
      const crw=document.createElement('div');
      crw.className='orn orn-spin';
      crw.style.cssText=`top:40%;${side};width:50px;height:50px;animation-duration:${R(50,100)}s`;
      el.appendChild(crw);
      const crwSvg=S('0 0 50 50','100%','100%','0.015');
      cathedralRoseWindow(crwSvg,25,25,R(16,23),R(0.1,0.22),colLight);
      crw.appendChild(crwSvg);
    }

    // Broken chains
    for(let i=0;i<3;i++){
      const bcn=document.createElement('div');
      bcn.className='orn';
      bcn.style.cssText=`top:${R(10,85)}%;left:${R(3,95)}%;width:25px;height:50px`;
      el.appendChild(bcn);
      const bcnSvg=S('0 0 25 50','100%','100%','0.02');
      brokenChain(bcnSvg,12,3,12,47,RI(3,7),R(0.12,0.28),colLight);
      bcn.appendChild(bcnSvg);
    }

    // Hangman's nooses
    for(let i=0;i<2;i++){
      const hn=document.createElement('div');
      hn.className='orn orn-sway';
      hn.style.cssText=`top:0;left:${R(10,85)}%;width:20px;height:65px;animation-delay:${R(0,6)}s`;
      el.appendChild(hn);
      const hnSvg=S('0 0 20 65','100%','100%','0.018');
      hangmansNoose(hnSvg,10,0,R(35,55),R(0.1,0.25),colLight);
      hn.appendChild(hnSvg);
    }
  });
})();


// ── Apocalypse Conquests + Summon ──
(function apocalypseLight(){
  ['conquests','summon'].forEach(id=>{
    const el=document.getElementById(id);
    if(!el)return;

    // Barbed wire borders
    for(let pos of['top:0','bottom:0']){
      const bw=document.createElement('div');
      bw.className='orn';
      bw.style.cssText=`${pos};left:0;width:100%;height:10px`;
      el.appendChild(bw);
      const bwSvg=S('0 0 1200 10','100%','100%','0.025');
      const pts=[];
      for(let x=0;x<1200;x+=R(20,40)){pts.push({x:x,y:5+R(-3,3)});}
      barbedWire(bwSvg,pts,R(0.1,0.22));
      bw.appendChild(bwSvg);
    }

    // Weeping eyes
    for(let i=0;i<3;i++){
      const we=document.createElement('div');
      we.className='orn orn-flicker';
      we.style.cssText=`top:${R(10,85)}%;left:${R(3,94)}%;width:30px;height:22px;animation-delay:${R(0,4)}s`;
      el.appendChild(we);
      const weSvg=S('0 0 30 22','100%','100%','0.02');
      weepingEye(weSvg,15,9,R(18,26),R(0.12,0.28));
      we.appendChild(weSvg);
    }

    // Skull pile
    const sp=document.createElement('div');
    sp.className='orn';
    sp.style.cssText='bottom:3%;left:50%;width:100px;height:45px;transform:translateX(-50%)';
    el.appendChild(sp);
    const spSvg=S('0 0 100 45','100%','100%','0.018');
    skullPile(spSvg,50,30,RI(3,5),R(30,45),R(0.12,0.28));
    sp.appendChild(spSvg);

    // Broken chains
    for(let i=0;i<3;i++){
      const bcn=document.createElement('div');
      bcn.className='orn';
      bcn.style.cssText=`top:${R(8,88)}%;left:${R(2,96)}%;width:20px;height:45px`;
      el.appendChild(bcn);
      const bcnSvg=S('0 0 20 45','100%','100%','0.02');
      brokenChain(bcnSvg,10,3,10,42,RI(3,6),R(0.1,0.25));
      bcn.appendChild(bcnSvg);
    }

    // Spiked halo
    const sh=document.createElement('div');
    sh.className='orn';
    sh.style.cssText='top:4%;left:50%;width:120px;height:60px;transform:translateX(-50%)';
    el.appendChild(sh);
    const shSvg=S('0 0 120 60','100%','100%','0.015');
    spikedHalo(shSvg,60,30,R(40,55),RI(10,18),R(0.1,0.22));
    sh.appendChild(shSvg);

    // Hangman's nooses
    const hn=document.createElement('div');
    hn.className='orn orn-sway';
    hn.style.cssText='top:0;right:5%;width:18px;height:60px';
    el.appendChild(hn);
    const hnSvg=S('0 0 18 60','100%','100%','0.018');
    hangmansNoose(hnSvg,9,0,R(35,50),R(0.1,0.25));
    hn.appendChild(hnSvg);
  });
})();


// ── Apocalypse Background Final ──
(function apocalypseBg(){
  const el=document.getElementById('bgFiligree');
  if(!el||!el.querySelector('svg'))return;
  const svg=el.querySelector('svg');

  // Blood fountains
  for(let i=0;i<6;i++){
    bloodFountain(svg,R(80,1120),R(80,3920),R(8,25),R(0.005,0.018));
  }
  // Hangman's nooses
  for(let i=0;i<15;i++){
    hangmansNoose(svg,R(40,1160),R(40,3960),R(6,20),R(0.005,0.018));
  }
  // Barbed wire
  for(let i=0;i<10;i++){
    const pts=[];
    const sy=R(30,3970);
    for(let x=R(20,400);x<R(600,1180);x+=R(15,40)){
      pts.push({x:x,y:sy+R(-5,5)});
    }
    barbedWire(svg,pts,R(0.005,0.015));
  }
  // Skull piles
  for(let i=0;i<10;i++){
    skullPile(svg,R(60,1140),R(60,3940),RI(2,5),R(8,25),R(0.005,0.018));
  }
  // Spiked halos
  for(let i=0;i<12;i++){
    spikedHalo(svg,R(60,1140),R(60,3940),R(8,25),RI(8,16),R(0.005,0.018));
  }
  // Weeping eyes
  for(let i=0;i<15;i++){
    weepingEye(svg,R(50,1150),R(50,3950),R(5,18),R(0.005,0.018));
  }
  // Broken chains
  for(let i=0;i<12;i++){
    brokenChain(svg,R(30,600),R(50,3900),R(100,600),R(60,3950),RI(3,8),R(0.005,0.015));
  }
  // Cathedral rose windows
  for(let i=0;i<10;i++){
    cathedralRoseWindow(svg,R(80,1120),R(80,3920),R(8,30),R(0.005,0.018));
  }
  // Hanging cages
  for(let i=0;i<8;i++){
    hangingCage(svg,R(60,1140),R(60,3940),R(8,25),R(12,40),R(0.004,0.015));
  }
  // Thorned vine borders
  for(let i=0;i<5;i++){
    thornedVineBorder(svg,R(20,600),R(40,3500),R(60,300),R(40,200),R(0.004,0.012));
  }

  console.log('[Gothic Filigree Engine v4 — APOCALYPSE LAYER] Ornament density beyond mortal comprehension.');
})();


// ████████████████████████████████████████████████████████████████
// ██ REVELATION LAYER — The final judgment                    ██
// ██ Every section drowns in ornaments. No mercy. No limits.  ██
// ████████████████████████████████████████████████████████████████

// ── Revelation: Universal Section Flood ──
// Apply to EVERY section: massive chains, crosses, blood, vines
(function revelationFlood(){
  const allSections=[
    {id:'hero',dark:false},
    {id:'about',dark:false},
    {id:'arsenal',dark:true},
    {id:'conquests',dark:false},
    {id:'chronicle',dark:true},
    {id:'summon',dark:false}
  ];

  allSections.forEach(({id,dark})=>{
    const el=document.getElementById(id);
    if(!el)return;
    const c=dark?colLight:col;

    // === 30 hanging chains from top ===
    const chLayer=document.createElement('div');
    chLayer.className='orn';
    chLayer.style.cssText='top:0;left:0;width:100%;height:100%;pointer-events:none';
    el.appendChild(chLayer);
    const chSvg=S('0 0 1200 800','100%','100%','0.05');
    for(let i=0;i<30;i++){
      chain(chSvg,R(10,1190),R(-10,30),R(30,250),R(0.1,0.35),R(1,5),R(0,1)>0.4,c);
    }
    chLayer.appendChild(chSvg);

    // === 20 crosses scattered ===
    const crLayer=document.createElement('div');
    crLayer.className='orn';
    crLayer.style.cssText='top:0;left:0;width:100%;height:100%;pointer-events:none';
    el.appendChild(crLayer);
    const crSvg=S('0 0 1200 800','100%','100%','0.04');
    for(let i=0;i<20;i++){
      const cx2=R(30,1170),cy2=R(30,770);
      const type=R(0,1);
      if(type>0.7){
        bigCross(crSvg,cx2,cy2,R(15,50),R(0.08,0.25),c);
      }else if(type>0.4){
        miniCross(crSvg,cx2,cy2,R(5,25),R(0.08,0.25),c);
      }else{
        invertedCross(crSvg,cx2,cy2,R(10,30),R(0.08,0.2),c);
      }
    }
    crLayer.appendChild(crSvg);

    // === Dense vine overlay ===
    const vnLayer=document.createElement('div');
    vnLayer.className='orn';
    vnLayer.style.cssText='top:0;left:0;width:100%;height:100%;pointer-events:none';
    el.appendChild(vnLayer);
    const vnSvg=S('0 0 1200 800','100%','100%','0.035');
    for(let i=0;i<15;i++){
      const pts=[];
      const sx=R(0,1100),sy=R(0,780);
      for(let t=0;t<RI(5,15);t++){
        pts.push({x:sx+t*R(10,35)+R(-8,8),y:sy+t*R(-12,12)});
      }
      thornedArchway(vnSvg,pts,R(0.15,0.5),R(0.06,0.2),R(2,8),R(0.3,1.2),R(0,1)<0.5,c);
    }
    vnLayer.appendChild(vnSvg);

    // === Blood overlay ===
    const blLayer=document.createElement('div');
    blLayer.className='orn';
    blLayer.style.cssText='top:0;left:0;width:100%;height:100%;pointer-events:none';
    el.appendChild(blLayer);
    const blSvg=S('0 0 1200 800','100%','100%','0.04');
    // Blood drip trails
    for(let i=0;i<15;i++){
      bloodDripTrail(blSvg,R(20,1180),R(0,400),R(30,200),R(0.06,0.2),dark?bloodLight:bloodCol);
    }
    // Blood splatters
    for(let i=0;i<10;i++){
      bloodSplatter(blSvg,R(30,1170),R(30,770),R(5,20),R(0.05,0.18),dark?bloodLight:bloodCol);
    }
    blLayer.appendChild(blSvg);

    // === Cathedral elements overlay ===
    const catLayer=document.createElement('div');
    catLayer.className='orn';
    catLayer.style.cssText='top:0;left:0;width:100%;height:100%;pointer-events:none';
    el.appendChild(catLayer);
    const catSvg=S('0 0 1200 800','100%','100%','0.025');
    // Gothic arches
    for(let i=0;i<6;i++){
      gothicArch(catSvg,R(80,1120),R(50,700),R(30,80),R(40,100),R(0.06,0.18),c);
    }
    // Rose windows
    for(let i=0;i<5;i++){
      cathedralRoseWindow(catSvg,R(80,1120),R(80,720),R(15,40),R(0.05,0.15),c);
    }
    // Candelabra
    for(let i=0;i<4;i++){
      candelabra(catSvg,R(80,1120),R(30,600),R(25,60),R(30,80),R(0.05,0.15),c);
    }
    // Cathedral spires
    for(let i=0;i<6;i++){
      cathedralSpire(catSvg,R(50,1150),R(20,100),R(30,80),R(0.05,0.15),c);
    }
    catLayer.appendChild(catSvg);

    // === Skull + death overlay ===
    const deathLayer=document.createElement('div');
    deathLayer.className='orn';
    deathLayer.style.cssText='top:0;left:0;width:100%;height:100%;pointer-events:none';
    el.appendChild(deathLayer);
    const deathSvg=S('0 0 1200 800','100%','100%','0.02');
    // Skull piles
    for(let i=0;i<3;i++){
      skullPile(deathSvg,R(100,1100),R(600,780),RI(2,5),R(20,45),R(0.08,0.2),c);
    }
    // Weeping eyes
    for(let i=0;i<4;i++){
      weepingEye(deathSvg,R(80,1120),R(80,720),R(15,30),R(0.06,0.18),c);
    }
    // Grotesque faces
    for(let i=0;i<3;i++){
      grotesqueFace(deathSvg,R(80,1120),R(80,720),R(20,45),R(0.06,0.15),c);
    }
    // Scythes
    for(let i=0;i<3;i++){
      scythe(deathSvg,R(80,1120),R(80,720),R(20,40),R(0.06,0.15),c);
    }
    deathLayer.appendChild(deathSvg);

    // === Misc ornament overlay ===
    const miscLayer=document.createElement('div');
    miscLayer.className='orn';
    miscLayer.style.cssText='top:0;left:0;width:100%;height:100%;pointer-events:none';
    el.appendChild(miscLayer);
    const miscSvg=S('0 0 1200 800','100%','100%','0.03');
    // Fleur de lis
    for(let i=0;i<10;i++){
      fleurDeLis(miscSvg,R(40,1160),R(40,760),R(8,22),R(0.06,0.2),c);
    }
    // Ankhs
    for(let i=0;i<8;i++){
      ankh(miscSvg,R(40,1160),R(40,760),R(8,22),R(0.06,0.2),c);
    }
    // Daggers
    for(let i=0;i<6;i++){
      impaledSkull(miscSvg,R(60,1140),R(60,740),R(15,35),R(0.06,0.18),c);
    }
    // Lanterns
    for(let i=0;i<6;i++){
      lantern(miscSvg,R(50,1150),R(20,100),R(15,35),R(0.06,0.18),c);
    }
    // Thorned hearts
    for(let i=0;i<4;i++){
      thornedHeart(miscSvg,R(80,1120),R(80,720),R(15,35),R(0.05,0.15),c);
    }
    // Bone crosses
    for(let i=0;i<8;i++){
      boneCross(miscSvg,R(40,1160),R(40,760),R(8,20),R(0.06,0.2),c);
    }
    // Pentacles
    for(let i=0;i<4;i++){
      pentacle(miscSvg,R(80,1120),R(80,720),R(10,25),R(0.04,0.15),c);
    }
    // Coffins
    for(let i=0;i<4;i++){
      coffinShape(miscSvg,R(80,1120),R(80,720),R(10,25),R(15,40),R(0.04,0.12),c);
    }
    // Starbursts
    for(let i=0;i<10;i++){
      starburst(miscSvg,R(30,1170),R(30,770),R(5,18),RI(5,14),R(0.06,0.2),c);
    }
    // Iron fence segments
    for(let i=0;i<3;i++){
      ironFence(miscSvg,R(20,600),R(700,790),R(100,400),R(15,30),R(0.05,0.15),c);
    }
    miscLayer.appendChild(miscSvg);

    // === Extra CSS blood drips for this section ===
    spawnBloodDrips(el,15,120);
    spawnBloodSplatters(el,8);
  });
})();


// ── Final Revelation Background ──
(function revelationBgFinal(){
  const el=document.getElementById('bgFiligree');
  if(!el||!el.querySelector('svg'))return;
  const svg=el.querySelector('svg');

  // 100 more vine fragments — MAXIMUM DENSITY
  for(let i=0;i<100;i++){
    const pts=[];
    const sx=R(5,1195),sy=R(5,3995);
    for(let t=0;t<RI(2,8);t++){
      pts.push({x:sx+t*R(5,20)+R(-5,5),y:sy+t*R(-6,6)});
    }
    thornedArchway(svg,pts,R(0.05,0.2),R(0.008,0.03),R(1,5),R(0.2,1),R(0,1)<0.5);
  }
  // 80 more chains
  for(let i=0;i<80;i++){
    chain(svg,R(5,1195),R(5,3995),R(5,50),R(0.008,0.03),R(0.3,3),R(0,1)>0.6);
  }
  // 60 more crosses (mixed types)
  for(let i=0;i<60;i++){
    const cx2=R(20,1180),cy2=R(20,3980);
    const t=R(0,1);
    if(t>0.7)bigCross(svg,cx2,cy2,R(4,25),R(0.006,0.025));
    else if(t>0.4)miniCross(svg,cx2,cy2,R(2,12),R(0.006,0.025));
    else invertedCross(svg,cx2,cy2,R(3,15),R(0.006,0.022));
  }
  // 40 more blood elements
  for(let i=0;i<20;i++){
    bloodSplatter(svg,R(20,1180),R(20,3980),R(2,12),R(0.008,0.025));
  }
  for(let i=0;i<20;i++){
    bloodDripTrail(svg,R(20,1180),R(20,3800),R(10,60),R(0.008,0.025));
  }
  // 30 more starbursts
  for(let i=0;i<30;i++){
    starburst(svg,R(20,1180),R(20,3980),R(2,12),RI(3,10),R(0.006,0.022));
  }
  // 20 more spirals
  for(let i=0;i<20;i++){
    filigreeSpiral(svg,R(20,1180),R(20,3980),R(2,15),R(1,4),R(0.006,0.022),R(0.05,0.2));
  }
  // 15 more weeping eyes
  for(let i=0;i<15;i++){
    weepingEye(svg,R(40,1160),R(40,3960),R(4,15),R(0.005,0.018));
  }
  // 10 more skull piles
  for(let i=0;i<10;i++){
    skullPile(svg,R(50,1150),R(50,3950),RI(1,4),R(5,20),R(0.005,0.018));
  }
  // 15 more hanging cages
  for(let i=0;i<15;i++){
    hangingCage(svg,R(40,1160),R(40,3960),R(5,20),R(8,30),R(0.004,0.015));
  }
  // 12 more blood fountains
  for(let i=0;i<12;i++){
    bloodFountain(svg,R(60,1140),R(60,3940),R(5,18),R(0.004,0.015));
  }
  // 15 more nooses
  for(let i=0;i<15;i++){
    hangmansNoose(svg,R(40,1160),R(40,3960),R(5,18),R(0.005,0.018));
  }
  // 10 more barbed wire
  for(let i=0;i<10;i++){
    const pts=[];
    const sy=R(20,3980);
    for(let x=R(10,500);x<R(500,1190);x+=R(12,30)){
      pts.push({x:x,y:sy+R(-4,4)});
    }
    barbedWire(svg,pts,R(0.005,0.015));
  }

  console.log('[Gothic Filigree Engine v4 — REVELATION] THE END. Maximum ornament density achieved.');
})();


// ████████████████████████████████████████████████████████████████
// ██  LAYER XIV — PANDEMONIUM: NEW GENERATORS #66-80           ██
// ██  Gargoyle statues, iron maidens, cathedral spires,        ██
// ██  bleeding hearts, demon wings, ritual circles, and more   ██
// ████████████████████████████████████████████████████████████████
(function PANDEMONIUM_LAYER(){

  // Generator #66 — Gargoyle Perch: crouching gargoyle silhouette
  function gargoylePerch(parent,cx,cy,sc,op){
    const svg=S(parent,cx-60*sc,cy-60*sc,120*sc,120*sc,op);
    // Body
    P(svg,`M${50*sc},${100*sc} Q${30*sc},${70*sc} ${35*sc},${50*sc} Q${40*sc},${30*sc} ${50*sc},${25*sc} Q${55*sc},${20*sc} ${60*sc},${22*sc} Q${70*sc},${18*sc} ${75*sc},${25*sc} L${80*sc},${35*sc} Q${85*sc},${30*sc} ${90*sc},${35*sc} L${85*sc},${50*sc} Q${80*sc},${60*sc} ${85*sc},${70*sc} L${90*sc},${80*sc} Q${85*sc},${90*sc} ${80*sc},${95*sc} L${70*sc},${100*sc} Z`,col,op*0.8);
    // Wings
    P(svg,`M${45*sc},${40*sc} Q${20*sc},${20*sc} ${10*sc},${30*sc} Q${5*sc},${40*sc} ${15*sc},${50*sc} Q${25*sc},${45*sc} ${35*sc},${42*sc}`,col,op*0.6,'none',1.5*sc);
    P(svg,`M${75*sc},${35*sc} Q${95*sc},${15*sc} ${110*sc},${25*sc} Q${115*sc},${35*sc} ${105*sc},${45*sc} Q${95*sc},${40*sc} ${82*sc},${38*sc}`,col,op*0.6,'none',1.5*sc);
    // Eyes
    E(svg,55*sc,30*sc,2*sc,2*sc,bloodCol,op*0.9);
    E(svg,65*sc,28*sc,2*sc,2*sc,bloodCol,op*0.9);
    // Horns
    P(svg,`M${52*sc},${25*sc} Q${48*sc},${12*sc} ${45*sc},${8*sc}`,col,op*0.7,'none',1.2*sc);
    P(svg,`M${68*sc},${22*sc} Q${72*sc},${10*sc} ${76*sc},${6*sc}`,col,op*0.7,'none',1.2*sc);
    // Tail
    P(svg,`M${50*sc},${100*sc} Q${40*sc},${105*sc} ${30*sc},${95*sc} Q${20*sc},${85*sc} ${15*sc},${90*sc}`,col,op*0.5,'none',1.5*sc);
    // Claws
    for(let i=0;i<3;i++){
      P(svg,`M${(70+i*4)*sc},${100*sc} L${(72+i*4)*sc},${108*sc}`,col,op*0.6,'none',1*sc);
    }
  }

  // Generator #67 — Iron Maiden: spiked coffin torture device
  function ironMaiden(parent,cx,cy,sc,op){
    const svg=S(parent,cx-30*sc,cy-60*sc,60*sc,120*sc,op);
    // Outer shell
    P(svg,`M${15*sc},${5*sc} Q${30*sc},${0},${45*sc},${5*sc} L${50*sc},${110*sc} Q${30*sc},${120*sc},${10*sc},${110*sc} Z`,col,op*0.7,col,0.8*sc);
    // Door hinge line
    P(svg,`M${30*sc},${5*sc} L${30*sc},${115*sc}`,col,op*0.4,'none',0.5*sc);
    // Interior spikes
    for(let y=15;y<105;y+=8){
      P(svg,`M${18*sc},${y*sc} L${28*sc},${(y+4)*sc} L${18*sc},${(y+8)*sc}`,col,op*0.5,'none',0.6*sc);
      P(svg,`M${42*sc},${y*sc} L${32*sc},${(y+4)*sc} L${42*sc},${(y+8)*sc}`,col,op*0.5,'none',0.6*sc);
    }
    // Face slot
    E(svg,24*sc,28*sc,6*sc,8*sc,'none',op*0.6,col,0.7*sc);
    // Blood drips from base
    for(let i=0;i<4;i++){
      const bx=15+i*8;
      P(svg,`M${bx*sc},${110*sc} Q${(bx+R(-3,3))*sc},${(115+R(0,5))*sc} ${(bx+R(-2,2))*sc},${120*sc}`,bloodCol,op*0.5,'none',1.2*sc);
    }
  }

  // Generator #68 — Cathedral Spire: tall pointed tower with windows
  function cathedralSpire(parent,cx,cy,sc,op){
    const svg=S(parent,cx-25*sc,cy-100*sc,50*sc,200*sc,op);
    // Main tower
    P(svg,`M${15*sc},${200*sc} L${15*sc},${40*sc} L${25*sc},${5*sc} L${35*sc},${40*sc} L${35*sc},${200*sc} Z`,col,op*0.6,col,0.7*sc);
    // Cross at top
    P(svg,`M${25*sc},${5*sc} L${25*sc},${0}`,col,op*0.7,'none',1.5*sc);
    P(svg,`M${21*sc},${8*sc} L${29*sc},${8*sc}`,col,op*0.7,'none',1.2*sc);
    // Gothic windows
    for(let y=50;y<190;y+=30){
      P(svg,`M${20*sc},${(y+20)*sc} L${20*sc},${y*sc} Q${25*sc},${(y-5)*sc} ${30*sc},${y*sc} L${30*sc},${(y+20)*sc} Z`,col,op*0.5,col,0.5*sc);
      // Window tracery
      P(svg,`M${25*sc},${(y-3)*sc} L${25*sc},${(y+20)*sc}`,col,op*0.3,'none',0.4*sc);
    }
    // Flying buttress hints
    P(svg,`M${15*sc},${80*sc} L${5*sc},${120*sc}`,col,op*0.3,'none',0.8*sc);
    P(svg,`M${35*sc},${80*sc} L${45*sc},${120*sc}`,col,op*0.3,'none',0.8*sc);
    P(svg,`M${15*sc},${130*sc} L${3*sc},${170*sc}`,col,op*0.3,'none',0.8*sc);
    P(svg,`M${35*sc},${130*sc} L${47*sc},${170*sc}`,col,op*0.3,'none',0.8*sc);
  }

  // Generator #69 — Bleeding Sacred Heart
  function bleedingSacredHeart(parent,cx,cy,sc,op){
    const svg=S(parent,cx-40*sc,cy-45*sc,80*sc,90*sc,op);
    // Heart shape
    P(svg,`M${40*sc},${20*sc} Q${40*sc},${10*sc} ${30*sc},${10*sc} Q${15*sc},${10*sc} ${15*sc},${25*sc} Q${15*sc},${45*sc} ${40*sc},${65*sc} Q${65*sc},${45*sc} ${65*sc},${25*sc} Q${65*sc},${10*sc} ${50*sc},${10*sc} Q${40*sc},${10*sc} ${40*sc},${20*sc}`,bloodCol,op*0.7,bloodCol,1*sc);
    // Thorns around heart
    for(let a=0;a<Math.PI*2;a+=0.5){
      const rx=25*sc,ry=22*sc;
      const hx=40*sc+Math.cos(a)*rx;
      const hy=35*sc+Math.sin(a)*ry;
      const tx=hx+Math.cos(a)*8*sc;
      const ty=hy+Math.sin(a)*8*sc;
      P(svg,`M${hx},${hy} L${tx},${ty}`,col,op*0.6,'none',1*sc);
      // Thorn barbs
      const mx=(hx+tx)/2,my=(hy+ty)/2;
      P(svg,`M${mx},${my} L${mx+R(-4,4)*sc},${my+R(-4,4)*sc}`,col,op*0.4,'none',0.6*sc);
    }
    // Flames on top
    P(svg,`M${35*sc},${15*sc} Q${33*sc},${5*sc} ${37*sc},${0} Q${40*sc},${8*sc} ${43*sc},${0} Q${47*sc},${5*sc} ${45*sc},${15*sc}`,bloodCol,op*0.5,'none',1.2*sc);
    // Blood drips from bottom
    for(let i=0;i<5;i++){
      const dx=30+i*5;
      P(svg,`M${dx*sc},${65*sc} Q${(dx+R(-2,2))*sc},${(72+R(0,8))*sc} ${(dx+R(-3,3))*sc},${(80+R(0,10))*sc}`,bloodCol,op*0.6,'none',1.5*sc);
    }
    // Cross behind
    P(svg,`M${40*sc},${5*sc} L${40*sc},${85*sc}`,col,op*0.3,'none',1.5*sc);
    P(svg,`M${20*sc},${35*sc} L${60*sc},${35*sc}`,col,op*0.3,'none',1.5*sc);
  }

  // Generator #70 — Demon Wings (spread pair)
  function demonWings(parent,cx,cy,sc,op){
    const svg=S(parent,cx-80*sc,cy-50*sc,160*sc,100*sc,op);
    // Left wing
    P(svg,`M${80*sc},${50*sc} Q${60*sc},${30*sc} ${40*sc},${15*sc} Q${25*sc},${8*sc} ${10*sc},${12*sc} Q${5*sc},${20*sc} ${15*sc},${35*sc} Q${25*sc},${28*sc} ${35*sc},${22*sc} Q${30*sc},${35*sc} ${20*sc},${40*sc} Q${10*sc},${48*sc} ${18*sc},${55*sc} Q${30*sc},${48*sc} ${40*sc},${42*sc} Q${35*sc},${52*sc} ${25*sc},${58*sc} Q${15*sc},${65*sc} ${25*sc},${70*sc} Q${40*sc},${65*sc} ${55*sc},${55*sc} Q${65*sc},${52*sc} ${75*sc},${50*sc} Z`,col,op*0.5,col,0.8*sc);
    // Right wing (mirrored)
    P(svg,`M${80*sc},${50*sc} Q${100*sc},${30*sc} ${120*sc},${15*sc} Q${135*sc},${8*sc} ${150*sc},${12*sc} Q${155*sc},${20*sc} ${145*sc},${35*sc} Q${135*sc},${28*sc} ${125*sc},${22*sc} Q${130*sc},${35*sc} ${140*sc},${40*sc} Q${150*sc},${48*sc} ${142*sc},${55*sc} Q${130*sc},${48*sc} ${120*sc},${42*sc} Q${125*sc},${52*sc} ${135*sc},${58*sc} Q${145*sc},${65*sc} ${135*sc},${70*sc} Q${120*sc},${65*sc} ${105*sc},${55*sc} Q${95*sc},${52*sc} ${85*sc},${50*sc} Z`,col,op*0.5,col,0.8*sc);
    // Wing bones
    for(let i=0;i<4;i++){
      const a1=-0.5-i*0.3;
      P(svg,`M${80*sc},${50*sc} L${(80+Math.cos(a1)*60)*sc},${(50+Math.sin(a1)*40)*sc}`,col,op*0.3,'none',0.6*sc);
      const a2=Math.PI+0.5+i*0.3;
      P(svg,`M${80*sc},${50*sc} L${(80+Math.cos(a2)*60)*sc},${(50+Math.sin(a2)*40)*sc}`,col,op*0.3,'none',0.6*sc);
    }
  }

  // Generator #71 — Ritual Circle with runes
  function ritualCircle(parent,cx,cy,sc,op){
    const svg=S(parent,cx-50*sc,cy-50*sc,100*sc,100*sc,op);
    // Outer circle
    E(svg,50*sc,50*sc,45*sc,45*sc,'none',op*0.6,col,1.2*sc);
    // Inner circle
    E(svg,50*sc,50*sc,35*sc,35*sc,'none',op*0.5,col,0.8*sc);
    // Innermost circle
    E(svg,50*sc,50*sc,20*sc,20*sc,'none',op*0.4,col,0.6*sc);
    // Pentagram
    const pts=[];
    for(let i=0;i<5;i++){
      const a=-Math.PI/2+i*Math.PI*2/5;
      pts.push({x:50*sc+Math.cos(a)*33*sc,y:50*sc+Math.sin(a)*33*sc});
    }
    for(let i=0;i<5;i++){
      P(svg,`M${pts[i].x},${pts[i].y} L${pts[(i+2)%5].x},${pts[(i+2)%5].y}`,col,op*0.5,'none',0.8*sc);
    }
    // Rune marks between circles
    for(let i=0;i<12;i++){
      const a=i*Math.PI/6;
      const rx1=37*sc,rx2=43*sc;
      const x1=50*sc+Math.cos(a)*rx1,y1=50*sc+Math.sin(a)*rx1;
      const x2=50*sc+Math.cos(a)*rx2,y2=50*sc+Math.sin(a)*rx2;
      P(svg,`M${x1},${y1} L${x2},${y2}`,col,op*0.4,'none',0.5*sc);
      // Tiny rune symbols
      const mx=(x1+x2)/2,my=(y1+y2)/2;
      P(svg,`M${mx-2*sc},${my-2*sc} L${mx+2*sc},${my+2*sc} M${mx+2*sc},${my-2*sc} L${mx-2*sc},${my+2*sc}`,col,op*0.3,'none',0.4*sc);
    }
    // Blood accents
    E(svg,50*sc,50*sc,5*sc,5*sc,bloodCol,op*0.4);
  }

  // Generator #72 — Screaming Skull
  function screamingSkull(parent,cx,cy,sc,op){
    const svg=S(parent,cx-30*sc,cy-40*sc,60*sc,80*sc,op);
    // Cranium
    P(svg,`M${15*sc},${40*sc} Q${5*sc},${30*sc} ${8*sc},${18*sc} Q${12*sc},${5*sc} ${30*sc},${3*sc} Q${48*sc},${5*sc} ${52*sc},${18*sc} Q${55*sc},${30*sc} ${45*sc},${40*sc}`,col,op*0.7,col,0.8*sc);
    // Jaw (open, screaming)
    P(svg,`M${15*sc},${40*sc} Q${12*sc},${48*sc} ${18*sc},${58*sc} Q${25*sc},${65*sc} ${30*sc},${68*sc} Q${35*sc},${65*sc} ${42*sc},${58*sc} Q${48*sc},${48*sc} ${45*sc},${40*sc}`,col,op*0.6,col,0.7*sc);
    // Eye sockets
    E(svg,22*sc,25*sc,6*sc,7*sc,col,op*0.8);
    E(svg,38*sc,25*sc,6*sc,7*sc,col,op*0.8);
    // Nose hole
    P(svg,`M${28*sc},${35*sc} L${30*sc},${38*sc} L${32*sc},${35*sc}`,col,op*0.6,col,0.5*sc);
    // Teeth
    for(let i=0;i<6;i++){
      const tx=19+i*4;
      P(svg,`M${tx*sc},${42*sc} L${(tx+1)*sc},${47*sc} L${(tx+2)*sc},${42*sc}`,col,op*0.5,col,0.4*sc);
      P(svg,`M${tx*sc},${56*sc} L${(tx+1)*sc},${51*sc} L${(tx+2)*sc},${56*sc}`,col,op*0.5,col,0.4*sc);
    }
    // Cracks
    P(svg,`M${25*sc},${8*sc} Q${22*sc},${15*sc} ${20*sc},${22*sc}`,col,op*0.3,'none',0.5*sc);
    P(svg,`M${38*sc},${6*sc} Q${42*sc},${12*sc} ${40*sc},${20*sc}`,col,op*0.3,'none',0.5*sc);
    // Blood from eyes
    P(svg,`M${22*sc},${32*sc} Q${21*sc},${40*sc} ${20*sc},${50*sc}`,bloodCol,op*0.5,'none',1*sc);
    P(svg,`M${38*sc},${32*sc} Q${39*sc},${40*sc} ${40*sc},${50*sc}`,bloodCol,op*0.5,'none',1*sc);
  }

  // Generator #73 — Wrought Iron Gate
  function wroughtIronGate(parent,cx,cy,sc,op){
    const svg=S(parent,cx-50*sc,cy-70*sc,100*sc,140*sc,op);
    // Frame
    P(svg,`M${5*sc},${140*sc} L${5*sc},${15*sc} Q${5*sc},${5*sc} ${15*sc},${5*sc} L${85*sc},${5*sc} Q${95*sc},${5*sc} ${95*sc},${15*sc} L${95*sc},${140*sc}`,col,op*0.7,'none',2*sc);
    // Arch top
    P(svg,`M${5*sc},${40*sc} Q${50*sc},${10*sc} ${95*sc},${40*sc}`,col,op*0.6,'none',1.5*sc);
    // Vertical bars
    for(let x=15;x<=85;x+=10){
      P(svg,`M${x*sc},${(x<50?40-Math.sin((x-5)/90*Math.PI)*25:40-Math.sin((95-x)/90*Math.PI)*25)*sc} L${x*sc},${140*sc}`,col,op*0.5,'none',1.2*sc);
      // Spear tips
      P(svg,`M${(x-3)*sc},${(40-Math.sin((Math.min(x,95-x)-5)/45*Math.PI)*25+2)*sc} L${x*sc},${(40-Math.sin((Math.min(x,95-x)-5)/45*Math.PI)*25-5)*sc} L${(x+3)*sc},${(40-Math.sin((Math.min(x,95-x)-5)/45*Math.PI)*25+2)*sc}`,col,op*0.5,col,0.3*sc);
    }
    // Horizontal bars
    P(svg,`M${5*sc},${70*sc} L${95*sc},${70*sc}`,col,op*0.4,'none',1*sc);
    P(svg,`M${5*sc},${100*sc} L${95*sc},${100*sc}`,col,op*0.4,'none',1*sc);
    // Scroll work at center
    P(svg,`M${35*sc},${70*sc} Q${40*sc},${60*sc} ${50*sc},${58*sc} Q${60*sc},${60*sc} ${65*sc},${70*sc}`,col,op*0.4,'none',0.8*sc);
    P(svg,`M${35*sc},${70*sc} Q${40*sc},${80*sc} ${50*sc},${82*sc} Q${60*sc},${80*sc} ${65*sc},${70*sc}`,col,op*0.4,'none',0.8*sc);
  }

  // Generator #74 — Mourning Angel Statue
  function mourningAngel(parent,cx,cy,sc,op){
    const svg=S(parent,cx-50*sc,cy-80*sc,100*sc,160*sc,op);
    // Head
    E(svg,50*sc,20*sc,10*sc,12*sc,col,op*0.6,col,0.5*sc);
    // Halo
    E(svg,50*sc,8*sc,14*sc,4*sc,'none',op*0.4,col,0.8*sc);
    // Body/robes
    P(svg,`M${40*sc},${30*sc} Q${35*sc},${60*sc} ${25*sc},${100*sc} Q${20*sc},${120*sc} ${25*sc},${150*sc} L${75*sc},${150*sc} Q${80*sc},${120*sc} ${75*sc},${100*sc} Q${65*sc},${60*sc} ${60*sc},${30*sc}`,col,op*0.5,col,0.7*sc);
    // Wings (drooping, mourning pose)
    P(svg,`M${40*sc},${35*sc} Q${20*sc},${40*sc} ${5*sc},${55*sc} Q${0},${70*sc} ${8*sc},${85*sc} Q${15*sc},${90*sc} ${22*sc},${80*sc} Q${28*sc},${70*sc} ${35*sc},${65*sc}`,col,op*0.4,'none',1*sc);
    P(svg,`M${60*sc},${35*sc} Q${80*sc},${40*sc} ${95*sc},${55*sc} Q${100*sc},${70*sc} ${92*sc},${85*sc} Q${85*sc},${90*sc} ${78*sc},${80*sc} Q${72*sc},${70*sc} ${65*sc},${65*sc}`,col,op*0.4,'none',1*sc);
    // Arms (covering face — mourning)
    P(svg,`M${40*sc},${40*sc} Q${38*sc},${30*sc} ${42*sc},${22*sc}`,col,op*0.5,'none',1.2*sc);
    P(svg,`M${60*sc},${40*sc} Q${62*sc},${30*sc} ${58*sc},${22*sc}`,col,op*0.5,'none',1.2*sc);
    // Robe folds
    for(let y=60;y<145;y+=15){
      P(svg,`M${(30+R(-3,3))*sc},${y*sc} Q${50*sc},${(y+R(-5,5))*sc} ${(70+R(-3,3))*sc},${y*sc}`,col,op*0.2,'none',0.5*sc);
    }
    // Tears (blood)
    P(svg,`M${45*sc},${18*sc} Q${44*sc},${25*sc} ${43*sc},${32*sc}`,bloodCol,op*0.4,'none',0.8*sc);
    P(svg,`M${55*sc},${18*sc} Q${56*sc},${25*sc} ${57*sc},${32*sc}`,bloodCol,op*0.4,'none',0.8*sc);
    // Base/pedestal
    P(svg,`M${20*sc},${150*sc} L${15*sc},${155*sc} L${85*sc},${155*sc} L${80*sc},${150*sc}`,col,op*0.5,col,0.5*sc);
  }

  // Generator #75 — Serpent Ouroboros
  function ouroboros(parent,cx,cy,sc,op){
    const svg=S(parent,cx-40*sc,cy-40*sc,80*sc,80*sc,op);
    // Main circle body
    const segs=24;
    for(let i=0;i<segs;i++){
      const a1=i/segs*Math.PI*2;
      const a2=(i+1)/segs*Math.PI*2;
      const r=32*sc;
      const w=(3+Math.sin(i/segs*Math.PI*4)*1.5)*sc;
      const x1=40*sc+Math.cos(a1)*r,y1=40*sc+Math.sin(a1)*r;
      const x2=40*sc+Math.cos(a2)*r,y2=40*sc+Math.sin(a2)*r;
      P(svg,`M${x1},${y1} L${x2},${y2}`,col,op*(0.5+Math.sin(i/segs*Math.PI*2)*0.2),'none',w);
      // Scales
      if(i%2===0){
        const mx=(x1+x2)/2,my=(y1+y2)/2;
        const nx=40*sc+Math.cos((a1+a2)/2)*(r-4*sc);
        const ny=40*sc+Math.sin((a1+a2)/2)*(r-4*sc);
        P(svg,`M${mx},${my} L${nx},${ny}`,col,op*0.3,'none',0.4*sc);
      }
    }
    // Head eating tail
    const headA=0;
    const hx=40*sc+Math.cos(headA)*32*sc;
    const hy=40*sc+Math.sin(headA)*32*sc;
    // Head triangle
    P(svg,`M${hx},${hy} L${hx+8*sc},${hy-4*sc} L${hx+8*sc},${hy+4*sc} Z`,col,op*0.7,col,0.5*sc);
    // Eye
    E(svg,hx+5*sc,hy-1*sc,1.5*sc,1.5*sc,bloodCol,op*0.8);
  }

  // Generator #76 — Coffin Nail Cross
  function coffinNailCross(parent,cx,cy,sc,op){
    const svg=S(parent,cx-25*sc,cy-40*sc,50*sc,80*sc,op);
    // Main cross beams (thick, rough)
    P(svg,`M${22*sc},${0} L${28*sc},${0} L${28*sc},${80*sc} L${22*sc},${80*sc} Z`,col,op*0.7,col,0.5*sc);
    P(svg,`M${5*sc},${18*sc} L${45*sc},${18*sc} L${45*sc},${24*sc} L${5*sc},${24*sc} Z`,col,op*0.7,col,0.5*sc);
    // Nails
    const nailPos=[{x:25,y:8},{x:25,y:45},{x:25,y:70},{x:12,y:21},{x:38,y:21}];
    nailPos.forEach(n=>{
      E(svg,n.x*sc,n.y*sc,3*sc,3*sc,col,op*0.8);
      E(svg,n.x*sc,n.y*sc,1.5*sc,1.5*sc,'#333',op*0.6);
      // Nail shadow
      P(svg,`M${(n.x+2)*sc},${(n.y+2)*sc} L${(n.x+5)*sc},${(n.y+5)*sc}`,col,op*0.2,'none',0.5*sc);
    });
    // Wood grain
    for(let y=2;y<78;y+=6){
      P(svg,`M${23*sc},${y*sc} Q${25*sc},${(y+3)*sc} ${27*sc},${y*sc}`,col,op*0.15,'none',0.3*sc);
    }
    for(let x=7;x<43;x+=5){
      P(svg,`M${x*sc},${19*sc} Q${(x+2.5)*sc},${21*sc} ${x*sc},${23*sc}`,col,op*0.15,'none',0.3*sc);
    }
    // Blood at nail points
    nailPos.forEach(n=>{
      P(svg,`M${n.x*sc},${(n.y+3)*sc} Q${(n.x+R(-1,1))*sc},${(n.y+8)*sc} ${(n.x+R(-2,2))*sc},${(n.y+12)*sc}`,bloodCol,op*0.4,'none',0.8*sc);
    });
  }

  // Generator #77 — Chained Crucifix
  function chainedCrucifix(parent,cx,cy,sc,op){
    const svg=S(parent,cx-35*sc,cy-50*sc,70*sc,100*sc,op);
    // Cross
    P(svg,`M${32*sc},${5*sc} L${38*sc},${5*sc} L${38*sc},${95*sc} L${32*sc},${95*sc} Z`,col,op*0.6,col,0.6*sc);
    P(svg,`M${10*sc},${25*sc} L${60*sc},${25*sc} L${60*sc},${31*sc} L${10*sc},${31*sc} Z`,col,op*0.6,col,0.6*sc);
    // Chains wrapping around
    for(let i=0;i<8;i++){
      const y=10+i*10;
      const swing=Math.sin(i*0.8)*8;
      // Chain links
      for(let j=0;j<4;j++){
        const lx=25+j*5+swing;
        E(svg,lx*sc,y*sc,3*sc,2*sc,'none',op*0.5,col,0.8*sc);
      }
    }
    // Hanging chains from arms
    for(let side=-1;side<=1;side+=2){
      const sx=35+side*25;
      for(let y=31;y<60;y+=4){
        E(svg,(sx+R(-2,2))*sc,y*sc,2.5*sc,1.8*sc,'none',op*0.4,col,0.6*sc);
      }
    }
    // Skull at center
    E(svg,35*sc,28*sc,5*sc,5*sc,col,op*0.5,col,0.4*sc);
    E(svg,33*sc,27*sc,1.5*sc,1.8*sc,'#111',op*0.7);
    E(svg,37*sc,27*sc,1.5*sc,1.8*sc,'#111',op*0.7);
  }

  // Generator #78 — Gothic Candelabra
  function gothicCandelabra(parent,cx,cy,sc,op){
    const svg=S(parent,cx-40*sc,cy-60*sc,80*sc,120*sc,op);
    // Central pole
    P(svg,`M${38*sc},${30*sc} L${38*sc},${115*sc} L${42*sc},${115*sc} L${42*sc},${30*sc}`,col,op*0.6,col,0.5*sc);
    // Base
    P(svg,`M${25*sc},${115*sc} Q${40*sc},${120*sc} ${55*sc},${115*sc}`,col,op*0.5,'none',1.5*sc);
    P(svg,`M${20*sc},${115*sc} L${60*sc},${115*sc}`,col,op*0.5,'none',1*sc);
    // Arms (5 candle holders)
    const arms=[
      {x:10,y:35,a:-0.8},{x:20,y:25,a:-0.4},{x:40,y:20,a:0},
      {x:60,y:25,a:0.4},{x:70,y:35,a:0.8}
    ];
    arms.forEach(arm=>{
      // Arm curve
      P(svg,`M${40*sc},${(arm.y+15)*sc} Q${(40+(arm.x-40)*0.5)*sc},${(arm.y+5)*sc} ${arm.x*sc},${arm.y*sc}`,col,op*0.5,'none',1.2*sc);
      // Candle cup
      P(svg,`M${(arm.x-4)*sc},${arm.y*sc} L${(arm.x-3)*sc},${(arm.y-3)*sc} L${(arm.x+3)*sc},${(arm.y-3)*sc} L${(arm.x+4)*sc},${arm.y*sc}`,col,op*0.5,col,0.4*sc);
      // Candle
      P(svg,`M${(arm.x-2)*sc},${(arm.y-3)*sc} L${(arm.x-2)*sc},${(arm.y-12)*sc} L${(arm.x+2)*sc},${(arm.y-12)*sc} L${(arm.x+2)*sc},${(arm.y-3)*sc}`,col,op*0.4,col,0.3*sc);
      // Flame
      P(svg,`M${(arm.x-1)*sc},${(arm.y-12)*sc} Q${arm.x*sc},${(arm.y-18)*sc} ${(arm.x+1)*sc},${(arm.y-12)*sc}`,'#b8860b',op*0.5,'#b8860b',0.3*sc);
      // Dripping wax
      P(svg,`M${(arm.x-2)*sc},${(arm.y-5)*sc} Q${(arm.x-3)*sc},${(arm.y-2)*sc} ${(arm.x-2)*sc},${arm.y*sc}`,col,op*0.3,'none',0.8*sc);
    });
    // Ornate scrollwork on pole
    for(let y=40;y<110;y+=15){
      P(svg,`M${38*sc},${y*sc} Q${32*sc},${(y+4)*sc} ${38*sc},${(y+8)*sc}`,col,op*0.3,'none',0.5*sc);
      P(svg,`M${42*sc},${y*sc} Q${48*sc},${(y+4)*sc} ${42*sc},${(y+8)*sc}`,col,op*0.3,'none',0.5*sc);
    }
  }

  // Generator #79 — Flying Raven
  function flyingRaven(parent,cx,cy,sc,op){
    const svg=S(parent,cx-35*sc,cy-20*sc,70*sc,40*sc,op);
    // Body
    P(svg,`M${25*sc},${22*sc} Q${30*sc},${18*sc} ${40*sc},${18*sc} Q${50*sc},${18*sc} ${55*sc},${22*sc} Q${52*sc},${25*sc} ${45*sc},${26*sc} Q${35*sc},${26*sc} ${28*sc},${25*sc} Z`,col,op*0.7,col,0.5*sc);
    // Left wing (up)
    P(svg,`M${28*sc},${22*sc} Q${18*sc},${15*sc} ${8*sc},${8*sc} Q${3*sc},${5*sc} ${0},${8*sc} Q${5*sc},${12*sc} ${12*sc},${16*sc} Q${18*sc},${18*sc} ${25*sc},${20*sc}`,col,op*0.6,col,0.4*sc);
    // Right wing (up)
    P(svg,`M${52*sc},${22*sc} Q${58*sc},${15*sc} ${62*sc},${8*sc} Q${67*sc},${5*sc} ${70*sc},${8*sc} Q${65*sc},${12*sc} ${58*sc},${16*sc} Q${55*sc},${18*sc} ${52*sc},${20*sc}`,col,op*0.6,col,0.4*sc);
    // Beak
    P(svg,`M${25*sc},${21*sc} L${20*sc},${22*sc} L${25*sc},${23*sc}`,col,op*0.8,col,0.3*sc);
    // Eye
    E(svg,28*sc,20*sc,1*sc,1*sc,bloodCol,op*0.8);
    // Tail feathers
    P(svg,`M${55*sc},${23*sc} L${62*sc},${26*sc} L${60*sc},${24*sc} L${65*sc},${25*sc}`,col,op*0.5,'none',0.8*sc);
    // Wing feather details
    for(let i=0;i<3;i++){
      P(svg,`M${(10+i*6)*sc},${(10+i*3)*sc} L${(13+i*6)*sc},${(14+i*2)*sc}`,col,op*0.3,'none',0.4*sc);
      P(svg,`M${(60-i*4)*sc},${(10+i*3)*sc} L${(57-i*4)*sc},${(14+i*2)*sc}`,col,op*0.3,'none',0.4*sc);
    }
  }

  // Generator #80 — Thorned Archway
  function thornedArchway(parent,cx,cy,sc,op){
    const svg=S(parent,cx-50*sc,cy-70*sc,100*sc,140*sc,op);
    // Main arch
    P(svg,`M${10*sc},${140*sc} L${10*sc},${50*sc} Q${10*sc},${10*sc} ${50*sc},${10*sc} Q${90*sc},${10*sc} ${90*sc},${50*sc} L${90*sc},${140*sc}`,col,op*0.6,'none',2*sc);
    // Inner arch
    P(svg,`M${18*sc},${140*sc} L${18*sc},${55*sc} Q${18*sc},${20*sc} ${50*sc},${20*sc} Q${82*sc},${20*sc} ${82*sc},${55*sc} L${82*sc},${140*sc}`,col,op*0.4,'none',1.2*sc);
    // Thorns all along the arch
    const archPts=[];
    for(let t=0;t<=1;t+=0.05){
      let ax,ay;
      if(t<0.35){
        ax=10*sc;ay=(140-t/0.35*90)*sc;
      }else if(t<0.65){
        const at=(t-0.35)/0.3*Math.PI;
        ax=(50-40*Math.cos(at))*sc;ay=(50-40*Math.sin(at))*sc;
      }else{
        ax=90*sc;ay=(50+(t-0.65)/0.35*90)*sc;
      }
      archPts.push({x:ax,y:ay});
    }
    archPts.forEach((p,i)=>{
      if(i%2===0){
        const angle=R(0,Math.PI*2);
        const tl=R(5,12)*sc;
        P(svg,`M${p.x},${p.y} L${p.x+Math.cos(angle)*tl},${p.y+Math.sin(angle)*tl}`,col,op*0.4,'none',0.8*sc);
        // Barb
        const mx=p.x+Math.cos(angle)*tl*0.6;
        const my=p.y+Math.sin(angle)*tl*0.6;
        P(svg,`M${mx},${my} L${mx+R(-4,4)*sc},${my+R(-4,4)*sc}`,col,op*0.3,'none',0.5*sc);
      }
    });
    // Keystone skull
    E(svg,50*sc,12*sc,6*sc,7*sc,col,op*0.5);
    E(svg,47*sc,10*sc,2*sc,2.5*sc,'#111',op*0.6);
    E(svg,53*sc,10*sc,2*sc,2.5*sc,'#111',op*0.6);
    // Blood dripping from keystone
    for(let i=0;i<3;i++){
      P(svg,`M${(48+i*2)*sc},${19*sc} Q${(48+i*2+R(-1,1))*sc},${(30+R(0,10))*sc} ${(48+i*2+R(-2,2))*sc},${(45+R(0,15))*sc}`,bloodCol,op*0.4,'none',1*sc);
    }
  }

  // ── PANDEMONIUM SECTION PLACEMENT ──
  const secs=document.querySelectorAll('.sec');
  secs.forEach((sec,idx)=>{
    const w=sec.offsetWidth,h=sec.offsetHeight;
    // Gargoyles perched on edges
    for(let i=0;i<RI(2,4);i++){
      gargoylePerch(sec,R(0,w),R(0,h),R(0.3,0.7),R(0.02,0.06));
    }
    // Iron maidens lurking
    for(let i=0;i<RI(1,3);i++){
      ironMaiden(sec,R(0,w),R(0,h),R(0.4,0.8),R(0.02,0.05));
    }
    // Cathedral spires rising
    for(let i=0;i<RI(2,5);i++){
      cathedralSpire(sec,R(0,w),R(0,h),R(0.2,0.5),R(0.015,0.04));
    }
    // Bleeding sacred hearts
    for(let i=0;i<RI(2,4);i++){
      bleedingSacredHeart(sec,R(0,w),R(0,h),R(0.3,0.6),R(0.02,0.05));
    }
    // Demon wings spread
    for(let i=0;i<RI(1,3);i++){
      demonWings(sec,R(0,w),R(0,h),R(0.3,0.6),R(0.015,0.04));
    }
    // Ritual circles
    for(let i=0;i<RI(1,3);i++){
      ritualCircle(sec,R(0,w),R(0,h),R(0.4,0.8),R(0.02,0.05));
    }
    // Screaming skulls
    for(let i=0;i<RI(3,6);i++){
      screamingSkull(sec,R(0,w),R(0,h),R(0.3,0.6),R(0.02,0.05));
    }
    // Wrought iron gates
    for(let i=0;i<RI(1,2);i++){
      wroughtIronGate(sec,R(0,w),R(0,h),R(0.3,0.6),R(0.015,0.04));
    }
    // Mourning angels
    for(let i=0;i<RI(1,3);i++){
      mourningAngel(sec,R(0,w),R(0,h),R(0.25,0.5),R(0.015,0.04));
    }
    // Ouroboros serpents
    for(let i=0;i<RI(2,4);i++){
      ouroboros(sec,R(0,w),R(0,h),R(0.3,0.7),R(0.02,0.05));
    }
    // Coffin nail crosses
    for(let i=0;i<RI(3,6);i++){
      coffinNailCross(sec,R(0,w),R(0,h),R(0.3,0.7),R(0.02,0.06));
    }
    // Chained crucifixes
    for(let i=0;i<RI(2,4);i++){
      chainedCrucifix(sec,R(0,w),R(0,h),R(0.3,0.6),R(0.02,0.05));
    }
    // Gothic candelabras
    for(let i=0;i<RI(1,3);i++){
      gothicCandelabra(sec,R(0,w),R(0,h),R(0.3,0.6),R(0.015,0.04));
    }
    // Flying ravens
    for(let i=0;i<RI(3,6);i++){
      flyingRaven(sec,R(0,w),R(0,h),R(0.4,0.8),R(0.02,0.05));
    }
    // Thorned archways
    for(let i=0;i<RI(1,2);i++){
      thornedArchway(sec,R(0,w),R(0,h),R(0.3,0.5),R(0.015,0.04));
    }
  });

  // ── PANDEMONIUM BACKGROUND FLOOD ──
  const bg=document.getElementById('bgFiligree');
  if(bg){
    const bgSvg=bg.querySelector('svg')||S(bg,0,0,1200,4000,0.15);
    for(let i=0;i<25;i++) gargoylePerch(bg,R(0,1200),R(0,4000),R(0.2,0.5),R(0.008,0.02));
    for(let i=0;i<20;i++) cathedralSpire(bg,R(0,1200),R(0,4000),R(0.15,0.35),R(0.006,0.015));
    for(let i=0;i<30;i++) screamingSkull(bg,R(0,1200),R(0,4000),R(0.2,0.5),R(0.008,0.02));
    for(let i=0;i<15;i++) mourningAngel(bg,R(0,1200),R(0,4000),R(0.15,0.3),R(0.005,0.012));
    for(let i=0;i<20;i++) ouroboros(bg,R(0,1200),R(0,4000),R(0.2,0.5),R(0.006,0.015));
    for(let i=0;i<25;i++) coffinNailCross(bg,R(0,1200),R(0,4000),R(0.2,0.5),R(0.008,0.02));
    for(let i=0;i<15;i++) flyingRaven(bg,R(0,1200),R(0,4000),R(0.3,0.6),R(0.008,0.02));
    for(let i=0;i<10;i++) ritualCircle(bg,R(0,1200),R(0,4000),R(0.2,0.5),R(0.006,0.015));
    for(let i=0;i<20;i++) bleedingSacredHeart(bg,R(0,1200),R(0,4000),R(0.2,0.4),R(0.006,0.015));
    for(let i=0;i<10;i++) demonWings(bg,R(0,1200),R(0,4000),R(0.15,0.3),R(0.005,0.012));
  }

  console.log('[Gothic Filigree Engine v4 — PANDEMONIUM] 15 new generators (#66-80) deployed.');
})();


// ████████████████████████████████████████████████████████████████
// ██  LAYER XV — NECROPOLIS: MEGA DENSITY FLOOD                ██
// ██  Triple-pass over all sections with ALL generators        ██
// ██  Chains, crosses, blood, skulls, thorns EVERYWHERE        ██
// ████████████████████████████████████████████████████████████████
(function NECROPOLIS_LAYER(){
  const secs=document.querySelectorAll('.sec');
  const allGens=[
    gothicCross,celticKnot,chain,skull,thornBranch,
    pendantDrop,fleurDeLis,dagger,ornateFrame,
    invertedCross,crownOfNails,bloodChalice,
    gargoylePerch,screamingSkull,coffinNailCross,chainedCrucifix,
    flyingRaven,ouroboros,bleedingSacredHeart,ritualCircle,
    mourningAngel,thornedArchway,demonWings,gothicCandelabra,
    wroughtIronGate,ironMaiden,cathedralSpire
  ];

  // PASS 1: Heavy chain & cross flood
  secs.forEach(sec=>{
    const w=sec.offsetWidth,h=sec.offsetHeight;
    // Massive chain curtains
    for(let i=0;i<RI(8,15);i++){
      const pts=[];
      const sx=R(0,w);
      for(let y=0;y<h;y+=R(15,30)){
        pts.push({x:sx+R(-20,20),y:y});
      }
      chain(sec,pts,R(0.03,0.08));
    }
    // Cross bombardment
    for(let i=0;i<RI(8,14);i++){
      coffinNailCross(sec,R(0,w),R(0,h),R(0.3,0.8),R(0.03,0.07));
    }
    for(let i=0;i<RI(6,10);i++){
      invertedCross(sec,R(0,w),R(0,h),R(0.3,0.7),R(0.03,0.06));
    }
    for(let i=0;i<RI(5,8);i++){
      coffinNailCross(sec,R(0,w),R(0,h),R(0.3,0.7),R(0.03,0.06));
    }
    for(let i=0;i<RI(4,7);i++){
      chainedCrucifix(sec,R(0,w),R(0,h),R(0.3,0.6),R(0.02,0.05));
    }
  });

  // PASS 2: Skull & blood saturation
  secs.forEach(sec=>{
    const w=sec.offsetWidth,h=sec.offsetHeight;
    for(let i=0;i<RI(6,10);i++){
      screamingSkull(sec,R(0,w),R(0,h),R(0.3,0.7),R(0.03,0.06));
    }
    for(let i=0;i<RI(6,10);i++){
      screamingSkull(sec,R(0,w),R(0,h),R(0.3,0.6),R(0.03,0.06));
    }
    for(let i=0;i<RI(4,8);i++){
      bleedingSacredHeart(sec,R(0,w),R(0,h),R(0.3,0.6),R(0.025,0.05));
    }
    for(let i=0;i<RI(3,6);i++){
      sacrificialAltar(sec,R(0,w),R(0,h),R(0.3,0.6),R(0.02,0.05));
    }
    // Extra blood drip CSS elements
    for(let i=0;i<RI(5,10);i++){
      const drip=document.createElement('div');
      drip.className='blood-drip';
      drip.style.cssText=`left:${R(0,100)}%;top:${R(0,80)}%;height:${R(30,120)}px;animation-delay:${R(0,8)}s;animation-duration:${R(3,8)}s;`;
      sec.appendChild(drip);
    }
    // Blood splatters
    for(let i=0;i<RI(3,6);i++){
      const splat=document.createElement('div');
      splat.className='blood-splatter';
      splat.style.cssText=`left:${R(5,95)}%;top:${R(5,95)}%;width:${R(10,30)}px;height:${R(10,30)}px;`;
      sec.appendChild(splat);
    }
  });

  // PASS 3: Thorn & vine overgrowth
  secs.forEach(sec=>{
    const w=sec.offsetWidth,h=sec.offsetHeight;
    for(let i=0;i<RI(6,12);i++){
      const pts=[];
      const sy=R(0,h);
      for(let x=0;x<w;x+=R(20,40)){
        pts.push({x:x,y:sy+R(-30,30)});
      }
      thornBranch(sec,pts,R(0.03,0.07));
    }
    for(let i=0;i<RI(3,6);i++){
      thornedArchway(sec,R(0,w),R(0,h),R(0.2,0.5),R(0.02,0.04));
    }
    // Celtic knots scattered
    for(let i=0;i<RI(4,8);i++){
      ouroboros(sec,R(0,w),R(0,h),R(0.3,0.7),R(0.03,0.06));
    }
    // Pendant drops from top
    for(let i=0;i<RI(5,10);i++){
      pendantDrop(sec,R(0,w),R(5,30),R(0.3,0.7),R(0.03,0.06));
    }
  });

  console.log('[Gothic Filigree Engine v4 — NECROPOLIS] Triple-pass density flood complete.');
})();


// ████████████████████████████████████████████████████████████████
// ██  LAYER XVI — ETERNAL DAMNATION: CSS ENHANCEMENT +         ██
// ██  Animation flood + text shadow overlays + border filigree ██
// ████████████████████████████████████████████████████████████████
(function ETERNAL_DAMNATION_LAYER(){

  // ── EXTRA CSS INJECTION ──
  const style=document.createElement('style');
  style.textContent=`
    /* Eternal Damnation — Gothic border ornaments */
    .sec::before{
      content:'';
      position:absolute;
      top:0;left:0;right:0;
      height:4px;
      background:repeating-linear-gradient(90deg,
        transparent 0px,transparent 8px,
        #1a1a1a 8px,#1a1a1a 10px,
        transparent 10px,transparent 18px,
        #8b0000 18px,#8b0000 20px
      );
      opacity:0.15;
      z-index:2;
      pointer-events:none;
    }
    .sec::after{
      content:'';
      position:absolute;
      bottom:0;left:0;right:0;
      height:4px;
      background:repeating-linear-gradient(90deg,
        transparent 0px,transparent 8px,
        #8b0000 8px,#8b0000 10px,
        transparent 10px,transparent 18px,
        #1a1a1a 18px,#1a1a1a 20px
      );
      opacity:0.15;
      z-index:2;
      pointer-events:none;
    }

    /* Pulsing blood glow on headings */
    .sec h2{
      text-shadow:0 0 20px rgba(139,0,0,0.15),0 0 40px rgba(139,0,0,0.08);
    }

    /* Chain link border pattern on nav */
    nav::after{
      content:'';
      position:absolute;
      bottom:-2px;left:0;right:0;
      height:6px;
      background:repeating-linear-gradient(90deg,
        transparent 0,transparent 4px,
        #1a1a1a 4px,#1a1a1a 6px,
        transparent 6px,transparent 8px,
        #1a1a1a 8px,#1a1a1a 12px,
        transparent 12px,transparent 16px
      );
      opacity:0.2;
      pointer-events:none;
    }

    /* Blood vignette overlay */
    body::after{
      content:'';
      position:fixed;
      inset:0;
      pointer-events:none;
      z-index:9998;
      background:radial-gradient(ellipse at center,
        transparent 50%,
        rgba(139,0,0,0.03) 70%,
        rgba(60,0,0,0.08) 100%
      );
    }

    /* Animated chain-link divider */
    @keyframes chainSlide{
      0%{background-position:0 0}
      100%{background-position:40px 0}
    }
    .gothic-chain-divider{
      width:100%;
      height:8px;
      background:repeating-linear-gradient(90deg,
        transparent 0,transparent 6px,
        #1a1a1a 6px,#1a1a1a 8px,
        transparent 8px,transparent 12px,
        #1a1a1a 12px,#1a1a1a 16px,
        transparent 16px,transparent 20px
      );
      opacity:0.12;
      animation:chainSlide 4s linear infinite;
      pointer-events:none;
    }

    /* Dripping text effect for blood sections */
    @keyframes textDrip{
      0%{clip-path:inset(0 0 100% 0)}
      100%{clip-path:inset(0 0 0 0)}
    }

    /* Gothic corner ornaments */
    .gothic-corner{
      position:absolute;
      width:40px;height:40px;
      pointer-events:none;
      z-index:3;
      opacity:0.1;
    }
    .gothic-corner svg{width:100%;height:100%;}
    .gc-tl{top:0;left:0;}
    .gc-tr{top:0;right:0;transform:scaleX(-1);}
    .gc-bl{bottom:0;left:0;transform:scaleY(-1);}
    .gc-br{bottom:0;right:0;transform:scale(-1,-1);}

    /* Skull watermark */
    .skull-watermark{
      position:absolute;
      width:200px;height:200px;
      opacity:0.02;
      pointer-events:none;
      z-index:1;
    }

    /* Iron cross pattern overlay */
    .iron-pattern{
      position:absolute;
      inset:0;
      pointer-events:none;
      z-index:1;
      opacity:0.03;
      background-image:
        radial-gradient(circle 2px,#1a1a1a 1px,transparent 1px),
        radial-gradient(circle 1px,#8b0000 0.5px,transparent 0.5px);
      background-size:30px 30px,15px 15px;
      background-position:0 0,7px 7px;
    }
  `;
  document.head.appendChild(style);

  // ── GOTHIC CORNER ORNAMENTS FOR EVERY SECTION ──
  const secs=document.querySelectorAll('.sec');
  secs.forEach(sec=>{
    ['gc-tl','gc-tr','gc-bl','gc-br'].forEach(cls=>{
      const corner=document.createElement('div');
      corner.className='gothic-corner '+cls;
      const ns='http://www.w3.org/2000/svg';
      const svgEl=document.createElementNS(ns,'svg');
      svgEl.setAttribute('viewBox','0 0 40 40');
      const path=document.createElementNS(ns,'path');
      path.setAttribute('d','M0,0 Q20,0 20,20 Q20,10 30,10 Q20,10 20,0 M0,0 L0,15 Q5,15 5,5 Q5,15 15,15 L15,0');
      path.setAttribute('fill','none');
      path.setAttribute('stroke','#1a1a1a');
      path.setAttribute('stroke-width','1');
      svgEl.appendChild(path);
      // Extra filigree in corner
      const p2=document.createElementNS(ns,'path');
      p2.setAttribute('d','M0,0 Q10,5 5,15 M2,0 Q12,8 8,18 M0,2 Q8,7 3,17');
      p2.setAttribute('fill','none');
      p2.setAttribute('stroke','#1a1a1a');
      p2.setAttribute('stroke-width','0.5');
      svgEl.appendChild(p2);
      corner.appendChild(svgEl);
      sec.appendChild(corner);
    });

    // Iron cross pattern overlay
    const iron=document.createElement('div');
    iron.className='iron-pattern';
    sec.appendChild(iron);

    // Chain dividers between sections
    const chainDiv=document.createElement('div');
    chainDiv.className='gothic-chain-divider';
    chainDiv.style.cssText='position:absolute;bottom:-4px;left:0;z-index:5;';
    sec.appendChild(chainDiv);
  });

  // ── ADDITIONAL ANIMATION ASSIGNMENTS ──
  // Make more SVGs drift, flicker, and spin
  document.querySelectorAll('.sec svg').forEach((svg,i)=>{
    if(i%3===0&&!svg.style.animation){
      const anims=['driftFloat 20s ease-in-out infinite','flickerGlow 4s ease-in-out infinite','slowSpin 60s linear infinite','pulseScale 8s ease-in-out infinite','chainSway 6s ease-in-out infinite'];
      svg.style.animation=anims[i%anims.length];
      svg.style.animationDelay=R(0,10)+'s';
    }
  });

  // ── BLOOD POOL GENERATION AT SECTION BASES ──
  secs.forEach(sec=>{
    for(let i=0;i<RI(2,5);i++){
      const pool=document.createElement('div');
      pool.className='blood-pool';
      pool.style.cssText=`left:${R(5,90)}%;bottom:${R(0,10)}px;width:${R(40,120)}px;height:${R(8,20)}px;position:absolute;`;
      sec.appendChild(pool);
    }
  });

  // ── SKULL WATERMARKS ──
  secs.forEach((sec,idx)=>{
    if(idx%2===0){
      const wm=document.createElement('div');
      wm.className='skull-watermark';
      wm.style.cssText=`left:${R(10,60)}%;top:${R(10,60)}%;`;
      const ns='http://www.w3.org/2000/svg';
      const s=document.createElementNS(ns,'svg');
      s.setAttribute('viewBox','0 0 100 120');
      s.style.width='100%';s.style.height='100%';
      // Big skull
      const head=document.createElementNS(ns,'path');
      head.setAttribute('d','M20,60 Q5,45 10,25 Q18,5 50,3 Q82,5 90,25 Q95,45 80,60 Q75,70 70,75 L30,75 Q25,70 20,60 Z');
      head.setAttribute('fill','none');head.setAttribute('stroke','#1a1a1a');head.setAttribute('stroke-width','2');
      s.appendChild(head);
      // Eyes
      const le=document.createElementNS(ns,'ellipse');
      le.setAttribute('cx','35');le.setAttribute('cy','35');le.setAttribute('rx','10');le.setAttribute('ry','12');
      le.setAttribute('fill','#1a1a1a');s.appendChild(le);
      const re=document.createElementNS(ns,'ellipse');
      re.setAttribute('cx','65');re.setAttribute('cy','35');re.setAttribute('rx','10');re.setAttribute('ry','12');
      re.setAttribute('fill','#1a1a1a');s.appendChild(re);
      // Nose
      const nose=document.createElementNS(ns,'path');
      nose.setAttribute('d','M45,55 L50,60 L55,55');
      nose.setAttribute('fill','#1a1a1a');s.appendChild(nose);
      // Teeth
      const teeth=document.createElementNS(ns,'path');
      teeth.setAttribute('d','M30,75 L30,85 L35,80 L40,85 L45,80 L50,85 L55,80 L60,85 L65,80 L70,85 L70,75');
      teeth.setAttribute('fill','none');teeth.setAttribute('stroke','#1a1a1a');teeth.setAttribute('stroke-width','1.5');
      s.appendChild(teeth);
      wm.appendChild(s);
      sec.appendChild(wm);
    }
  });

  console.log('[Gothic Filigree Engine v4 — ETERNAL DAMNATION] CSS overlays + corners + blood pools deployed.');
})();


// ████████████████████████████████████████████████████████████████
// ██  LAYER XVII — ABYSSAL CONVERGENCE: FINAL MEGA-FLOOD      ██
// ██  Every generator hits every section one more time          ██
// ████████████████████████████████████████████████████████████████
(function ABYSSAL_CONVERGENCE(){
  const secs=document.querySelectorAll('.sec');

  secs.forEach(sec=>{
    const w=sec.offsetWidth,h=sec.offsetHeight;

    // Round 1: Structural gothic elements
    for(let i=0;i<RI(3,5);i++) gargoylePerch(sec,R(0,w),R(0,h),R(0.2,0.5),R(0.015,0.04));
    for(let i=0;i<RI(2,4);i++) cathedralSpire(sec,R(0,w),R(0,h),R(0.15,0.35),R(0.01,0.03));
    for(let i=0;i<RI(2,3);i++) wroughtIronGate(sec,R(0,w),R(0,h),R(0.2,0.4),R(0.01,0.03));
    for(let i=0;i<RI(2,4);i++) thornedArchway(sec,R(0,w),R(0,h),R(0.2,0.4),R(0.01,0.03));
    for(let i=0;i<RI(1,3);i++) ironMaiden(sec,R(0,w),R(0,h),R(0.3,0.6),R(0.015,0.035));
    for(let i=0;i<RI(1,2);i++) gothicCandelabra(sec,R(0,w),R(0,h),R(0.2,0.5),R(0.01,0.03));

    // Round 2: Death symbols
    for(let i=0;i<RI(4,7);i++) screamingSkull(sec,R(0,w),R(0,h),R(0.2,0.5),R(0.02,0.04));
    for(let i=0;i<RI(3,6);i++) screamingSkull(sec,R(0,w),R(0,h),R(0.2,0.5),R(0.02,0.05));
    for(let i=0;i<RI(3,5);i++) coffinNailCross(sec,R(0,w),R(0,h),R(0.2,0.5),R(0.02,0.05));
    for(let i=0;i<RI(2,4);i++) chainedCrucifix(sec,R(0,w),R(0,h),R(0.2,0.5),R(0.02,0.04));
    for(let i=0;i<RI(2,4);i++) impaledSkull(sec,R(0,w),R(0,h),R(0.3,0.6),R(0.02,0.05));
    for(let i=0;i<RI(2,3);i++) mourningAngel(sec,R(0,w),R(0,h),R(0.15,0.35),R(0.01,0.03));

    // Round 3: Blood & occult
    for(let i=0;i<RI(3,5);i++) bleedingSacredHeart(sec,R(0,w),R(0,h),R(0.2,0.5),R(0.02,0.04));
    for(let i=0;i<RI(2,4);i++) ritualCircle(sec,R(0,w),R(0,h),R(0.3,0.6),R(0.02,0.04));
    for(let i=0;i<RI(2,3);i++) sacrificialAltar(sec,R(0,w),R(0,h),R(0.3,0.6),R(0.02,0.04));
    for(let i=0;i<RI(2,4);i++) ouroboros(sec,R(0,w),R(0,h),R(0.2,0.5),R(0.02,0.04));
    for(let i=0;i<RI(1,3);i++) demonWings(sec,R(0,w),R(0,h),R(0.2,0.4),R(0.01,0.03));

    // Round 4: Organic/nature gothic
    for(let i=0;i<RI(4,8);i++){
      const pts=[];
      const sy=R(0,h);
      for(let x=R(0,w*0.3);x<R(w*0.5,w);x+=R(15,35)){
        pts.push({x:x,y:sy+R(-25,25)});
      }
      thornBranch(sec,pts,R(0.025,0.05));
    }
    for(let i=0;i<RI(3,5);i++) ouroboros(sec,R(0,w),R(0,h),R(0.3,0.6),R(0.02,0.05));
    for(let i=0;i<RI(3,6);i++) flyingRaven(sec,R(0,w),R(0,h),R(0.3,0.6),R(0.02,0.05));
    for(let i=0;i<RI(3,6);i++) pendantDrop(sec,R(0,w),R(0,50),R(0.3,0.6),R(0.02,0.05));

    // Round 5: Crosses everywhere
    for(let i=0;i<RI(5,10);i++) coffinNailCross(sec,R(0,w),R(0,h),R(0.2,0.6),R(0.02,0.06));
    for(let i=0;i<RI(4,8);i++) invertedCross(sec,R(0,w),R(0,h),R(0.2,0.5),R(0.02,0.05));
    for(let i=0;i<RI(3,6);i++) bleedingCross(sec,R(0,w),R(0,h),R(0.2,0.5),R(0.02,0.05));

    // Round 6: Chains draping everywhere
    for(let i=0;i<RI(5,10);i++){
      const pts=[];
      const sx=R(0,w);
      for(let y=0;y<h;y+=R(10,25)){
        pts.push({x:sx+R(-15,15),y:y});
      }
      chain(sec,pts,R(0.025,0.06));
    }

    // Round 7: More blood DOM elements
    for(let i=0;i<RI(4,8);i++){
      const drip=document.createElement('div');
      drip.className='blood-drip';
      drip.style.cssText=`left:${R(0,100)}%;top:${R(0,70)}%;height:${R(40,150)}px;animation-delay:${R(0,10)}s;animation-duration:${R(2,7)}s;`;
      sec.appendChild(drip);
    }
  });

  // ── FINAL BACKGROUND SATURATION ──
  const bg=document.getElementById('bgFiligree');
  if(bg){
    for(let i=0;i<40;i++) coffinNailCross(bg,R(0,1200),R(0,4000),R(0.15,0.4),R(0.005,0.015));
    for(let i=0;i<30;i++) screamingSkull(bg,R(0,1200),R(0,4000),R(0.15,0.4),R(0.005,0.012));
    for(let i=0;i<20;i++) screamingSkull(bg,R(0,1200),R(0,4000),R(0.15,0.35),R(0.004,0.01));
    for(let i=0;i<25;i++) ouroboros(bg,R(0,1200),R(0,4000),R(0.15,0.4),R(0.005,0.012));
    for(let i=0;i<15;i++) gargoylePerch(bg,R(0,1200),R(0,4000),R(0.15,0.35),R(0.004,0.01));
    for(let i=0;i<20;i++) flyingRaven(bg,R(0,1200),R(0,4000),R(0.2,0.5),R(0.005,0.012));
    for(let i=0;i<15;i++) coffinNailCross(bg,R(0,1200),R(0,4000),R(0.15,0.35),R(0.005,0.012));
    for(let i=0;i<10;i++) bleedingSacredHeart(bg,R(0,1200),R(0,4000),R(0.15,0.3),R(0.004,0.01));
    for(let i=0;i<15;i++) ritualCircle(bg,R(0,1200),R(0,4000),R(0.15,0.35),R(0.004,0.01));
    for(let i=0;i<10;i++) mourningAngel(bg,R(0,1200),R(0,4000),R(0.1,0.25),R(0.003,0.008));
    for(let i=0;i<20;i++) ouroboros(bg,R(0,1200),R(0,4000),R(0.15,0.35),R(0.004,0.01));
    // Blood-themed barbed wire across background
    for(let i=0;i<15;i++){
      const pts=[];
      const sy=R(20,3980);
      for(let x=R(0,400);x<R(600,1200);x+=R(15,35)){
        pts.push({x:x,y:sy+R(-8,8)});
      }
      barbedWire(bg,pts,R(0.004,0.01));
    }
  }

  console.log('[Gothic Filigree Engine v4 — ABYSSAL CONVERGENCE] Final mega-flood complete. MAXIMUM ORNAMENT DENSITY.');
})();


// ████████████████████████████████████████████████████████████████
// ██  LAYER XVIII — HELLMOUTH: GENERATORS #81-95               ██
// ██  Bone throne, weeping statue, cathedral bell, crypt door, ██
// ██  plague doctor, chalice fountain, death moth, etc.         ██
// ████████████████████████████████████████████████████████████████
(function HELLMOUTH_LAYER(){

  // Generator #81 — Bone Throne
  function boneThrone(parent,cx,cy,sc,op){
    const svg=S(parent,cx-45*sc,cy-60*sc,90*sc,120*sc,op);
    // Seat
    P(svg,`M${20*sc},${70*sc} L${70*sc},${70*sc} L${75*sc},${80*sc} L${15*sc},${80*sc} Z`,col,op*0.6,col,0.7*sc);
    // Back (bone pillars)
    P(svg,`M${20*sc},${70*sc} L${18*sc},${15*sc} Q${20*sc},${5*sc} ${25*sc},${5*sc} L${25*sc},${12*sc} Q${22*sc},${15*sc} ${22*sc},${70*sc}`,col,op*0.5,col,0.5*sc);
    P(svg,`M${70*sc},${70*sc} L${72*sc},${15*sc} Q${70*sc},${5*sc} ${65*sc},${5*sc} L${65*sc},${12*sc} Q${68*sc},${15*sc} ${68*sc},${70*sc}`,col,op*0.5,col,0.5*sc);
    // Cross bar at top
    P(svg,`M${18*sc},${15*sc} L${72*sc},${15*sc}`,col,op*0.5,'none',1.5*sc);
    // Skull at crown
    E(svg,45*sc,10*sc,8*sc,8*sc,col,op*0.5,col,0.5*sc);
    E(svg,42*sc,8*sc,2*sc,2.5*sc,'#111',op*0.6);
    E(svg,48*sc,8*sc,2*sc,2.5*sc,'#111',op*0.6);
    // Armrests (bone)
    P(svg,`M${20*sc},${60*sc} Q${10*sc},${58*sc} ${5*sc},${60*sc} Q${3*sc},${62*sc} ${5*sc},${65*sc} Q${10*sc},${63*sc} ${20*sc},${62*sc}`,col,op*0.4,'none',1*sc);
    P(svg,`M${70*sc},${60*sc} Q${80*sc},${58*sc} ${85*sc},${60*sc} Q${87*sc},${62*sc} ${85*sc},${65*sc} Q${80*sc},${63*sc} ${70*sc},${62*sc}`,col,op*0.4,'none',1*sc);
    // Legs (bone)
    P(svg,`M${20*sc},${80*sc} L${15*sc},${115*sc} Q${13*sc},${118*sc} ${18*sc},${118*sc} L${22*sc},${115*sc}`,col,op*0.4,'none',1.2*sc);
    P(svg,`M${70*sc},${80*sc} L${75*sc},${115*sc} Q${77*sc},${118*sc} ${72*sc},${118*sc} L${68*sc},${115*sc}`,col,op*0.4,'none',1.2*sc);
    // Rib cage pattern on back
    for(let y=25;y<65;y+=8){
      P(svg,`M${25*sc},${y*sc} Q${45*sc},${(y+4)*sc} ${65*sc},${y*sc}`,col,op*0.2,'none',0.5*sc);
    }
    // Vertebrae down center
    for(let y=18;y<68;y+=5){
      E(svg,45*sc,y*sc,2*sc,2*sc,col,op*0.25);
    }
  }

  // Generator #82 — Weeping Stone Statue
  function weepingStatue(parent,cx,cy,sc,op){
    const svg=S(parent,cx-30*sc,cy-70*sc,60*sc,140*sc,op);
    // Head
    E(svg,30*sc,15*sc,10*sc,12*sc,col,op*0.5,col,0.5*sc);
    // Hooded cloak
    P(svg,`M${18*sc},${10*sc} Q${10*sc},${15*sc} ${8*sc},${25*sc} Q${5*sc},${40*sc} ${8*sc},${60*sc} L${10*sc},${130*sc} L${50*sc},${130*sc} L${52*sc},${60*sc} Q${55*sc},${40*sc} ${52*sc},${25*sc} Q${50*sc},${15*sc} ${42*sc},${10*sc}`,col,op*0.5,col,0.6*sc);
    // Hands clasped
    E(svg,30*sc,65*sc,8*sc,5*sc,col,op*0.4,col,0.4*sc);
    // Weeping tears (blood)
    for(let i=0;i<3;i++){
      const tx=25+i*3;
      P(svg,`M${tx*sc},${20*sc} Q${(tx+R(-1,1))*sc},${(35+R(0,10))*sc} ${(tx+R(-2,2))*sc},${(50+R(0,15))*sc}`,bloodCol,op*0.5,'none',0.8*sc);
    }
    for(let i=0;i<3;i++){
      const tx=33+i*3;
      P(svg,`M${tx*sc},${20*sc} Q${(tx+R(-1,1))*sc},${(35+R(0,10))*sc} ${(tx+R(-2,2))*sc},${(50+R(0,15))*sc}`,bloodCol,op*0.5,'none',0.8*sc);
    }
    // Robe folds
    for(let y=40;y<125;y+=12){
      P(svg,`M${(12+R(-2,2))*sc},${y*sc} Q${30*sc},${(y+R(-5,5))*sc} ${(48+R(-2,2))*sc},${y*sc}`,col,op*0.15,'none',0.4*sc);
    }
    // Base pedestal
    P(svg,`M${5*sc},${130*sc} L${0},${135*sc} L${60*sc},${135*sc} L${55*sc},${130*sc}`,col,op*0.4,col,0.4*sc);
  }

  // Generator #83 — Cathedral Bell
  function cathedralBell(parent,cx,cy,sc,op){
    const svg=S(parent,cx-25*sc,cy-45*sc,50*sc,90*sc,op);
    // Bell yoke/mount
    P(svg,`M${15*sc},${5*sc} L${35*sc},${5*sc} L${35*sc},${10*sc} L${15*sc},${10*sc} Z`,col,op*0.6,col,0.5*sc);
    // Bell body
    P(svg,`M${18*sc},${10*sc} Q${17*sc},${20*sc} ${15*sc},${35*sc} Q${12*sc},${50*sc} ${8*sc},${60*sc} L${8*sc},${65*sc} Q${25*sc},${68*sc} ${42*sc},${65*sc} L${42*sc},${60*sc} Q${38*sc},${50*sc} ${35*sc},${35*sc} Q${33*sc},${20*sc} ${32*sc},${10*sc}`,col,op*0.6,col,0.7*sc);
    // Clapper
    P(svg,`M${25*sc},${15*sc} L${25*sc},${55*sc}`,col,op*0.4,'none',1*sc);
    E(svg,25*sc,58*sc,3*sc,3*sc,col,op*0.5);
    // Decorative band
    P(svg,`M${12*sc},${50*sc} Q${25*sc},${48*sc} ${38*sc},${50*sc}`,col,op*0.3,'none',1.5*sc);
    // Cross on bell
    P(svg,`M${25*sc},${25*sc} L${25*sc},${40*sc}`,col,op*0.3,'none',0.8*sc);
    P(svg,`M${20*sc},${30*sc} L${30*sc},${30*sc}`,col,op*0.3,'none',0.8*sc);
    // Chain to mount
    for(let y=0;y<10;y+=3){
      E(svg,25*sc,y*sc,2*sc,1.5*sc,'none',op*0.4,col,0.6*sc);
    }
    // Sound waves
    for(let i=1;i<=3;i++){
      P(svg,`M${(5-i*3)*sc},${(55+i*2)*sc} Q${(3-i*3)*sc},${60*sc} ${(5-i*3)*sc},${(65+i*2)*sc}`,col,op*(0.15/i),'none',0.5*sc);
      P(svg,`M${(45+i*3)*sc},${(55+i*2)*sc} Q${(47+i*3)*sc},${60*sc} ${(45+i*3)*sc},${(65+i*2)*sc}`,col,op*(0.15/i),'none',0.5*sc);
    }
  }

  // Generator #84 — Crypt Door
  function cryptDoor(parent,cx,cy,sc,op){
    const svg=S(parent,cx-35*sc,cy-55*sc,70*sc,110*sc,op);
    // Door frame
    P(svg,`M${5*sc},${110*sc} L${5*sc},${20*sc} Q${5*sc},${5*sc} ${35*sc},${5*sc} Q${65*sc},${5*sc} ${65*sc},${20*sc} L${65*sc},${110*sc}`,col,op*0.6,'none',2*sc);
    // Door panels
    P(svg,`M${10*sc},${108*sc} L${10*sc},${22*sc} Q${10*sc},${10*sc} ${35*sc},${10*sc} Q${60*sc},${10*sc} ${60*sc},${22*sc} L${60*sc},${108*sc}`,col,op*0.4,col,0.8*sc);
    // Center split
    P(svg,`M${35*sc},${10*sc} L${35*sc},${108*sc}`,col,op*0.5,'none',0.8*sc);
    // Iron bands
    for(let y=25;y<105;y+=20){
      P(svg,`M${10*sc},${y*sc} L${60*sc},${y*sc}`,col,op*0.3,'none',1.5*sc);
      // Bolts
      E(svg,15*sc,y*sc,2*sc,2*sc,col,op*0.4);
      E(svg,55*sc,y*sc,2*sc,2*sc,col,op*0.4);
    }
    // Iron ring handle
    E(svg,28*sc,60*sc,5*sc,5*sc,'none',op*0.5,col,1.2*sc);
    E(svg,42*sc,60*sc,5*sc,5*sc,'none',op*0.5,col,1.2*sc);
    // Skull knocker
    E(svg,35*sc,55*sc,4*sc,4*sc,col,op*0.4,col,0.4*sc);
    // Keyhole
    P(svg,`M${35*sc},${78*sc} L${33*sc},${85*sc} L${37*sc},${85*sc} Z`,col,op*0.5,col,0.3*sc);
    E(svg,35*sc,76*sc,2.5*sc,2.5*sc,col,op*0.5);
    // Cobwebs at top
    P(svg,`M${5*sc},${20*sc} Q${15*sc},${15*sc} ${20*sc},${22*sc} Q${12*sc},${25*sc} ${8*sc},${20*sc}`,col,op*0.2,'none',0.3*sc);
    P(svg,`M${65*sc},${20*sc} Q${55*sc},${15*sc} ${50*sc},${22*sc} Q${58*sc},${25*sc} ${62*sc},${20*sc}`,col,op*0.2,'none',0.3*sc);
  }

  // Generator #85 — Plague Doctor Mask
  function plagueDoctor(parent,cx,cy,sc,op){
    const svg=S(parent,cx-25*sc,cy-35*sc,50*sc,70*sc,op);
    // Hood
    P(svg,`M${10*sc},${30*sc} Q${5*sc},${20*sc} ${10*sc},${10*sc} Q${15*sc},${3*sc} ${25*sc},${2*sc} Q${35*sc},${3*sc} ${40*sc},${10*sc} Q${45*sc},${20*sc} ${40*sc},${30*sc}`,col,op*0.6,col,0.6*sc);
    // Beak
    P(svg,`M${12*sc},${22*sc} Q${10*sc},${25*sc} ${5*sc},${35*sc} Q${3*sc},${38*sc} ${5*sc},${40*sc} Q${8*sc},${38*sc} ${12*sc},${32*sc} Q${15*sc},${28*sc} ${18*sc},${25*sc}`,col,op*0.6,col,0.5*sc);
    // Eye (goggle)
    E(svg,28*sc,18*sc,6*sc,5*sc,'none',op*0.6,col,1*sc);
    E(svg,28*sc,18*sc,3*sc,3*sc,col,op*0.7);
    // Hat brim
    P(svg,`M${5*sc},${10*sc} Q${25*sc},${6*sc} ${45*sc},${10*sc}`,col,op*0.4,'none',1*sc);
    // Hat top
    P(svg,`M${15*sc},${10*sc} L${13*sc},${0} L${37*sc},${0} L${35*sc},${10*sc}`,col,op*0.4,col,0.4*sc);
    // Robe drape
    P(svg,`M${10*sc},${30*sc} Q${8*sc},${45*sc} ${10*sc},${65*sc} L${40*sc},${65*sc} Q${42*sc},${45*sc} ${40*sc},${30*sc}`,col,op*0.3,col,0.4*sc);
    // Staff
    P(svg,`M${42*sc},${15*sc} L${45*sc},${68*sc}`,col,op*0.4,'none',1.2*sc);
    // Beak stitches
    for(let i=0;i<4;i++){
      const by=28+i*3;
      P(svg,`M${(8+i)*sc},${by*sc} L${(11+i)*sc},${(by+1)*sc}`,col,op*0.3,'none',0.4*sc);
    }
  }

  // Generator #86 — Death Moth
  function deathMoth(parent,cx,cy,sc,op){
    const svg=S(parent,cx-30*sc,cy-20*sc,60*sc,40*sc,op);
    // Body
    P(svg,`M${28*sc},${15*sc} Q${30*sc},${10*sc} ${30*sc},${8*sc} L${30*sc},${32*sc} Q${30*sc},${35*sc} ${30*sc},${32*sc}`,col,op*0.6,'none',2*sc);
    // Left upper wing
    P(svg,`M${28*sc},${16*sc} Q${15*sc},${8*sc} ${5*sc},${10*sc} Q${2*sc},${15*sc} ${5*sc},${22*sc} Q${10*sc},${25*sc} ${20*sc},${22*sc} Q${25*sc},${20*sc} ${28*sc},${18*sc}`,col,op*0.5,col,0.5*sc);
    // Right upper wing
    P(svg,`M${32*sc},${16*sc} Q${45*sc},${8*sc} ${55*sc},${10*sc} Q${58*sc},${15*sc} ${55*sc},${22*sc} Q${50*sc},${25*sc} ${40*sc},${22*sc} Q${35*sc},${20*sc} ${32*sc},${18*sc}`,col,op*0.5,col,0.5*sc);
    // Left lower wing
    P(svg,`M${27*sc},${20*sc} Q${18*sc},${25*sc} ${10*sc},${30*sc} Q${8*sc},${32*sc} ${12*sc},${33*sc} Q${18*sc},${30*sc} ${25*sc},${25*sc}`,col,op*0.4,col,0.4*sc);
    // Right lower wing
    P(svg,`M${33*sc},${20*sc} Q${42*sc},${25*sc} ${50*sc},${30*sc} Q${52*sc},${32*sc} ${48*sc},${33*sc} Q${42*sc},${30*sc} ${35*sc},${25*sc}`,col,op*0.4,col,0.4*sc);
    // Skull pattern on thorax
    E(svg,30*sc,16*sc,3*sc,3*sc,col,op*0.4);
    E(svg,29*sc,15*sc,1*sc,1*sc,'#111',op*0.5);
    E(svg,31*sc,15*sc,1*sc,1*sc,'#111',op*0.5);
    // Antennae
    P(svg,`M${29*sc},${10*sc} Q${25*sc},${3*sc} ${22*sc},${2*sc}`,col,op*0.4,'none',0.5*sc);
    P(svg,`M${31*sc},${10*sc} Q${35*sc},${3*sc} ${38*sc},${2*sc}`,col,op*0.4,'none',0.5*sc);
    // Wing veins
    P(svg,`M${28*sc},${16*sc} L${10*sc},${12*sc}`,col,op*0.2,'none',0.3*sc);
    P(svg,`M${28*sc},${17*sc} L${8*sc},${18*sc}`,col,op*0.2,'none',0.3*sc);
    P(svg,`M${32*sc},${16*sc} L${50*sc},${12*sc}`,col,op*0.2,'none',0.3*sc);
    P(svg,`M${32*sc},${17*sc} L${52*sc},${18*sc}`,col,op*0.2,'none',0.3*sc);
    // Eye spots on wings
    E(svg,14*sc,15*sc,4*sc,4*sc,bloodCol,op*0.2,col,0.3*sc);
    E(svg,46*sc,15*sc,4*sc,4*sc,bloodCol,op*0.2,col,0.3*sc);
  }

  // Generator #87 — Sacrificial Altar
  function sacrificialAltar(parent,cx,cy,sc,op){
    const svg=S(parent,cx-45*sc,cy-35*sc,90*sc,70*sc,op);
    // Table top
    P(svg,`M${5*sc},${25*sc} L${85*sc},${25*sc} L${85*sc},${30*sc} L${5*sc},${30*sc} Z`,col,op*0.6,col,0.6*sc);
    // Legs
    P(svg,`M${10*sc},${30*sc} L${8*sc},${65*sc}`,col,op*0.5,'none',2*sc);
    P(svg,`M${80*sc},${30*sc} L${82*sc},${65*sc}`,col,op*0.5,'none',2*sc);
    // Front panel carving
    P(svg,`M${15*sc},${30*sc} L${15*sc},${60*sc} L${75*sc},${60*sc} L${75*sc},${30*sc}`,col,op*0.3,col,0.5*sc);
    // Pentagram carving
    const pcx=45,pcy=45,pr=12;
    for(let i=0;i<5;i++){
      const a1=-Math.PI/2+i*Math.PI*2/5;
      const a2=-Math.PI/2+((i+2)%5)*Math.PI*2/5;
      P(svg,`M${(pcx+Math.cos(a1)*pr)*sc},${(pcy+Math.sin(a1)*pr)*sc} L${(pcx+Math.cos(a2)*pr)*sc},${(pcy+Math.sin(a2)*pr)*sc}`,col,op*0.3,'none',0.5*sc);
    }
    // Candles on top
    for(let x=15;x<=75;x+=15){
      P(svg,`M${(x-1)*sc},${25*sc} L${(x-1)*sc},${18*sc} L${(x+1)*sc},${18*sc} L${(x+1)*sc},${25*sc}`,col,op*0.3,col,0.3*sc);
      P(svg,`M${(x-0.5)*sc},${18*sc} Q${x*sc},${14*sc} ${(x+0.5)*sc},${18*sc}`,'#b8860b',op*0.4,'#b8860b',0.2*sc);
    }
    // Blood pool on top
    P(svg,`M${30*sc},${25*sc} Q${35*sc},${23*sc} ${45*sc},${22*sc} Q${55*sc},${23*sc} ${60*sc},${25*sc}`,bloodCol,op*0.4,bloodCol,0.3*sc);
    // Blood drips from edge
    for(let i=0;i<4;i++){
      const bx=25+i*12;
      P(svg,`M${bx*sc},${30*sc} Q${(bx+R(-1,1))*sc},${(38+R(0,5))*sc} ${(bx+R(-2,2))*sc},${(45+R(0,10))*sc}`,bloodCol,op*0.4,'none',1*sc);
    }
  }

  // Generator #88 — Memento Mori Hourglass
  function mementoMori(parent,cx,cy,sc,op){
    const svg=S(parent,cx-20*sc,cy-40*sc,40*sc,80*sc,op);
    // Frame top
    P(svg,`M${5*sc},${5*sc} L${35*sc},${5*sc}`,col,op*0.6,'none',1.5*sc);
    // Frame bottom
    P(svg,`M${5*sc},${75*sc} L${35*sc},${75*sc}`,col,op*0.6,'none',1.5*sc);
    // Upper bulb
    P(svg,`M${10*sc},${8*sc} Q${8*sc},${20*sc} ${12*sc},${32*sc} Q${18*sc},${38*sc} ${20*sc},${40*sc}`,col,op*0.5,'none',0.8*sc);
    P(svg,`M${30*sc},${8*sc} Q${32*sc},${20*sc} ${28*sc},${32*sc} Q${22*sc},${38*sc} ${20*sc},${40*sc}`,col,op*0.5,'none',0.8*sc);
    // Lower bulb
    P(svg,`M${20*sc},${40*sc} Q${18*sc},${42*sc} ${12*sc},${48*sc} Q${8*sc},${58*sc} ${10*sc},${72*sc}`,col,op*0.5,'none',0.8*sc);
    P(svg,`M${20*sc},${40*sc} Q${22*sc},${42*sc} ${28*sc},${48*sc} Q${32*sc},${58*sc} ${30*sc},${72*sc}`,col,op*0.5,'none',0.8*sc);
    // Sand stream
    P(svg,`M${20*sc},${35*sc} L${20*sc},${45*sc}`,col,op*0.3,'none',0.5*sc);
    // Sand pile top
    P(svg,`M${14*sc},${25*sc} Q${20*sc},${22*sc} ${26*sc},${25*sc}`,col,op*0.2,col,0.2*sc);
    // Sand pile bottom
    P(svg,`M${14*sc},${65*sc} Q${20*sc},${60*sc} ${26*sc},${65*sc}`,col,op*0.2,col,0.2*sc);
    // Skull and crossbones on top frame
    E(svg,20*sc,3*sc,3*sc,3*sc,col,op*0.3);
    P(svg,`M${15*sc},${5*sc} L${25*sc},${5*sc}`,col,op*0.3,'none',0.8*sc);
    // Wings of time
    P(svg,`M${10*sc},${3*sc} Q${5*sc},${0} ${2*sc},${3*sc}`,col,op*0.2,'none',0.5*sc);
    P(svg,`M${30*sc},${3*sc} Q${35*sc},${0} ${38*sc},${3*sc}`,col,op*0.2,'none',0.5*sc);
  }

  // Generator #89 — Inverted Pentacle Star
  function invertedPentacle(parent,cx,cy,sc,op){
    const svg=S(parent,cx-30*sc,cy-30*sc,60*sc,60*sc,op);
    // Circle
    E(svg,30*sc,30*sc,28*sc,28*sc,'none',op*0.5,col,0.8*sc);
    // Inverted pentagram (point down)
    const pts=[];
    for(let i=0;i<5;i++){
      const a=Math.PI/2+i*Math.PI*2/5; // Point down
      pts.push({x:30*sc+Math.cos(a)*25*sc,y:30*sc+Math.sin(a)*25*sc});
    }
    for(let i=0;i<5;i++){
      P(svg,`M${pts[i].x},${pts[i].y} L${pts[(i+2)%5].x},${pts[(i+2)%5].y}`,col,op*0.6,'none',0.8*sc);
    }
    // Goat head hint (in center)
    P(svg,`M${25*sc},${22*sc} Q${30*sc},${20*sc} ${35*sc},${22*sc}`,col,op*0.3,'none',0.5*sc); // Horns
    P(svg,`M${25*sc},${22*sc} L${22*sc},${15*sc}`,col,op*0.3,'none',0.5*sc);
    P(svg,`M${35*sc},${22*sc} L${38*sc},${15*sc}`,col,op*0.3,'none',0.5*sc);
    E(svg,28*sc,26*sc,1.5*sc,1.5*sc,col,op*0.4);
    E(svg,32*sc,26*sc,1.5*sc,1.5*sc,col,op*0.4);
    P(svg,`M${29*sc},${30*sc} L${30*sc},${32*sc} L${31*sc},${30*sc}`,col,op*0.3,'none',0.4*sc);
    // Blood accents
    E(svg,30*sc,30*sc,3*sc,3*sc,bloodCol,op*0.2);
  }

  // Generator #90 — Graveyard Fence
  function graveyardFence(parent,cx,cy,sc,op){
    const svg=S(parent,cx-60*sc,cy-30*sc,120*sc,60*sc,op);
    // Horizontal rails
    P(svg,`M${0},${20*sc} L${120*sc},${20*sc}`,col,op*0.5,'none',1*sc);
    P(svg,`M${0},${45*sc} L${120*sc},${45*sc}`,col,op*0.5,'none',1*sc);
    // Vertical pickets with spear tips
    for(let x=5;x<=115;x+=10){
      P(svg,`M${x*sc},${55*sc} L${x*sc},${8*sc}`,col,op*0.5,'none',1.2*sc);
      // Spear tip
      P(svg,`M${(x-3)*sc},${10*sc} L${x*sc},${2*sc} L${(x+3)*sc},${10*sc}`,col,op*0.5,col,0.3*sc);
      // Fleur-de-lis on alternating
      if(x%20===5){
        P(svg,`M${x*sc},${8*sc} Q${(x-4)*sc},${12*sc} ${(x-2)*sc},${16*sc} Q${x*sc},${14*sc} ${(x+2)*sc},${16*sc} Q${(x+4)*sc},${12*sc} ${x*sc},${8*sc}`,col,op*0.3,'none',0.4*sc);
      }
    }
    // Ground line
    P(svg,`M${0},${55*sc} L${120*sc},${55*sc}`,col,op*0.3,'none',0.5*sc);
  }

  // Generator #91 — Dripping Candle Cluster
  function candleCluster(parent,cx,cy,sc,op){
    const svg=S(parent,cx-25*sc,cy-40*sc,50*sc,80*sc,op);
    const candles=[{x:15,h:35},{x:22,h:45},{x:30,h:50},{x:38,h:42},{x:45,h:30}];
    candles.forEach(c=>{
      const base=70;
      // Candle body
      P(svg,`M${(c.x-2)*sc},${base*sc} L${(c.x-2)*sc},${(base-c.h)*sc} L${(c.x+2)*sc},${(base-c.h)*sc} L${(c.x+2)*sc},${base*sc}`,col,op*0.4,col,0.4*sc);
      // Flame
      P(svg,`M${(c.x-1)*sc},${(base-c.h)*sc} Q${c.x*sc},${(base-c.h-8)*sc} ${(c.x+1)*sc},${(base-c.h)*sc}`,'#b8860b',op*0.5,'#b8860b',0.3*sc);
      // Dripping wax
      for(let i=0;i<RI(2,4);i++){
        const dy=R(5,c.h*0.6);
        P(svg,`M${(c.x+R(-2,2))*sc},${(base-c.h+dy)*sc} Q${(c.x+R(-3,3))*sc},${(base-c.h+dy+R(3,8))*sc} ${(c.x+R(-2,2))*sc},${(base-c.h+dy+R(8,15))*sc}`,col,op*0.3,'none',0.8*sc);
      }
    });
    // Melted wax pool at base
    P(svg,`M${8*sc},${72*sc} Q${25*sc},${68*sc} ${42*sc},${72*sc}`,col,op*0.2,col,0.2*sc);
    // Holder/plate
    E(svg,25*sc,73*sc,20*sc,3*sc,'none',op*0.3,col,0.6*sc);
  }

  // Generator #92 — Tombstone
  function tombstone(parent,cx,cy,sc,op){
    const svg=S(parent,cx-20*sc,cy-40*sc,40*sc,80*sc,op);
    // Stone shape
    P(svg,`M${5*sc},${75*sc} L${5*sc},${20*sc} Q${5*sc},${5*sc} ${20*sc},${5*sc} Q${35*sc},${5*sc} ${35*sc},${20*sc} L${35*sc},${75*sc} Z`,col,op*0.5,col,0.6*sc);
    // Cross engraving
    P(svg,`M${20*sc},${15*sc} L${20*sc},${40*sc}`,col,op*0.3,'none',1*sc);
    P(svg,`M${13*sc},${25*sc} L${27*sc},${25*sc}`,col,op*0.3,'none',1*sc);
    // RIP text suggestion
    P(svg,`M${12*sc},${50*sc} L${28*sc},${50*sc}`,col,op*0.2,'none',0.5*sc);
    P(svg,`M${14*sc},${55*sc} L${26*sc},${55*sc}`,col,op*0.2,'none',0.5*sc);
    P(svg,`M${15*sc},${60*sc} L${25*sc},${60*sc}`,col,op*0.2,'none',0.5*sc);
    // Ground
    P(svg,`M${0},${75*sc} Q${20*sc},${72*sc} ${40*sc},${75*sc}`,col,op*0.3,'none',0.5*sc);
    // Cracks
    P(svg,`M${15*sc},${35*sc} Q${12*sc},${42*sc} ${14*sc},${50*sc}`,col,op*0.15,'none',0.3*sc);
    // Moss/growth
    P(svg,`M${5*sc},${65*sc} Q${8*sc},${62*sc} ${12*sc},${65*sc} Q${10*sc},${60*sc} ${14*sc},${63*sc}`,col,op*0.15,'none',0.3*sc);
  }

  // Generator #93 — Demonic Sigil
  function demonicSigil(parent,cx,cy,sc,op){
    const svg=S(parent,cx-30*sc,cy-30*sc,60*sc,60*sc,op);
    // Outer circle
    E(svg,30*sc,30*sc,28*sc,28*sc,'none',op*0.5,col,0.8*sc);
    // Triangle
    P(svg,`M${30*sc},${5*sc} L${5*sc},${50*sc} L${55*sc},${50*sc} Z`,'none',op*0.5,col,0.7*sc);
    // Inner inverted triangle
    P(svg,`M${30*sc},${52*sc} L${12*sc},${15*sc} L${48*sc},${15*sc} Z`,'none',op*0.3,col,0.5*sc);
    // Eye in center
    P(svg,`M${20*sc},${30*sc} Q${30*sc},${22*sc} ${40*sc},${30*sc} Q${30*sc},${38*sc} ${20*sc},${30*sc}`,col,op*0.4,col,0.4*sc);
    E(svg,30*sc,30*sc,3*sc,3*sc,bloodCol,op*0.5);
    // Radiating lines
    for(let i=0;i<8;i++){
      const a=i*Math.PI/4;
      P(svg,`M${(30+Math.cos(a)*10)*sc},${(30+Math.sin(a)*10)*sc} L${(30+Math.cos(a)*26)*sc},${(30+Math.sin(a)*26)*sc}`,col,op*0.2,'none',0.4*sc);
    }
    // Rune marks at cardinal points
    for(let i=0;i<4;i++){
      const a=i*Math.PI/2;
      const rx=30+Math.cos(a)*28,ry=30+Math.sin(a)*28;
      P(svg,`M${(rx-2)*sc},${(ry-2)*sc} L${(rx+2)*sc},${(ry+2)*sc} M${(rx+2)*sc},${(ry-2)*sc} L${(rx-2)*sc},${(ry+2)*sc}`,col,op*0.3,'none',0.5*sc);
    }
  }

  // Generator #94 — Thorned Crown Halo
  function thornedCrownHalo(parent,cx,cy,sc,op){
    const svg=S(parent,cx-35*sc,cy-35*sc,70*sc,70*sc,op);
    // Halo ring
    E(svg,35*sc,35*sc,30*sc,30*sc,'none',op*0.4,col,1.2*sc);
    E(svg,35*sc,35*sc,25*sc,25*sc,'none',op*0.3,col,0.6*sc);
    // Thorns radiating outward
    for(let i=0;i<16;i++){
      const a=i*Math.PI/8;
      const ir=26*sc,or_=32*sc;
      const x1=35*sc+Math.cos(a)*ir,y1=35*sc+Math.sin(a)*ir;
      const x2=35*sc+Math.cos(a)*or_,y2=35*sc+Math.sin(a)*or_;
      P(svg,`M${x1},${y1} L${x2},${y2}`,col,op*0.5,'none',0.8*sc);
      // Barb
      const mx=(x1+x2)/2,my=(y1+y2)/2;
      const pa=a+Math.PI/2;
      P(svg,`M${mx},${my} L${mx+Math.cos(pa)*3*sc},${my+Math.sin(pa)*3*sc}`,col,op*0.3,'none',0.5*sc);
    }
    // Inner thorned vine wrapping
    for(let i=0;i<24;i++){
      const a1=i/24*Math.PI*2;
      const a2=(i+1)/24*Math.PI*2;
      const r=27.5*sc;
      P(svg,`M${35*sc+Math.cos(a1)*r},${35*sc+Math.sin(a1)*r} L${35*sc+Math.cos(a2)*r},${35*sc+Math.sin(a2)*r}`,col,op*0.3,'none',0.5*sc);
      if(i%3===0){
        const ta=a1+0.1;
        P(svg,`M${35*sc+Math.cos(a1)*r},${35*sc+Math.sin(a1)*r} L${35*sc+Math.cos(ta)*(r-4*sc)},${35*sc+Math.sin(ta)*(r-4*sc)}`,col,op*0.3,'none',0.4*sc);
      }
    }
    // Blood drops
    for(let i=0;i<4;i++){
      const a=i*Math.PI/2+0.3;
      const bx=35*sc+Math.cos(a)*28*sc;
      const by=35*sc+Math.sin(a)*28*sc;
      P(svg,`M${bx},${by} Q${bx+R(-2,2)*sc},${by+5*sc} ${bx+R(-3,3)*sc},${by+10*sc}`,bloodCol,op*0.4,'none',0.8*sc);
    }
  }

  // Generator #95 — Chained Hanging Skeleton
  function hangingSkeleton(parent,cx,cy,sc,op){
    const svg=S(parent,cx-20*sc,cy-60*sc,40*sc,120*sc,op);
    // Chain from top
    for(let y=0;y<20;y+=4){
      E(svg,20*sc,y*sc,3*sc,2*sc,'none',op*0.5,col,0.7*sc);
    }
    // Skull
    E(svg,20*sc,25*sc,7*sc,8*sc,col,op*0.5,col,0.5*sc);
    E(svg,17*sc,23*sc,2*sc,2.5*sc,'#111',op*0.6);
    E(svg,23*sc,23*sc,2*sc,2.5*sc,'#111',op*0.6);
    P(svg,`M${19*sc},${28*sc} L${20*sc},${30*sc} L${21*sc},${28*sc}`,col,op*0.4,'none',0.4*sc);
    // Jaw
    P(svg,`M${14*sc},${30*sc} Q${20*sc},${35*sc} ${26*sc},${30*sc}`,col,op*0.4,'none',0.6*sc);
    // Spine
    for(let y=33;y<70;y+=4){
      E(svg,20*sc,y*sc,2*sc,2*sc,col,op*0.3);
    }
    // Ribcage
    for(let i=0;i<5;i++){
      const ry=38+i*5;
      P(svg,`M${20*sc},${ry*sc} Q${12*sc},${(ry+2)*sc} ${10*sc},${(ry+4)*sc}`,col,op*0.3,'none',0.5*sc);
      P(svg,`M${20*sc},${ry*sc} Q${28*sc},${(ry+2)*sc} ${30*sc},${(ry+4)*sc}`,col,op*0.3,'none',0.5*sc);
    }
    // Arms (dangling)
    P(svg,`M${14*sc},${40*sc} Q${8*sc},${55*sc} ${6*sc},${70*sc} L${5*sc},${78*sc}`,col,op*0.3,'none',0.6*sc);
    P(svg,`M${26*sc},${40*sc} Q${32*sc},${55*sc} ${34*sc},${70*sc} L${35*sc},${78*sc}`,col,op*0.3,'none',0.6*sc);
    // Pelvis
    P(svg,`M${14*sc},${70*sc} Q${20*sc},${75*sc} ${26*sc},${70*sc}`,col,op*0.3,'none',0.6*sc);
    // Legs (dangling)
    P(svg,`M${16*sc},${72*sc} Q${14*sc},${90*sc} ${12*sc},${110*sc}`,col,op*0.3,'none',0.5*sc);
    P(svg,`M${24*sc},${72*sc} Q${26*sc},${90*sc} ${28*sc},${110*sc}`,col,op*0.3,'none',0.5*sc);
    // Shackles on wrists
    E(svg,6*sc,70*sc,3*sc,2*sc,'none',op*0.4,col,0.7*sc);
    E(svg,34*sc,70*sc,3*sc,2*sc,'none',op*0.4,col,0.7*sc);
  }


  // ████████████████████████████████████████████████████████████████████████
  // ██  LAYER XIX — GEHENNA: GENERATORS #96-130                          ██
  // ██  Impaled skulls, blood fountains, flayed banners, gore cascades,  ██
  // ██  crucified forms, severed hands, torture wheels, bleeding windows, ██
  // ██  viscera vines, iron maiden doors, bone cathedrals, flesh altars  ██
  // ████████████████████████████████████████████████████████████████████████

  // Generator #96 — Impaled Skull on Pike
  function impaledSkull(parent,cx,cy,sc,op){
    const svg=S(parent,cx-15*sc,cy-80*sc,30*sc,120*sc,op);
    P(svg,`M${15*sc},${120*sc} L${15*sc},${30*sc}`,col,op*0.6,'none',1.2*sc);
    P(svg,`M${14*sc},${120*sc} L${14*sc},${35*sc}`,col,op*0.15,'none',0.3*sc);
    P(svg,`M${16*sc},${120*sc} L${16*sc},${35*sc}`,col,op*0.15,'none',0.3*sc);
    P(svg,`M${15*sc},${30*sc} L${13*sc},${25*sc} L${15*sc},${5*sc} L${17*sc},${25*sc} Z`,col,op*0.5,col,0.5*sc);
    E(svg,15*sc,18*sc,9*sc,10*sc,col,op*0.4,col,0.6*sc);
    E(svg,12*sc,16*sc,2.5*sc,3*sc,'#111',op*0.7);
    E(svg,18*sc,16*sc,2.5*sc,3*sc,'#111',op*0.7);
    P(svg,`M${14*sc},${20*sc} L${15*sc},${22*sc} L${16*sc},${20*sc}`,col,op*0.5,'none',0.5*sc);
    P(svg,`M${8*sc},${24*sc} Q${15*sc},${30*sc} ${22*sc},${24*sc}`,col,op*0.4,'none',0.7*sc);
    for(let i=0;i<6;i++){const tx=10*sc+i*2*sc;P(svg,`M${tx},${24*sc} L${tx+0.5*sc},${26*sc}`,col,op*0.3,'none',0.3*sc);}
    for(let i=0;i<5;i++){
      const bx=10*sc+R(0,10)*sc,blen=R(8,25)*sc;
      P(svg,`M${bx},${26*sc} Q${bx+R(-2,2)*sc},${26*sc+blen*0.5} ${bx+R(-3,3)*sc},${26*sc+blen}`,bloodCol,op*0.35,'none',R(0.4,0.8)*sc);
      E(svg,bx+R(-3,3)*sc,26*sc+blen+2*sc,R(0.8,1.5)*sc,R(1,2)*sc,bloodCol,op*0.25);
    }
    if(R(0,1)<0.5){P(svg,`M${5*sc},${12*sc} Q${3*sc},${8*sc} ${1*sc},${10*sc} L${4*sc},${11*sc} Q${6*sc},${9*sc} ${7*sc},${12*sc}`,col,op*0.3,'none',0.5*sc);}
    for(let i=0;i<8;i++){const a=i/8*Math.PI*2,fr=12*sc+R(-2,2)*sc;E(svg,15*sc+Math.cos(a)*fr,18*sc+Math.sin(a)*fr,0.4*sc,0.4*sc,col,op*0.15);}
  }

  // Generator #97 — Blood Fountain
  function bloodFountain(parent,cx,cy,sc,op){
    const svg=S(parent,cx-30*sc,cy-50*sc,60*sc,100*sc,op);
    P(svg,`M${10*sc},${70*sc} Q${10*sc},${80*sc} ${30*sc},${85*sc} Q${50*sc},${80*sc} ${50*sc},${70*sc}`,col,op*0.5,'none',1*sc);
    P(svg,`M${14*sc},${72*sc} Q${14*sc},${78*sc} ${30*sc},${82*sc} Q${46*sc},${78*sc} ${46*sc},${72*sc}`,col,op*0.25,'none',0.5*sc);
    P(svg,`M${22*sc},${85*sc} L${22*sc},${95*sc} L${38*sc},${95*sc} L${38*sc},${85*sc}`,col,op*0.4,'none',0.8*sc);
    P(svg,`M${30*sc},${70*sc} L${30*sc},${40*sc}`,col,op*0.5,'none',1.5*sc);
    E(svg,30*sc,38*sc,5*sc,3*sc,col,op*0.3,col,0.5*sc);
    P(svg,`M${30*sc},${35*sc} L${28*sc},${30*sc} L${30*sc},${25*sc} L${32*sc},${30*sc} Z`,col,op*0.4,col,0.4*sc);
    for(let side=-1;side<=1;side+=2){for(let i=0;i<3;i++){
      const spread=8+i*5,height=15+i*8;
      P(svg,`M${30*sc},${35*sc} Q${(30+side*spread)*sc},${(35-height)*sc} ${(30+side*spread*1.5)*sc},${65*sc}`,bloodCol,op*(0.3-i*0.06),'none',R(0.5,1)*sc);
    }}
    E(svg,30*sc,75*sc,15*sc,4*sc,bloodCol,op*0.2);
    for(let i=0;i<6;i++){const dx=14*sc+i*5.5*sc,dlen=R(5,20)*sc;P(svg,`M${dx},${80*sc} L${dx+R(-1,1)*sc},${80*sc+dlen}`,bloodCol,op*0.25,'none',R(0.3,0.6)*sc);}
    for(let side=-1;side<=1;side+=2){const gx=30*sc+side*14*sc;E(svg,gx,74*sc,3*sc,2.5*sc,col,op*0.2,col,0.3*sc);E(svg,gx-1*sc,73*sc,0.6*sc,0.8*sc,'#111',op*0.4);E(svg,gx+1*sc,73*sc,0.6*sc,0.8*sc,'#111',op*0.4);}
  }

  // Generator #98 — Flayed Skin Banner
  function flayedBanner(parent,cx,cy,sc,op){
    const svg=S(parent,cx-20*sc,cy-40*sc,40*sc,100*sc,op);
    P(svg,`M${8*sc},${0} L${32*sc},${0}`,col,op*0.6,'none',1.5*sc);
    E(svg,8*sc,0,2*sc,2*sc,col,op*0.4,col,0.5*sc);E(svg,32*sc,0,2*sc,2*sc,col,op*0.4,col,0.5*sc);
    P(svg,`M${8*sc},${2*sc} Q${10*sc},${3*sc} ${12*sc},${2*sc} L${12*sc},${65*sc} Q${14*sc},${72*sc} ${16*sc},${68*sc} L${18*sc},${75*sc} Q${20*sc},${70*sc} ${22*sc},${73*sc} L${24*sc},${67*sc} Q${26*sc},${72*sc} ${28*sc},${66*sc} L${28*sc},${2*sc} Q${30*sc},${3*sc} ${32*sc},${2*sc}`,col,op*0.3,col+'22',0.6*sc);
    for(let y=10;y<60;y+=8){const lw=R(8,18)*sc;P(svg,`M${(20-lw/2/sc)*sc},${y*sc} L${(20+lw/2/sc)*sc},${y*sc}`,col,op*0.12,'none',0.3*sc);}
    for(let i=0;i<4;i++){const bx=R(12,28)*sc,by=R(15,60)*sc;E(svg,bx,by,R(2,5)*sc,R(2,4)*sc,bloodCol,op*0.15);}
    for(let x=12;x<30;x+=8){P(svg,`M${x*sc},${0} L${x*sc},${-3*sc} Q${(x+1)*sc},${-5*sc} ${(x+2)*sc},${-3*sc}`,col,op*0.4,'none',0.6*sc);}
  }

  // Generator #99 — Crucified Skeleton
  function crucifiedSkeleton(parent,cx,cy,sc,op){
    const svg=S(parent,cx-35*sc,cy-60*sc,70*sc,130*sc,op);
    P(svg,`M${35*sc},${0} L${35*sc},${120*sc}`,col,op*0.5,'none',1.5*sc);
    P(svg,`M${5*sc},${25*sc} L${65*sc},${25*sc}`,col,op*0.5,'none',1.2*sc);
    E(svg,35*sc,18*sc,6*sc,7*sc,col,op*0.45,col,0.5*sc);
    E(svg,32*sc,16*sc,1.8*sc,2.2*sc,'#111',op*0.6);E(svg,38*sc,16*sc,1.8*sc,2.2*sc,'#111',op*0.6);
    P(svg,`M${34*sc},${20*sc} L${35*sc},${22*sc} L${36*sc},${20*sc}`,col,op*0.4,'none',0.4*sc);
    P(svg,`M${30*sc},${23*sc} Q${35*sc},${27*sc} ${40*sc},${23*sc}`,col,op*0.35,'none',0.5*sc);
    for(let i=0;i<7;i++){const ry=32+i*4;P(svg,`M${35*sc},${ry*sc} Q${28*sc},${(ry+2)*sc} ${25*sc},${(ry+3)*sc}`,col,op*0.25,'none',0.5*sc);P(svg,`M${35*sc},${ry*sc} Q${42*sc},${(ry+2)*sc} ${45*sc},${(ry+3)*sc}`,col,op*0.25,'none',0.5*sc);}
    P(svg,`M${35*sc},${28*sc} Q${25*sc},${26*sc} ${10*sc},${25*sc}`,col,op*0.3,'none',0.7*sc);
    P(svg,`M${35*sc},${28*sc} Q${45*sc},${26*sc} ${60*sc},${25*sc}`,col,op*0.3,'none',0.7*sc);
    E(svg,8*sc,25*sc,3*sc,2*sc,col,op*0.25,col,0.3*sc);E(svg,62*sc,25*sc,3*sc,2*sc,col,op*0.25,col,0.3*sc);
    P(svg,`M${8*sc},${23*sc} L${8*sc},${27*sc}`,col,op*0.5,'none',0.8*sc);P(svg,`M${62*sc},${23*sc} L${62*sc},${27*sc}`,col,op*0.5,'none',0.8*sc);
    P(svg,`M${30*sc},${62*sc} Q${35*sc},${68*sc} ${40*sc},${62*sc}`,col,op*0.3,'none',0.6*sc);
    P(svg,`M${32*sc},${65*sc} Q${30*sc},${85*sc} ${28*sc},${105*sc}`,col,op*0.25,'none',0.5*sc);
    P(svg,`M${38*sc},${65*sc} Q${40*sc},${85*sc} ${42*sc},${105*sc}`,col,op*0.25,'none',0.5*sc);
    P(svg,`M${35*sc},${108*sc} L${35*sc},${112*sc}`,col,op*0.5,'none',0.8*sc);
    for(let wx of[8,62]){for(let i=0;i<3;i++){P(svg,`M${wx*sc},${27*sc} Q${(wx+R(-3,3))*sc},${(30+i*8)*sc} ${(wx+R(-4,4))*sc},${(35+i*12)*sc}`,bloodCol,op*0.3,'none',R(0.3,0.6)*sc);}}
    P(svg,`M${35*sc},${112*sc} Q${34*sc},${116*sc} ${33*sc},${125*sc}`,bloodCol,op*0.3,'none',0.5*sc);
  }

  // Generator #100 — Torture Wheel
  function tortureWheel(parent,cx,cy,sc,op){
    const svg=S(parent,cx-35*sc,cy-35*sc,70*sc,75*sc,op);const c=35*sc;
    E(svg,c,c,30*sc,30*sc,'none',op*0.5,col,1.2*sc);E(svg,c,c,28*sc,28*sc,'none',op*0.2,col,0.4*sc);
    E(svg,c,c,4*sc,4*sc,col,op*0.3,col,0.5*sc);E(svg,c,c,2*sc,2*sc,col,op*0.5);
    for(let i=0;i<8;i++){const a=i/8*Math.PI*2;P(svg,`M${c+Math.cos(a)*4*sc},${c+Math.sin(a)*4*sc} L${c+Math.cos(a)*28*sc},${c+Math.sin(a)*28*sc}`,col,op*0.4,'none',0.8*sc);}
    for(let i=0;i<16;i++){const a=i/16*Math.PI*2,ix=c+Math.cos(a)*30*sc,iy=c+Math.sin(a)*30*sc,ox=c+Math.cos(a)*35*sc,oy=c+Math.sin(a)*35*sc;P(svg,`M${ix},${iy} L${ox},${oy}`,col,op*0.35,'none',0.6*sc);const pa=a+Math.PI/2,mx=(ix+ox)/2,my=(iy+oy)/2;P(svg,`M${mx},${my} L${mx+Math.cos(pa)*2*sc},${my+Math.sin(pa)*2*sc}`,col,op*0.2,'none',0.3*sc);}
    for(let i=0;i<4;i++){const a=i/4*Math.PI*2+Math.PI/8,r=18*sc,bx=c+Math.cos(a)*r,by=c+Math.sin(a)*r;E(svg,bx,by,3*sc,1.5*sc,'none',op*0.25,col,0.4*sc);}
    for(let i=0;i<6;i++){const a=R(0,Math.PI*2),r=R(8,26)*sc;E(svg,c+Math.cos(a)*r,c+Math.sin(a)*r,R(1,3)*sc,R(1,2)*sc,bloodCol,op*0.15);}
    P(svg,`M${c},${c+30*sc} L${c},${c+42*sc}`,col,op*0.4,'none',1.5*sc);
  }

  // Generator #101 — Bleeding Cathedral Window
  function bleedingWindow(parent,cx,cy,sc,op){
    const svg=S(parent,cx-25*sc,cy-45*sc,50*sc,90*sc,op);const mx=25*sc;
    P(svg,`M${8*sc},${85*sc} L${8*sc},${30*sc} Q${8*sc},${5*sc} ${mx},${2*sc} Q${42*sc},${5*sc} ${42*sc},${30*sc} L${42*sc},${85*sc}`,col,op*0.5,'none',1*sc);
    P(svg,`M${12*sc},${82*sc} L${12*sc},${32*sc} Q${12*sc},${10*sc} ${mx},${7*sc} Q${38*sc},${10*sc} ${38*sc},${32*sc} L${38*sc},${82*sc}`,col,op*0.25,'none',0.5*sc);
    P(svg,`M${mx},${7*sc} L${mx},${82*sc}`,col,op*0.3,'none',0.5*sc);
    P(svg,`M${12*sc},${45*sc} L${38*sc},${45*sc}`,col,op*0.25,'none',0.4*sc);
    E(svg,mx,20*sc,8*sc,8*sc,'none',op*0.3,col,0.5*sc);E(svg,mx,20*sc,5*sc,5*sc,'none',op*0.2,col,0.3*sc);
    for(let i=0;i<6;i++){const a=i/6*Math.PI*2;E(svg,mx+Math.cos(a)*6*sc,20*sc+Math.sin(a)*6*sc,2.5*sc,2.5*sc,'none',op*0.15,col,0.25*sc);}
    for(let side=-1;side<=1;side+=2){const px=mx+side*8.5*sc;P(svg,`M${px-6*sc},${45*sc} Q${px-6*sc},${33*sc} ${px},${30*sc} Q${px+6*sc},${33*sc} ${px+6*sc},${45*sc}`,col,op*0.2,'none',0.3*sc);}
    for(let i=0;i<8;i++){const bx=R(12,38)*sc,bstart=R(20,50)*sc,blen=R(20,35)*sc;P(svg,`M${bx},${bstart} Q${bx+R(-2,2)*sc},${bstart+blen*0.3} ${bx+R(-3,3)*sc},${bstart+blen*0.6} Q${bx+R(-2,2)*sc},${bstart+blen*0.8} ${bx+R(-4,4)*sc},${bstart+blen}`,bloodCol,op*0.25,'none',R(0.3,0.8)*sc);}
    E(svg,mx,84*sc,12*sc,3*sc,bloodCol,op*0.15);
  }

  // Generator #102 — Gore Drip Cascade
  function goreCascade(parent,cx,cy,sc,op){
    const svg=S(parent,cx-25*sc,cy-5*sc,50*sc,80*sc,op);
    P(svg,`M${15*sc},${2*sc} Q${20*sc},${0} ${25*sc},${1*sc} Q${30*sc},${0} ${35*sc},${2*sc} Q${30*sc},${5*sc} ${25*sc},${4*sc} Q${20*sc},${5*sc} ${15*sc},${2*sc}`,bloodCol,op*0.35,bloodCol+'22',0.5*sc);
    for(let i=0;i<8;i++){const sx=R(16,34)*sc;let d='M'+sx+','+5*sc;let y=5,x=sx/sc;
    for(let j=0;j<RI(6,12);j++){y+=R(3,8);x+=R(-2,2);d+=` Q${x*sc+R(-2,2)*sc},${y*sc-R(1,3)*sc} ${x*sc},${y*sc}`;}
    P(svg,d,bloodCol,op*(0.15+R(0,0.2)),'none',R(0.3,1.2)*sc);}
    for(let i=0;i<12;i++){E(svg,R(10,40)*sc,R(55,75)*sc,R(0.5,2.5)*sc,R(0.5,2)*sc,bloodCol,op*R(0.08,0.2));}
    E(svg,25*sc,72*sc,18*sc,5*sc,bloodCol,op*0.12);
  }

  // Generator #103 — Severed Hand Holding Chalice
  function severedHandChalice(parent,cx,cy,sc,op){
    const svg=S(parent,cx-20*sc,cy-35*sc,40*sc,70*sc,op);
    P(svg,`M${14*sc},${55*sc} L${12*sc},${52*sc} L${15*sc},${50*sc} L${13*sc},${48*sc} L${16*sc},${46*sc} L${14*sc},${44*sc} L${26*sc},${44*sc} L${24*sc},${46*sc} L${27*sc},${48*sc} L${25*sc},${50*sc} L${28*sc},${52*sc} L${26*sc},${55*sc}`,bloodCol,op*0.4,bloodCol+'33',0.6*sc);
    P(svg,`M${14*sc},${44*sc} Q${12*sc},${35*sc} ${14*sc},${28*sc} L${26*sc},${28*sc} Q${28*sc},${35*sc} ${26*sc},${44*sc}`,col,op*0.35,col+'15',0.6*sc);
    for(let i=0;i<4;i++){const fx=16+i*2.5;P(svg,`M${fx*sc},${28*sc} Q${(fx-1)*sc},${22*sc} ${fx*sc},${18*sc}`,col,op*0.3,'none',0.5*sc);}
    P(svg,`M${14*sc},${30*sc} Q${10*sc},${26*sc} ${11*sc},${20*sc}`,col,op*0.3,'none',0.5*sc);
    P(svg,`M${14*sc},${18*sc} Q${14*sc},${8*sc} ${20*sc},${5*sc} Q${26*sc},${8*sc} ${26*sc},${18*sc}`,col,op*0.5,'none',0.8*sc);
    E(svg,20*sc,8*sc,4*sc,2*sc,bloodCol,op*0.25);
    for(let i=0;i<4;i++){const bx=R(14,26)*sc;P(svg,`M${bx},${55*sc} L${bx+R(-1,1)*sc},${(55+R(5,15))*sc}`,bloodCol,op*0.3,'none',R(0.3,0.6)*sc);}
  }

  // Generator #104 — Ribcage Cage
  function ribcageCage(parent,cx,cy,sc,op){
    const svg=S(parent,cx-20*sc,cy-35*sc,40*sc,70*sc,op);
    for(let y=5;y<60;y+=3.5){E(svg,20*sc,y*sc,2*sc,1.8*sc,col,op*0.3,col,0.3*sc);}
    for(let i=0;i<12;i++){const ry=8+i*4,spread=12-Math.abs(i-5)*0.8;
    P(svg,`M${20*sc},${ry*sc} Q${(20-spread*0.6)*sc},${(ry+1)*sc} ${(20-spread)*sc},${(ry+2.5)*sc} Q${(20-spread*0.8)*sc},${(ry+4)*sc} ${(20-spread*0.5)*sc},${(ry+4.5)*sc}`,col,op*0.3,'none',0.6*sc);
    P(svg,`M${20*sc},${ry*sc} Q${(20+spread*0.6)*sc},${(ry+1)*sc} ${(20+spread)*sc},${(ry+2.5)*sc} Q${(20+spread*0.8)*sc},${(ry+4)*sc} ${(20+spread*0.5)*sc},${(ry+4.5)*sc}`,col,op*0.3,'none',0.6*sc);}
    E(svg,20*sc,30*sc,6*sc,12*sc,col,op*0.06);
    for(let i=0;i<6;i++){const by=R(10,48)*sc,side=R(0,1)>0.5?1:-1;P(svg,`M${(20+side*R(3,8))*sc},${by} L${(20+side*R(5,12))*sc},${by+R(4,10)*sc}`,bloodCol,op*0.18,'none',0.3*sc);}
  }

  // Generator #105 — Screaming Face
  function screamingFace(parent,cx,cy,sc,op){
    const svg=S(parent,cx-20*sc,cy-25*sc,40*sc,50*sc,op);
    P(svg,`M${10*sc},${20*sc} Q${8*sc},${10*sc} ${15*sc},${5*sc} Q${20*sc},${2*sc} ${25*sc},${5*sc} Q${32*sc},${10*sc} ${30*sc},${20*sc} Q${32*sc},${30*sc} ${25*sc},${38*sc} Q${20*sc},${42*sc} ${15*sc},${38*sc} Q${8*sc},${30*sc} ${10*sc},${20*sc}`,col,op*0.3,col+'0a',0.6*sc);
    E(svg,15*sc,16*sc,3*sc,4*sc,'#111',op*0.5,col,0.4*sc);E(svg,25*sc,16*sc,3*sc,4*sc,'#111',op*0.5,col,0.4*sc);
    P(svg,`M${14*sc},${28*sc} Q${16*sc},${24*sc} ${20*sc},${23*sc} Q${24*sc},${24*sc} ${26*sc},${28*sc} Q${24*sc},${35*sc} ${20*sc},${36*sc} Q${16*sc},${35*sc} ${14*sc},${28*sc}`,col,op*0.5,'#111',0.5*sc);
    for(let i=0;i<5;i++){const tx=15+i*2.2;P(svg,`M${tx*sc},${24*sc} L${(tx+0.5)*sc},${26*sc}`,col,op*0.3,'none',0.3*sc);P(svg,`M${tx*sc},${34*sc} L${(tx+0.5)*sc},${32*sc}`,col,op*0.3,'none',0.3*sc);}
    for(let i=0;i<16;i++){const a=i/16*Math.PI*2,r1=20*sc,r2=r1+R(3,10)*sc;P(svg,`M${20*sc+Math.cos(a)*r1},${22*sc+Math.sin(a)*r1} L${20*sc+Math.cos(a)*r2},${22*sc+Math.sin(a)*r2}`,col,op*0.1,'none',0.2*sc);}
    P(svg,`M${15*sc},${20*sc} Q${14*sc},${25*sc} ${13*sc},${30*sc}`,bloodCol,op*0.2,'none',0.3*sc);
    P(svg,`M${25*sc},${20*sc} Q${26*sc},${25*sc} ${27*sc},${30*sc}`,bloodCol,op*0.2,'none',0.3*sc);
  }

  // Generator #106 — Bleeding Eye of Providence
  function bleedingEye(parent,cx,cy,sc,op){
    const svg=S(parent,cx-25*sc,cy-20*sc,50*sc,40*sc,op);const mx=25*sc,my=20*sc;
    P(svg,`M${mx},${3*sc} L${5*sc},${35*sc} L${45*sc},${35*sc} Z`,col,op*0.35,'none',0.8*sc);
    P(svg,`M${10*sc},${my} Q${mx},${10*sc} ${40*sc},${my} Q${mx},${30*sc} ${10*sc},${my}`,col,op*0.4,'none',0.7*sc);
    E(svg,mx,my,6*sc,6*sc,'none',op*0.35,col,0.6*sc);E(svg,mx,my,3*sc,3*sc,col,op*0.5);
    for(let i=0;i<12;i++){const a=-Math.PI/2+R(-0.8,0.8),rlen=R(8,18)*sc;P(svg,`M${mx},${3*sc} L${mx+Math.cos(a)*rlen},${3*sc+Math.sin(a)*rlen}`,col,op*0.15,'none',0.3*sc);}
    for(let side=-1;side<=1;side+=2){const ex=mx+side*4*sc;for(let i=0;i<3;i++){P(svg,`M${ex},${my+3*sc} Q${ex+R(-2,2)*sc},${my+(8+i*6)*sc} ${ex+R(-3,3)*sc},${my+(12+i*8)*sc}`,bloodCol,op*(0.3-i*0.05),'none',R(0.3,0.6)*sc);}}
  }

  // Generator #107 — Pentagram Blood Circle
  function pentagramBlood(parent,cx,cy,sc,op){
    const svg=S(parent,cx-30*sc,cy-30*sc,60*sc,60*sc,op);const c=30*sc;
    E(svg,c,c,28*sc,28*sc,'none',op*0.35,col,0.8*sc);
    const pts=[];for(let i=0;i<5;i++){const a=i/5*Math.PI*2-Math.PI/2;pts.push({x:c+Math.cos(a)*24*sc,y:c+Math.sin(a)*24*sc});}
    for(let i=0;i<5;i++){const j=(i+2)%5;P(svg,`M${pts[i].x},${pts[i].y} L${pts[j].x},${pts[j].y}`,col,op*0.4,'none',0.7*sc);}
    for(let i=0;i<12;i++){const a=i/12*Math.PI*2,rx=c+Math.cos(a)*27*sc,ry=c+Math.sin(a)*27*sc;P(svg,`M${rx},${ry} L${rx+R(-2,2)*sc},${ry+R(-2,2)*sc}`,col,op*0.15,'none',0.3*sc);}
    for(const pt of pts){E(svg,pt.x,pt.y,R(1.5,3)*sc,R(1,2)*sc,bloodCol,op*0.25);P(svg,`M${pt.x},${pt.y} Q${pt.x+R(-3,3)*sc},${pt.y+R(3,8)*sc} ${pt.x+R(-4,4)*sc},${pt.y+R(8,15)*sc}`,bloodCol,op*0.2,'none',0.4*sc);}
    E(svg,c,c,3*sc,3*sc,col,op*0.3,col,0.4*sc);
  }

  // Generator #108 — Hanging Meat Hook
  function meatHook(parent,cx,cy,sc,op){
    const svg=S(parent,cx-10*sc,cy-50*sc,20*sc,80*sc,op);
    for(let y=0;y<25;y+=4){E(svg,10*sc,y*sc,2.5*sc,2*sc,'none',op*0.45,col,0.6*sc);}
    P(svg,`M${10*sc},${25*sc} L${10*sc},${40*sc} Q${10*sc},${50*sc} ${15*sc},${52*sc} Q${18*sc},${48*sc} ${14*sc},${45*sc}`,col,op*0.5,'none',1.2*sc);
    P(svg,`M${10*sc},${35*sc} Q${6*sc},${42*sc} ${7*sc},${55*sc} Q${8*sc},${62*sc} ${12*sc},${65*sc} Q${16*sc},${62*sc} ${15*sc},${55*sc} Q${14*sc},${48*sc} ${10*sc},${38*sc}`,col,op*0.2,col+'15',0.5*sc);
    for(let i=0;i<5;i++){const bx=R(7,14)*sc,by=R(50,65)*sc;P(svg,`M${bx},${by} L${bx+R(-1,1)*sc},${by+R(5,18)*sc}`,bloodCol,op*0.3,'none',R(0.3,0.7)*sc);E(svg,bx+R(-1,1)*sc,by+R(8,20)*sc,R(0.5,1.2)*sc,R(0.8,1.5)*sc,bloodCol,op*0.2);}
  }

  // Generator #109 — Skull Pile
  function skullPile(parent,cx,cy,sc,op){
    const svg=S(parent,cx-30*sc,cy-20*sc,60*sc,40*sc,op);
    const skulls=[{x:15,y:30,s:1},{x:30,y:32,s:0.9},{x:45,y:30,s:1.1},{x:10,y:22,s:0.8},{x:25,y:20,s:1},{x:38,y:21,s:0.9},{x:50,y:23,s:0.8},{x:20,y:12,s:0.7},{x:33,y:11,s:0.8},{x:42,y:14,s:0.7}];
    for(const sk of skulls){const sx=sk.x*sc,sy=sk.y*sc,ss=sk.s;E(svg,sx,sy,5*ss*sc,6*ss*sc,col,op*0.2,col,0.4*sc);E(svg,sx-2*ss*sc,sy-1*ss*sc,1.2*ss*sc,1.5*ss*sc,'#111',op*0.35);E(svg,sx+2*ss*sc,sy-1*ss*sc,1.2*ss*sc,1.5*ss*sc,'#111',op*0.35);P(svg,`M${sx-3*ss*sc},${sy+3*ss*sc} Q${sx},${sy+5*ss*sc} ${sx+3*ss*sc},${sy+3*ss*sc}`,col,op*0.15,'none',0.3*sc);}
    for(let i=0;i<8;i++){E(svg,R(10,50)*sc,R(15,35)*sc,R(1,3)*sc,R(0.5,1.5)*sc,bloodCol,op*0.12);}
  }

  // Generator #110 — Death's Scythe
  function deathScythe(parent,cx,cy,sc,op){
    const svg=S(parent,cx-25*sc,cy-50*sc,50*sc,100*sc,op);
    P(svg,`M${25*sc},${95*sc} L${25*sc},${10*sc}`,col,op*0.5,'none',1.2*sc);
    P(svg,`M${25*sc},${10*sc} Q${10*sc},${5*sc} ${3*sc},${15*sc} Q${0},${25*sc} ${8*sc},${30*sc} Q${15*sc},${22*sc} ${25*sc},${12*sc}`,col,op*0.4,col+'15',0.8*sc);
    for(let y=30;y<85;y+=5){P(svg,`M${23*sc},${y*sc} L${27*sc},${(y+3)*sc}`,col,op*0.15,'none',0.3*sc);}
    P(svg,`M${8*sc},${18*sc} Q${6*sc},${22*sc} ${5*sc},${28*sc}`,bloodCol,op*0.25,'none',0.5*sc);
    for(let i=0;i<3;i++){P(svg,`M${R(5,15)*sc},${R(15,25)*sc} L${R(3,12)*sc},${R(25,35)*sc}`,bloodCol,op*0.2,'none',0.3*sc);}
    E(svg,8*sc+R(-2,2)*sc,32*sc,1*sc,1.5*sc,bloodCol,op*0.2);
  }

  // Generator #111 — Anatomical Heart
  function anatomicalHeart(parent,cx,cy,sc,op){
    const svg=S(parent,cx-15*sc,cy-18*sc,30*sc,36*sc,op);
    P(svg,`M${15*sc},${32*sc} Q${5*sc},${22*sc} ${5*sc},${14*sc} Q${5*sc},${6*sc} ${10*sc},${4*sc} Q${13*sc},${3*sc} ${15*sc},${7*sc} Q${17*sc},${3*sc} ${20*sc},${4*sc} Q${25*sc},${6*sc} ${25*sc},${14*sc} Q${25*sc},${22*sc} ${15*sc},${32*sc}`,col,op*0.4,col+'15',0.7*sc);
    P(svg,`M${13*sc},${6*sc} Q${11*sc},${2*sc} ${8*sc},${1*sc}`,col,op*0.35,'none',1*sc);
    P(svg,`M${17*sc},${6*sc} Q${19*sc},${2*sc} ${22*sc},${1*sc}`,col,op*0.35,'none',0.8*sc);
    for(let i=0;i<8;i++){const vx=R(8,22)*sc,vy=R(8,28)*sc;P(svg,`M${vx},${vy} Q${vx+R(-3,3)*sc},${vy+R(-3,3)*sc} ${vx+R(-5,5)*sc},${vy+R(-5,5)*sc}`,bloodCol,op*0.2,'none',0.3*sc);}
    for(let i=0;i<4;i++){P(svg,`M${15*sc+R(-5,5)*sc},${32*sc} L${15*sc+R(-6,6)*sc},${32*sc+R(3,10)*sc}`,bloodCol,op*0.3,'none',R(0.3,0.6)*sc);}
  }

  // Generator #112 — Hanging Noose
  function hangingNoose(parent,cx,cy,sc,op){
    const svg=S(parent,cx-10*sc,cy-50*sc,20*sc,60*sc,op);
    P(svg,`M${10*sc},${0} L${10*sc},${25*sc}`,col,op*0.45,'none',0.8*sc);
    P(svg,`M${10*sc},${25*sc} Q${2*sc},${30*sc} ${2*sc},${40*sc} Q${2*sc},${50*sc} ${10*sc},${52*sc} Q${18*sc},${50*sc} ${18*sc},${40*sc} Q${18*sc},${30*sc} ${10*sc},${25*sc}`,col,op*0.4,'none',0.7*sc);
    for(let y=22;y<30;y+=1.5){P(svg,`M${8*sc},${y*sc} L${12*sc},${(y+1)*sc}`,col,op*0.3,'none',0.5*sc);}
    E(svg,10*sc,40*sc,5*sc,8*sc,col,op*0.04);
  }

  // Generator #113 — Blood Burst Splatter
  function bloodBurst(parent,cx,cy,sc,op){
    const svg=S(parent,cx-20*sc,cy-20*sc,40*sc,40*sc,op);const c=20*sc;
    E(svg,c,c,5*sc,4*sc,bloodCol,op*0.3);
    for(let i=0;i<16;i++){const a=i/16*Math.PI*2+R(-0.2,0.2),rlen=R(5,18)*sc,rw=R(0.3,1)*sc;
    P(svg,`M${c+Math.cos(a)*3*sc},${c+Math.sin(a)*3*sc} Q${c+Math.cos(a+0.2)*rlen*0.6},${c+Math.sin(a+0.2)*rlen*0.6} ${c+Math.cos(a)*rlen},${c+Math.sin(a)*rlen}`,bloodCol,op*R(0.1,0.3),'none',rw);
    if(R(0,1)<0.5){E(svg,c+Math.cos(a)*rlen+R(-1,1)*sc,c+Math.sin(a)*rlen+R(-1,1)*sc,R(0.5,1.5)*sc,R(0.5,1.2)*sc,bloodCol,op*0.15);}}
  }

  // Generator #114 — Dripping Fangs
  function drippingFangs(parent,cx,cy,sc,op){
    const svg=S(parent,cx-15*sc,cy-10*sc,30*sc,25*sc,op);
    P(svg,`M${2*sc},${5*sc} Q${15*sc},${2*sc} ${28*sc},${5*sc}`,col,op*0.35,'none',0.6*sc);
    for(let i=0;i<8;i++){const fx=5+i*3,flen=(i===1||i===6)?12:(i===2||i===5)?10:6;
    P(svg,`M${fx*sc},${5*sc} L${(fx+0.3)*sc},${(5+flen)*sc}`,col,op*0.35,'none',R(0.3,0.6)*sc);
    if(flen>8){P(svg,`M${(fx+0.3)*sc},${(5+flen)*sc} L${(fx+R(-0.5,0.5))*sc},${(5+flen+R(2,5))*sc}`,bloodCol,op*0.25,'none',0.3*sc);}}
    for(let i=0;i<3;i++){E(svg,R(7,23)*sc,R(8,12)*sc,R(1,2)*sc,R(1,1.5)*sc,bloodCol,op*0.15);}
  }

  // Generator #115 — Iron Maiden Door
  function ironMaidenDoor(parent,cx,cy,sc,op){
    const svg=S(parent,cx-20*sc,cy-40*sc,40*sc,80*sc,op);
    P(svg,`M${10*sc},${5*sc} L${5*sc},${20*sc} L${5*sc},${75*sc} L${15*sc},${78*sc} L${25*sc},${78*sc} L${35*sc},${75*sc} L${35*sc},${20*sc} L${30*sc},${5*sc} Z`,col,op*0.45,col+'11',0.8*sc);
    for(let y=15;y<70;y+=6){for(let x=10;x<30;x+=5){const sx=x+R(-1,1);P(svg,`M${sx*sc},${y*sc} L${(sx+0.5)*sc},${(y-2)*sc} L${(sx+1)*sc},${y*sc}`,col,op*0.3,'none',0.3*sc);}}
    E(svg,20*sc,18*sc,6*sc,7*sc,'none',op*0.15,col,0.3*sc);
    for(let y=20;y<70;y+=20){R2(svg,2*sc,y*sc,6*sc,4*sc,col,op*0.3,col,0.5*sc);}
    E(svg,33*sc,45*sc,2.5*sc,3*sc,col,op*0.35,col,0.5*sc);
    for(let i=0;i<5;i++){const sy=R(20,70)*sc;P(svg,`M${5*sc},${sy} Q${3*sc},${sy+R(3,8)*sc} ${2*sc},${sy+R(8,18)*sc}`,bloodCol,op*0.2,'none',0.4*sc);}
  }

  // Generator #116 — Bone Cathedral Arch
  function boneCathedralArch(parent,cx,cy,sc,op){
    const svg=S(parent,cx-40*sc,cy-50*sc,80*sc,100*sc,op);const mx=40*sc;
    for(let i=0;i<20;i++){const t=i/20*Math.PI,a2=(i+1)/20*Math.PI;
    P(svg,`M${mx+Math.cos(t)*35*sc},${85*sc-Math.sin(t)*75*sc} L${mx+Math.cos(a2)*35*sc},${85*sc-Math.sin(a2)*75*sc}`,col,op*0.4,'none',1.5*sc);
    E(svg,mx+Math.cos(t)*35*sc,85*sc-Math.sin(t)*75*sc,1.5*sc,1.5*sc,col,op*0.25);}
    for(let side=-1;side<=1;side+=2){const colX=mx+side*35*sc;
    for(let y=85;y>30;y-=10){E(svg,colX,y*sc,4*sc,5*sc,col,op*0.2,col,0.3*sc);E(svg,colX-1.5*sc,(y-1)*sc,1*sc,1.2*sc,'#111',op*0.3);E(svg,colX+1.5*sc,(y-1)*sc,1*sc,1.2*sc,'#111',op*0.3);}}
    E(svg,mx,12*sc,6*sc,7*sc,col,op*0.4,col,0.5*sc);E(svg,mx-2.5*sc,10*sc,1.5*sc,2*sc,'#111',op*0.6);E(svg,mx+2.5*sc,10*sc,1.5*sc,2*sc,'#111',op*0.6);
    for(let i=0;i<3;i++){P(svg,`M${mx+R(-3,3)*sc},${18*sc} Q${mx+R(-4,4)*sc},${(25+i*10)*sc} ${mx+R(-5,5)*sc},${(30+i*15)*sc}`,bloodCol,op*0.2,'none',0.4*sc);}
  }

  // Generator #117 — Chained Coffin
  function chainedCoffin(parent,cx,cy,sc,op){
    const svg=S(parent,cx-15*sc,cy-30*sc,30*sc,60*sc,op);
    P(svg,`M${10*sc},${5*sc} L${5*sc},${15*sc} L${5*sc},${50*sc} L${12*sc},${55*sc} L${18*sc},${55*sc} L${25*sc},${50*sc} L${25*sc},${15*sc} L${20*sc},${5*sc} Z`,col,op*0.4,col+'0d',0.7*sc);
    P(svg,`M${15*sc},${10*sc} L${15*sc},${22*sc}`,col,op*0.25,'none',0.5*sc);
    P(svg,`M${10*sc},${15*sc} L${20*sc},${15*sc}`,col,op*0.25,'none',0.4*sc);
    for(let y=18;y<48;y+=10){P(svg,`M${2*sc},${y*sc} L${28*sc},${y*sc}`,col,op*0.3,'none',0.8*sc);for(let x=4;x<26;x+=3){E(svg,x*sc,y*sc,1.5*sc,1*sc,'none',op*0.2,col,0.3*sc);}}
    for(let i=0;i<5;i++){const sx=R(8,22)*sc,sy=R(30,48)*sc;P(svg,`M${sx},${sy} L${sx+R(-3,3)*sc},${sy+R(-5,5)*sc}`,col,op*0.15,'none',0.2*sc);}
    P(svg,`M${5*sc},${25*sc} Q${3*sc},${30*sc} ${2*sc},${38*sc}`,bloodCol,op*0.2,'none',0.4*sc);
  }

  // Generator #118 — Barbed Wire Crown
  function barbedCrown(parent,cx,cy,sc,op){
    const svg=S(parent,cx-25*sc,cy-15*sc,50*sc,30*sc,op);
    E(svg,25*sc,15*sc,22*sc,10*sc,'none',op*0.35,col,0.8*sc);
    for(let i=0;i<24;i++){const a=i/24*Math.PI*2,r=20*sc,bx=25*sc+Math.cos(a)*r,by=15*sc+Math.sin(a)*(r*0.45),dir=R(0,1)>0.5?1:-1;
    P(svg,`M${bx},${by} L${bx+Math.cos(a+dir*0.8)*3*sc},${by+Math.sin(a+dir*0.8)*3*sc}`,col,op*0.35,'none',0.4*sc);}
    for(let i=0;i<8;i++){const a=i/8*Math.PI*2,bx2=25*sc+Math.cos(a)*21*sc,by2=15*sc+Math.sin(a)*9.5*sc;
    P(svg,`M${bx2},${by2} L${bx2+R(-1,1)*sc},${by2+R(3,8)*sc}`,bloodCol,op*0.25,'none',0.3*sc);}
  }

  // Generator #119 — Wound/Gash
  function woundGash(parent,cx,cy,sc,op){
    const svg=S(parent,cx-15*sc,cy-5*sc,30*sc,12*sc,op);
    P(svg,`M${2*sc},${5*sc} Q${8*sc},${3*sc} ${15*sc},${5*sc} Q${22*sc},${7*sc} ${28*sc},${5*sc}`,bloodCol,op*0.4,'none',1*sc);
    P(svg,`M${5*sc},${5*sc} Q${10*sc},${4*sc} ${15*sc},${5*sc} Q${20*sc},${6*sc} ${25*sc},${5*sc}`,bloodCol,op*0.3,bloodCol+'22',0.5*sc);
    for(let x=6;x<24;x+=3){P(svg,`M${x*sc},${3*sc} L${(x+1.5)*sc},${7*sc}`,col,op*0.25,'none',0.3*sc);}
    for(let i=0;i<4;i++){const sx=R(6,24)*sc;P(svg,`M${sx},${6*sc} L${sx+R(-1,1)*sc},${6*sc+R(2,6)*sc}`,bloodCol,op*0.2,'none',0.3*sc);}
  }

  // Generator #120 — Flesh Altar
  function fleshAltar(parent,cx,cy,sc,op){
    const svg=S(parent,cx-30*sc,cy-25*sc,60*sc,50*sc,op);
    P(svg,`M${5*sc},${25*sc} L${10*sc},${20*sc} L${50*sc},${20*sc} L${55*sc},${25*sc} L${55*sc},${30*sc} L${5*sc},${30*sc} Z`,col,op*0.4,col+'15',0.7*sc);
    P(svg,`M${10*sc},${30*sc} L${8*sc},${45*sc}`,col,op*0.35,'none',1*sc);
    P(svg,`M${50*sc},${30*sc} L${52*sc},${45*sc}`,col,op*0.35,'none',1*sc);
    E(svg,30*sc,28*sc,4*sc,3.5*sc,col,op*0.25,col,0.4*sc);
    for(let i=0;i<5;i++){const cx2=14+i*8,ch=R(8,16);
    P(svg,`M${cx2*sc},${20*sc} L${cx2*sc},${(20-ch)*sc}`,col,op*0.3,'none',0.8*sc);
    P(svg,`M${cx2*sc},${(20-ch)*sc} Q${(cx2-1.5)*sc},${(20-ch-4)*sc} ${cx2*sc},${(20-ch-6)*sc} Q${(cx2+1.5)*sc},${(20-ch-4)*sc} ${cx2*sc},${(20-ch)*sc}`,col,op*0.2,col+'11',0.3*sc);}
    E(svg,30*sc,22*sc,12*sc,3*sc,bloodCol,op*0.15);
    for(let i=0;i<4;i++){const dx=R(10,50)*sc;P(svg,`M${dx},${30*sc} L${dx+R(-1,1)*sc},${(30+R(5,15))*sc}`,bloodCol,op*0.25,'none',0.4*sc);}
  }

  // ── GEHENNA SECTION PLACEMENT — MAXIMUM DENSITY ──
  const gehennaTargets=document.querySelectorAll('section');
  gehennaTargets.forEach(sec=>{
    const w=sec.offsetWidth,h=sec.offsetHeight;

    // Gore generators — triple density
    for(let i=0;i<RI(2,4);i++) impaledSkull(sec,R(0,w),R(0,h),R(0.15,0.4),R(0.01,0.03));
    for(let i=0;i<RI(1,3);i++) bloodFountain(sec,R(0,w),R(0,h),R(0.15,0.35),R(0.01,0.025));
    for(let i=0;i<RI(2,4);i++) flayedBanner(sec,R(0,w),R(0,h),R(0.15,0.35),R(0.01,0.03));
    for(let i=0;i<RI(1,3);i++) crucifiedSkeleton(sec,R(0,w),R(0,h),R(0.12,0.3),R(0.008,0.02));
    for(let i=0;i<RI(2,4);i++) tortureWheel(sec,R(0,w),R(0,h),R(0.2,0.45),R(0.015,0.035));
    for(let i=0;i<RI(2,4);i++) bleedingWindow(sec,R(0,w),R(0,h),R(0.15,0.35),R(0.01,0.03));
    for(let i=0;i<RI(3,6);i++) goreCascade(sec,R(0,w),R(0,h),R(0.2,0.5),R(0.015,0.04));
    for(let i=0;i<RI(2,4);i++) severedHandChalice(sec,R(0,w),R(0,h),R(0.2,0.45),R(0.015,0.035));
    for(let i=0;i<RI(2,4);i++) ribcageCage(sec,R(0,w),R(0,h),R(0.15,0.4),R(0.01,0.03));
    for(let i=0;i<RI(3,5);i++) screamingFace(sec,R(0,w),R(0,h),R(0.2,0.5),R(0.015,0.04));
    for(let i=0;i<RI(2,4);i++) bleedingEye(sec,R(0,w),R(0,h),R(0.2,0.5),R(0.015,0.035));
    for(let i=0;i<RI(2,3);i++) pentagramBlood(sec,R(0,w),R(0,h),R(0.2,0.45),R(0.015,0.035));
    for(let i=0;i<RI(3,6);i++) meatHook(sec,R(0,w),R(0,h),R(0.2,0.5),R(0.015,0.04));
    for(let i=0;i<RI(2,4);i++) skullPile(sec,R(0,w),R(0,h),R(0.2,0.5),R(0.015,0.035));
    for(let i=0;i<RI(2,4);i++) deathScythe(sec,R(0,w),R(0,h),R(0.15,0.4),R(0.01,0.03));
    for(let i=0;i<RI(3,5);i++) anatomicalHeart(sec,R(0,w),R(0,h),R(0.2,0.5),R(0.015,0.04));
    for(let i=0;i<RI(2,4);i++) hangingNoose(sec,R(0,w),R(0,h),R(0.2,0.45),R(0.015,0.035));
    for(let i=0;i<RI(4,8);i++) bloodBurst(sec,R(0,w),R(0,h),R(0.2,0.5),R(0.015,0.04));
    for(let i=0;i<RI(3,6);i++) drippingFangs(sec,R(0,w),R(0,h),R(0.25,0.6),R(0.02,0.05));
    for(let i=0;i<RI(1,3);i++) ironMaidenDoor(sec,R(0,w),R(0,h),R(0.15,0.35),R(0.01,0.03));
    for(let i=0;i<RI(1,2);i++) boneCathedralArch(sec,R(0,w),R(0,h),R(0.12,0.3),R(0.008,0.02));
    for(let i=0;i<RI(2,4);i++) chainedCoffin(sec,R(0,w),R(0,h),R(0.2,0.45),R(0.015,0.035));
    for(let i=0;i<RI(3,5);i++) barbedCrown(sec,R(0,w),R(0,h),R(0.25,0.55),R(0.02,0.04));
    for(let i=0;i<RI(5,10);i++) woundGash(sec,R(0,w),R(0,h),R(0.3,0.7),R(0.02,0.05));
    for(let i=0;i<RI(2,4);i++) fleshAltar(sec,R(0,w),R(0,h),R(0.15,0.4),R(0.01,0.03));

    // Extra blood DOM elements — triple the drips
    for(let i=0;i<RI(8,16);i++){
      const drip=document.createElement('div');
      drip.className='blood-drip'+(R(0,1)<0.3?' blood-drip-slow':R(0,1)<0.5?' blood-drip-fast':'');
      drip.style.cssText=`left:${R(0,100)}%;top:${R(0,80)}%;height:${R(30,200)}px;animation-delay:${R(0,12)}s;animation-duration:${R(1.5,8)}s;`;
      sec.appendChild(drip);
    }
    // Blood splatters
    for(let i=0;i<RI(6,12);i++){
      const splat=document.createElement('div');
      splat.className='blood-splatter';
      splat.style.cssText=`left:${R(5,95)}%;top:${R(5,95)}%;width:${R(4,15)}px;height:${R(4,15)}px;animation-delay:${R(0,5)}s;`;
      sec.appendChild(splat);
    }
    // Blood pools at section bottoms
    for(let i=0;i<RI(2,5);i++){
      const pool=document.createElement('div');
      pool.className='blood-pool';
      pool.style.cssText=`left:${R(10,90)}%;bottom:${R(0,5)}%;width:${R(15,40)}px;animation-delay:${R(0,6)}s;`;
      sec.appendChild(pool);
    }
  });

  // ── GEHENNA BACKGROUND FLOOD — MAXIMUM CARNAGE ──
  const bgG=document.getElementById('bgFiligree');
  if(bgG){
    for(let i=0;i<25;i++) impaledSkull(bgG,R(0,1200),R(0,5000),R(0.1,0.25),R(0.003,0.008));
    for(let i=0;i<15;i++) bloodFountain(bgG,R(0,1200),R(0,5000),R(0.08,0.2),R(0.002,0.006));
    for(let i=0;i<20;i++) tortureWheel(bgG,R(0,1200),R(0,5000),R(0.1,0.25),R(0.003,0.008));
    for(let i=0;i<30;i++) goreCascade(bgG,R(0,1200),R(0,5000),R(0.1,0.3),R(0.003,0.008));
    for(let i=0;i<25;i++) meatHook(bgG,R(0,1200),R(0,5000),R(0.12,0.3),R(0.003,0.008));
    for(let i=0;i<20;i++) screamingFace(bgG,R(0,1200),R(0,5000),R(0.1,0.25),R(0.003,0.008));
    for(let i=0;i<30;i++) bloodBurst(bgG,R(0,1200),R(0,5000),R(0.1,0.3),R(0.003,0.008));
    for(let i=0;i<20;i++) skullPile(bgG,R(0,1200),R(0,5000),R(0.1,0.25),R(0.003,0.008));
    for(let i=0;i<15;i++) deathScythe(bgG,R(0,1200),R(0,5000),R(0.08,0.2),R(0.002,0.006));
    for(let i=0;i<25;i++) anatomicalHeart(bgG,R(0,1200),R(0,5000),R(0.1,0.25),R(0.003,0.008));
    for(let i=0;i<20;i++) pentagramBlood(bgG,R(0,1200),R(0,5000),R(0.1,0.25),R(0.003,0.008));
    for(let i=0;i<15;i++) crucifiedSkeleton(bgG,R(0,1200),R(0,5000),R(0.06,0.15),R(0.002,0.005));
    for(let i=0;i<20;i++) chainedCoffin(bgG,R(0,1200),R(0,5000),R(0.1,0.25),R(0.003,0.008));
    for(let i=0;i<30;i++) woundGash(bgG,R(0,1200),R(0,5000),R(0.15,0.35),R(0.004,0.01));
    for(let i=0;i<20;i++) drippingFangs(bgG,R(0,1200),R(0,5000),R(0.12,0.3),R(0.004,0.01));
    for(let i=0;i<15;i++) barbedCrown(bgG,R(0,1200),R(0,5000),R(0.12,0.3),R(0.003,0.008));
    for(let i=0;i<10;i++) boneCathedralArch(bgG,R(0,1200),R(0,5000),R(0.06,0.15),R(0.002,0.005));
    for(let i=0;i<10;i++) fleshAltar(bgG,R(0,1200),R(0,5000),R(0.08,0.2),R(0.002,0.006));
    for(let i=0;i<15;i++) ribcageCage(bgG,R(0,1200),R(0,5000),R(0.1,0.25),R(0.003,0.008));
    for(let i=0;i<10;i++) bleedingEye(bgG,R(0,1200),R(0,5000),R(0.1,0.25),R(0.003,0.008));
  }

  console.log('[Gothic Filigree Engine v4 — GEHENNA LAYER] 25 new generators (#96-120) deployed. MAXIMUM CARNAGE DENSITY.');


  // ████████████████████████████████████████████████████████████████████████████
  // ██  LAYER XX — APOCALYPSE: GENERATORS #121-145                           ██
  // ██  Inverted churches, chain webs, viscera tendrils, bone rosaries,      ██
  // ██  bleeding crosses, dripping candelabras, sacrificial daggers,          ██
  // ██  rot circles, claw marks, cracked earth, sewn mouths                  ██
  // ████████████████████████████████████████████████████████████████████████████

  // Generator #121 — Inverted Burning Church
  function invertedChurch(parent,cx,cy,sc,op){
    const svg=S(parent,cx-25*sc,cy-40*sc,50*sc,80*sc,op);
    P(svg,`M${15*sc},${5*sc} L${15*sc},${50*sc} L${25*sc},${60*sc} L${35*sc},${50*sc} L${35*sc},${5*sc} Z`,col,op*0.35,col+'0a',0.7*sc);
    P(svg,`M${22*sc},${60*sc} L${25*sc},${78*sc} L${28*sc},${60*sc}`,col,op*0.4,col+'10',0.6*sc);
    P(svg,`M${25*sc},${68*sc} L${25*sc},${76*sc}`,col,op*0.35,'none',0.5*sc);
    P(svg,`M${23*sc},${72*sc} L${27*sc},${72*sc}`,col,op*0.3,'none',0.4*sc);
    for(let y=12;y<45;y+=12){P(svg,`M${20*sc},${y*sc} Q${20*sc},${(y-4)*sc} ${25*sc},${(y-5)*sc} Q${30*sc},${(y-4)*sc} ${30*sc},${y*sc}`,col,op*0.2,'none',0.3*sc);}
    for(let i=0;i<8;i++){const fx=R(16,34)*sc,fh=R(8,20)*sc;P(svg,`M${fx},${5*sc} Q${fx+R(-3,3)*sc},${5*sc-fh*0.5} ${fx+R(-2,2)*sc},${5*sc-fh}`,col,op*0.15,'none',R(0.3,0.6)*sc);}
    for(let i=0;i<5;i++){const bx=R(17,33)*sc;P(svg,`M${bx},${5*sc} L${bx+R(-1,1)*sc},${5*sc-R(5,15)*sc}`,bloodCol,op*0.2,'none',0.3*sc);}
  }

  // Generator #122 — Chain Web
  function chainWeb(parent,cx,cy,sc,op){
    const svg=S(parent,cx-35*sc,cy-35*sc,70*sc,70*sc,op);const c=35*sc;
    const anchors=[];for(let i=0;i<5;i++){const a=i/5*Math.PI*2-Math.PI/2;anchors.push({x:c+Math.cos(a)*32*sc,y:c+Math.sin(a)*32*sc});}
    for(let i=0;i<5;i++){for(let j=i+1;j<5;j++){const p1=anchors[i],p2=anchors[j];
    const mx2=(p1.x+p2.x)/2,my2=(p1.y+p2.y)/2+R(5,15)*sc;
    P(svg,`M${p1.x},${p1.y} Q${mx2},${my2} ${p2.x},${p2.y}`,col,op*0.3,'none',0.6*sc);
    const steps=RI(4,8);for(let s=0;s<steps;s++){const t=s/steps;
    const lx=p1.x*(1-t)*(1-t)+mx2*2*t*(1-t)+p2.x*t*t;
    const ly=p1.y*(1-t)*(1-t)+my2*2*t*(1-t)+p2.y*t*t;
    E(svg,lx,ly,1.5*sc,1*sc,'none',op*0.2,col,0.3*sc);}}}
    E(svg,c,c+5*sc,4*sc,5*sc,col,op*0.25,col,0.4*sc);
    for(let i=0;i<3;i++){P(svg,`M${c},${c+10*sc} L${c+R(-2,2)*sc},${c+(15+i*5)*sc}`,bloodCol,op*0.2,'none',0.3*sc);}
  }

  // Generator #123 — Viscera Tendril
  function visceraTendril(parent,cx,cy,sc,op){
    const svg=S(parent,cx-40*sc,cy-10*sc,80*sc,25*sc,op);
    const pts=[];for(let x=0;x<80;x+=R(3,6)){pts.push({x:x*sc,y:12*sc+R(-6,6)*sc});}
    if(pts.length<2)return;
    let d='M'+pts[0].x+','+pts[0].y;
    for(let i=1;i<pts.length;i++){d+=` Q${pts[i-1].x+(pts[i].x-pts[i-1].x)*0.5},${pts[i-1].y+R(-3,3)*sc} ${pts[i].x},${pts[i].y}`;}
    P(svg,d,col,op*0.4,'none',1.2*sc);
    P(svg,d,col,op*0.12,'none',0.3*sc);
    for(let i=0;i<pts.length;i+=RI(2,4)){if(i>=pts.length)break;const p=pts[i];
    E(svg,p.x,p.y,R(1.5,3)*sc,R(1,2.5)*sc,col,op*0.2,col,0.3*sc);
    if(R(0,1)<0.4){P(svg,`M${p.x},${p.y+2*sc} L${p.x+R(-1,1)*sc},${p.y+R(4,10)*sc}`,bloodCol,op*0.2,'none',0.3*sc);}}
    for(let i=1;i<pts.length-1;i+=RI(2,5)){if(i>=pts.length)break;const p=pts[i],dir=R(0,1)>0.5?1:-1,tlen=R(5,15)*sc;
    P(svg,`M${p.x},${p.y} Q${p.x+R(-3,3)*sc},${p.y+dir*tlen*0.5} ${p.x+R(-5,5)*sc},${p.y+dir*tlen}`,col,op*0.2,'none',0.4*sc);}
  }

  // Generator #124 — Bone Rosary
  function boneRosary(parent,cx,cy,sc,op){
    const svg=S(parent,cx-5*sc,cy-50*sc,10*sc,100*sc,op);
    for(let y=0;y<90;y+=5){
      // Bone bead
      E(svg,5*sc,y*sc,2*sc,2.5*sc,col,op*0.3,col,0.4*sc);
      // Link
      P(svg,`M${5*sc},${(y+2.5)*sc} L${5*sc},${(y+5)*sc}`,col,op*0.2,'none',0.3*sc);
      // Every 10th bead is larger
      if(y%25===0){
        E(svg,5*sc,y*sc,3.5*sc,3.5*sc,col,op*0.35,col,0.5*sc);
        // Tiny cross on large bead
        P(svg,`M${5*sc},${(y-1.5)*sc} L${5*sc},${(y+1.5)*sc}`,col,op*0.2,'none',0.3*sc);
        P(svg,`M${3.5*sc},${y*sc} L${6.5*sc},${y*sc}`,col,op*0.2,'none',0.3*sc);
      }
    }
    // Crucifix at bottom
    P(svg,`M${5*sc},${90*sc} L${5*sc},${98*sc}`,col,op*0.4,'none',0.6*sc);
    P(svg,`M${3*sc},${92*sc} L${7*sc},${92*sc}`,col,op*0.35,'none',0.5*sc);
    // Blood on crucifix
    P(svg,`M${5*sc},${92*sc} L${4.5*sc},${95*sc}`,bloodCol,op*0.2,'none',0.3*sc);
  }

  // Generator #125 — Claw Marks (3 parallel scratches)
  function clawMarks(parent,cx,cy,sc,op){
    const svg=S(parent,cx-15*sc,cy-20*sc,30*sc,40*sc,op);
    for(let i=0;i<3;i++){
      const x=8+i*7;
      const curve=R(-4,4);
      P(svg,`M${x*sc},${2*sc} Q${(x+curve)*sc},${12*sc} ${(x-curve*0.5)*sc},${22*sc} Q${(x+curve*0.3)*sc},${30*sc} ${(x+R(-2,2))*sc},${38*sc}`,col,op*(0.3+R(0,0.15)),'none',R(0.8,1.5)*sc);
      // Blood in scratches
      P(svg,`M${x*sc},${5*sc} Q${(x+curve*0.5)*sc},${15*sc} ${(x-curve*0.3)*sc},${25*sc}`,bloodCol,op*0.15,'none',R(0.3,0.6)*sc);
    }
    // Splinter fragments
    for(let i=0;i<6;i++){
      const fx=R(6,24)*sc,fy=R(5,35)*sc;
      P(svg,`M${fx},${fy} L${fx+R(-3,3)*sc},${fy+R(-3,3)*sc}`,col,op*0.1,'none',0.2*sc);
    }
  }

  // Generator #126 — Cracked Earth/Ground
  function crackedEarth(parent,cx,cy,sc,op){
    const svg=S(parent,cx-30*sc,cy-20*sc,60*sc,40*sc,op);
    // Main cracks radiating from center
    for(let i=0;i<8;i++){
      const a=i/8*Math.PI*2+R(-0.3,0.3);
      const len=R(15,28)*sc;
      let d=`M${30*sc},${20*sc}`;
      let x=30*sc,y=20*sc;
      const steps=RI(3,6);
      for(let s=0;s<steps;s++){
        x+=Math.cos(a+R(-0.4,0.4))*len/steps;
        y+=Math.sin(a+R(-0.4,0.4))*len/steps;
        d+=` L${x},${y}`;
      }
      P(svg,d,col,op*(0.2+R(0,0.15)),'none',R(0.3,0.8)*sc);
      // Sub-cracks branching off
      if(R(0,1)<0.6){
        const bx=30*sc+Math.cos(a)*len*R(0.3,0.7);
        const by=20*sc+Math.sin(a)*len*R(0.3,0.7);
        const ba=a+R(-1,1);
        P(svg,`M${bx},${by} L${bx+Math.cos(ba)*R(5,12)*sc},${by+Math.sin(ba)*R(5,12)*sc}`,col,op*0.12,'none',0.3*sc);
      }
    }
    // Blood seeping through cracks
    for(let i=0;i<4;i++){
      const a=R(0,Math.PI*2);
      const d=R(5,15)*sc;
      const bx=30*sc+Math.cos(a)*d,by=20*sc+Math.sin(a)*d;
      E(svg,bx,by,R(1,3)*sc,R(0.5,1.5)*sc,bloodCol,op*0.12);
    }
  }

  // Generator #127 — Sewn Mouth
  function sewnMouth(parent,cx,cy,sc,op){
    const svg=S(parent,cx-15*sc,cy-8*sc,30*sc,16*sc,op);
    // Lips
    P(svg,`M${3*sc},${8*sc} Q${8*sc},${4*sc} ${15*sc},${5*sc} Q${22*sc},${4*sc} ${27*sc},${8*sc}`,col,op*0.35,'none',0.6*sc);
    P(svg,`M${3*sc},${8*sc} Q${8*sc},${12*sc} ${15*sc},${11*sc} Q${22*sc},${12*sc} ${27*sc},${8*sc}`,col,op*0.35,'none',0.6*sc);
    // Stitches (X pattern)
    for(let x=5;x<26;x+=3){
      P(svg,`M${x*sc},${5.5*sc} L${(x+2)*sc},${10.5*sc}`,col,op*0.4,'none',0.4*sc);
      P(svg,`M${(x+2)*sc},${5.5*sc} L${x*sc},${10.5*sc}`,col,op*0.4,'none',0.4*sc);
    }
    // Thread connecting stitches
    P(svg,`M${5*sc},${8*sc} Q${10*sc},${6*sc} ${15*sc},${8*sc} Q${20*sc},${6*sc} ${25*sc},${8*sc}`,col,op*0.2,'none',0.2*sc);
    // Blood between stitches
    for(let i=0;i<5;i++){
      const bx=R(6,24)*sc;
      P(svg,`M${bx},${8*sc} L${bx+R(-0.5,0.5)*sc},${8*sc+R(2,5)*sc}`,bloodCol,op*0.2,'none',0.3*sc);
    }
  }

  // Generator #128 — Rot Circle (decay/corruption pattern)
  function rotCircle(parent,cx,cy,sc,op){
    const svg=S(parent,cx-20*sc,cy-20*sc,40*sc,40*sc,op);const c=20*sc;
    // Irregular outer ring
    let d='M';
    for(let i=0;i<=32;i++){
      const a=i/32*Math.PI*2;
      const r=(16+R(-3,3))*sc;
      const x=c+Math.cos(a)*r,y=c+Math.sin(a)*r;
      d+=(i===0?'':'L')+x+','+y;
    }
    P(svg,d+'Z',col,op*0.2,'none',0.5*sc);
    // Inner decay rings
    for(let ring=0;ring<3;ring++){
      let id='M';
      const rr=(10-ring*3);
      for(let i=0;i<=24;i++){
        const a=i/24*Math.PI*2;
        const r=(rr+R(-1.5,1.5))*sc;
        const x=c+Math.cos(a)*r,y=c+Math.sin(a)*r;
        id+=(i===0?'':'L')+x+','+y;
      }
      P(svg,id+'Z',col,op*(0.12-ring*0.03),'none',0.3*sc);
    }
    // Spore/mold dots
    for(let i=0;i<20;i++){
      const a=R(0,Math.PI*2),r=R(3,15)*sc;
      E(svg,c+Math.cos(a)*r,c+Math.sin(a)*r,R(0.3,1.2)*sc,R(0.3,1)*sc,col,op*R(0.05,0.15));
    }
    // Blood-rot seepage
    for(let i=0;i<6;i++){
      const a=R(0,Math.PI*2),r=R(8,14)*sc;
      E(svg,c+Math.cos(a)*r,c+Math.sin(a)*r,R(1,2.5)*sc,R(0.5,1.5)*sc,bloodCol,op*0.1);
    }
  }

  // Generator #129 — Sacrificial Dagger
  function sacrificialDagger(parent,cx,cy,sc,op){
    const svg=S(parent,cx-8*sc,cy-30*sc,16*sc,60*sc,op);
    P(svg,`M${8*sc},${2*sc} L${5*sc},${28*sc} L${8*sc},${30*sc} L${11*sc},${28*sc} Z`,col,op*0.4,col+'15',0.6*sc);
    P(svg,`M${3*sc},${30*sc} L${13*sc},${30*sc}`,col,op*0.45,'none',1*sc);
    P(svg,`M${2*sc},${31*sc} L${14*sc},${31*sc}`,col,op*0.2,'none',0.3*sc);
    E(svg,4*sc,30.5*sc,1.5*sc,1.5*sc,col,op*0.25,col,0.3*sc);
    E(svg,12*sc,30.5*sc,1.5*sc,1.5*sc,col,op*0.25,col,0.3*sc);
    P(svg,`M${8*sc},${32*sc} L${8*sc},${50*sc}`,col,op*0.4,'none',0.8*sc);
    for(let y=35;y<48;y+=2.5){P(svg,`M${7*sc},${y*sc} L${9*sc},${(y+1.5)*sc}`,col,op*0.15,'none',0.3*sc);}
    E(svg,8*sc,52*sc,3*sc,2*sc,col,op*0.3,col,0.4*sc);
    P(svg,`M${6*sc},${15*sc} Q${5*sc},${20*sc} ${4*sc},${26*sc}`,bloodCol,op*0.25,'none',0.4*sc);
    P(svg,`M${10*sc},${12*sc} Q${11*sc},${18*sc} ${12*sc},${25*sc}`,bloodCol,op*0.2,'none',0.3*sc);
    for(let i=0;i<3;i++){P(svg,`M${R(5,11)*sc},${28*sc} L${R(4,12)*sc},${28*sc+R(3,10)*sc}`,bloodCol,op*0.2,'none',0.3*sc);}
  }

  // Generator #130 — Hanging Entrails
  function hangingEntrails(parent,cx,cy,sc,op){
    const svg=S(parent,cx-15*sc,cy-5*sc,30*sc,70*sc,op);
    for(let strand=0;strand<RI(3,6);strand++){
      const sx=R(3,27)*sc;
      let d=`M${sx},${0}`;
      let y=0,x=sx/sc;
      for(let seg=0;seg<RI(8,15);seg++){
        y+=R(3,7);x+=R(-3,3);
        d+=` Q${(x+R(-2,2))*sc},${(y-R(1,2))*sc} ${x*sc},${y*sc}`;
      }
      P(svg,d,col,op*(0.2+R(0,0.15)),'none',R(0.5,1.5)*sc);
      // Blood along strand
      P(svg,d,bloodCol,op*0.08,'none',R(0.2,0.5)*sc);
      // Nodules
      for(let n=0;n<RI(1,4);n++){
        const ny=R(10,55)*sc;
        E(svg,R(5,25)*sc,ny,R(1,2.5)*sc,R(0.8,2)*sc,col,op*0.15,col,0.3*sc);
      }
    }
    // Blood drips at bottom
    for(let i=0;i<5;i++){
      const bx=R(5,25)*sc;
      E(svg,bx,R(55,68)*sc,R(0.5,1.5)*sc,R(0.8,2)*sc,bloodCol,op*0.2);
    }
  }

  // Generator #131 — Weeping Wound (vertical bleeding gash)
  function weepingWound(parent,cx,cy,sc,op){
    const svg=S(parent,cx-8*sc,cy-25*sc,16*sc,50*sc,op);
    // Main wound
    P(svg,`M${8*sc},${2*sc} Q${6*sc},${10*sc} ${8*sc},${18*sc} Q${10*sc},${26*sc} ${8*sc},${35*sc} Q${6*sc},${42*sc} ${8*sc},${48*sc}`,bloodCol,op*0.4,'none',1.2*sc);
    // Inner wound darkness
    P(svg,`M${8*sc},${5*sc} Q${7*sc},${12*sc} ${8*sc},${20*sc} Q${9*sc},${28*sc} ${8*sc},${36*sc}`,bloodCol,op*0.25,bloodCol+'22',0.6*sc);
    // Stitches across wound
    for(let y=5;y<45;y+=4){
      P(svg,`M${5*sc},${y*sc} L${11*sc},${(y+2)*sc}`,col,op*0.3,'none',0.35*sc);
    }
    // Blood flowing from wound
    for(let i=0;i<6;i++){
      const by=R(8,42)*sc;
      const side=R(0,1)>0.5?1:-1;
      P(svg,`M${8*sc},${by} Q${(8+side*R(3,6))*sc},${by+R(3,8)*sc} ${(8+side*R(5,10))*sc},${by+R(8,18)*sc}`,bloodCol,op*0.2,'none',R(0.3,0.6)*sc);
    }
  }

  // Generator #132 — Bloody Handprint
  function bloodyHandprint(parent,cx,cy,sc,op){
    const svg=S(parent,cx-15*sc,cy-20*sc,30*sc,35*sc,op);
    // Palm
    E(svg,15*sc,18*sc,8*sc,10*sc,bloodCol,op*0.2);
    // Fingers
    const fingers=[{x:7,y:3,l:8},{x:11,y:1,l:10},{x:15,y:0,l:11},{x:19,y:1,l:10},{x:23,y:5,l:7}];
    for(const f of fingers){
      P(svg,`M${f.x*sc},${(f.y+f.l)*sc} L${f.x*sc},${f.y*sc}`,bloodCol,op*0.2,'none',R(2,3.5)*sc);
      // Fingertip
      E(svg,f.x*sc,f.y*sc,1.5*sc,1.5*sc,bloodCol,op*0.15);
    }
    // Smear/drag downward
    P(svg,`M${15*sc},${28*sc} Q${14*sc},${30*sc} ${13*sc},${34*sc}`,bloodCol,op*0.12,'none',R(2,4)*sc);
    P(svg,`M${17*sc},${27*sc} Q${18*sc},${31*sc} ${19*sc},${33*sc}`,bloodCol,op*0.1,'none',R(1,3)*sc);
  }

  // Generator #133 — Spider Web Corner
  function spiderWebCorner(parent,cx,cy,sc,op){
    const svg=S(parent,cx-30*sc,cy-30*sc,60*sc,60*sc,op);
    // Radial threads from corner
    for(let i=0;i<8;i++){
      const a=i/8*(Math.PI/2);
      const len=R(20,28)*sc;
      P(svg,`M${0},${0} L${Math.cos(a)*len},${Math.sin(a)*len}`,col,op*0.25,'none',0.3*sc);
    }
    // Concentric spiral threads
    for(let ring=1;ring<6;ring++){
      const r=ring*5*sc;
      let d='M';
      for(let i=0;i<=16;i++){
        const a=i/16*(Math.PI/2);
        const rr=r+R(-1,1)*sc;
        d+=(i===0?'':'L')+(Math.cos(a)*rr)+','+(Math.sin(a)*rr);
      }
      P(svg,d,col,op*(0.15-ring*0.02),'none',0.2*sc);
    }
    // Spider (tiny)
    if(R(0,1)<0.4){
      const sx=R(8,20)*sc,sy=R(8,20)*sc;
      E(svg,sx,sy,1.5*sc,2*sc,col,op*0.2);
      for(let i=0;i<4;i++){
        const la=R(-1,1);
        P(svg,`M${sx},${sy} L${sx+R(-3,3)*sc},${sy+R(-3,3)*sc}`,col,op*0.15,'none',0.2*sc);
      }
    }
    // Dew drops (blood)
    for(let i=0;i<4;i++){
      const a=R(0,Math.PI/2),r=R(5,22)*sc;
      E(svg,Math.cos(a)*r,Math.sin(a)*r,0.5*sc,0.7*sc,bloodCol,op*0.12);
    }
  }

  // Generator #134 — Broken Halo
  function brokenHalo(parent,cx,cy,sc,op){
    const svg=S(parent,cx-20*sc,cy-20*sc,40*sc,40*sc,op);const c=20*sc;
    // Halo (broken - gap in the ring)
    const gapStart=R(0.3,0.7)*Math.PI*2;
    const gapEnd=gapStart+R(0.2,0.5);
    for(let i=0;i<48;i++){
      const a1=i/48*Math.PI*2;
      const a2=(i+1)/48*Math.PI*2;
      if(a1>gapStart&&a1<gapEnd)continue;
      P(svg,`M${c+Math.cos(a1)*15*sc},${c+Math.sin(a1)*15*sc} L${c+Math.cos(a2)*15*sc},${c+Math.sin(a2)*15*sc}`,col,op*0.35,'none',0.8*sc);
    }
    // Inner ring (also broken)
    for(let i=0;i<36;i++){
      const a1=i/36*Math.PI*2;
      if(a1>gapStart-0.1&&a1<gapEnd+0.1)continue;
      const a2=(i+1)/36*Math.PI*2;
      P(svg,`M${c+Math.cos(a1)*12*sc},${c+Math.sin(a1)*12*sc} L${c+Math.cos(a2)*12*sc},${c+Math.sin(a2)*12*sc}`,col,op*0.15,'none',0.3*sc);
    }
    // Broken fragments falling
    for(let i=0;i<3;i++){
      const fa=gapStart+R(0,gapEnd-gapStart);
      const fx=c+Math.cos(fa)*15*sc+R(-3,3)*sc;
      const fy=c+Math.sin(fa)*15*sc+R(5,15)*sc;
      P(svg,`M${fx},${fy} L${fx+R(-2,2)*sc},${fy+R(2,5)*sc}`,col,op*0.2,'none',0.5*sc);
    }
    // Rays (surviving ones)
    for(let i=0;i<12;i++){
      const a=i/12*Math.PI*2;
      if(a>gapStart&&a<gapEnd)continue;
      P(svg,`M${c+Math.cos(a)*16*sc},${c+Math.sin(a)*16*sc} L${c+Math.cos(a)*19*sc},${c+Math.sin(a)*19*sc}`,col,op*0.15,'none',0.3*sc);
    }
  }

  // Generator #135 — Crying Statue Face
  function cryingStatue(parent,cx,cy,sc,op){
    const svg=S(parent,cx-15*sc,cy-20*sc,30*sc,45*sc,op);
    // Face outline
    P(svg,`M${8*sc},${5*sc} Q${5*sc},${15*sc} ${6*sc},${25*sc} Q${8*sc},${35*sc} ${15*sc},${38*sc} Q${22*sc},${35*sc} ${24*sc},${25*sc} Q${25*sc},${15*sc} ${22*sc},${5*sc} Q${15*sc},${2*sc} ${8*sc},${5*sc}`,col,op*0.3,'none',0.6*sc);
    // Eyes (closed, downward)
    P(svg,`M${9*sc},${14*sc} Q${11*sc},${16*sc} ${13*sc},${14*sc}`,col,op*0.35,'none',0.5*sc);
    P(svg,`M${17*sc},${14*sc} Q${19*sc},${16*sc} ${21*sc},${14*sc}`,col,op*0.35,'none',0.5*sc);
    // Nose
    P(svg,`M${15*sc},${14*sc} L${14*sc},${21*sc} L${16*sc},${22*sc}`,col,op*0.2,'none',0.3*sc);
    // Sad mouth
    P(svg,`M${11*sc},${28*sc} Q${15*sc},${30*sc} ${19*sc},${28*sc}`,col,op*0.25,'none',0.4*sc);
    // Tears (blood)
    for(let side=-1;side<=1;side+=2){
      const ex=15+side*4;
      for(let i=0;i<4;i++){
        const ty=16+i*4;
        P(svg,`M${ex*sc},${ty*sc} Q${(ex+R(-1,1))*sc},${(ty+2)*sc} ${(ex+R(-1.5,1.5))*sc},${(ty+4)*sc}`,bloodCol,op*(0.25-i*0.04),'none',R(0.3,0.5)*sc);
      }
    }
    // Cracks in stone
    for(let i=0;i<4;i++){
      const cx2=R(9,21)*sc,cy2=R(8,32)*sc;
      P(svg,`M${cx2},${cy2} L${cx2+R(-4,4)*sc},${cy2+R(-4,4)*sc}`,col,op*0.1,'none',0.2*sc);
    }
  }

  // ── APOCALYPSE SECTION PLACEMENT ──
  const apoTargets=document.querySelectorAll('section');
  apoTargets.forEach(sec=>{
    const w=sec.offsetWidth,h=sec.offsetHeight;
    for(let i=0;i<RI(1,3);i++) invertedChurch(sec,R(0,w),R(0,h),R(0.12,0.3),R(0.008,0.02));
    for(let i=0;i<RI(2,4);i++) chainWeb(sec,R(0,w),R(0,h),R(0.15,0.35),R(0.01,0.025));
    for(let i=0;i<RI(3,6);i++) visceraTendril(sec,R(0,w),R(0,h),R(0.2,0.5),R(0.015,0.035));
    for(let i=0;i<RI(3,5);i++) boneRosary(sec,R(0,w),R(0,h),R(0.2,0.5),R(0.015,0.04));
    for(let i=0;i<RI(4,8);i++) clawMarks(sec,R(0,w),R(0,h),R(0.25,0.6),R(0.02,0.05));
    for(let i=0;i<RI(3,6);i++) crackedEarth(sec,R(0,w),R(0,h),R(0.2,0.5),R(0.015,0.04));
    for(let i=0;i<RI(3,5);i++) sewnMouth(sec,R(0,w),R(0,h),R(0.25,0.55),R(0.02,0.045));
    for(let i=0;i<RI(3,6);i++) rotCircle(sec,R(0,w),R(0,h),R(0.2,0.5),R(0.015,0.04));
    for(let i=0;i<RI(2,4);i++) sacrificialDagger(sec,R(0,w),R(0,h),R(0.2,0.45),R(0.015,0.035));
    for(let i=0;i<RI(2,4);i++) hangingEntrails(sec,R(0,w),R(0,h),R(0.15,0.4),R(0.01,0.03));
    for(let i=0;i<RI(3,6);i++) weepingWound(sec,R(0,w),R(0,h),R(0.2,0.5),R(0.015,0.04));
    for(let i=0;i<RI(3,6);i++) bloodyHandprint(sec,R(0,w),R(0,h),R(0.2,0.5),R(0.015,0.04));
    for(let i=0;i<RI(3,5);i++) spiderWebCorner(sec,R(0,w),R(0,h),R(0.2,0.5),R(0.015,0.035));
    for(let i=0;i<RI(3,5);i++) brokenHalo(sec,R(0,w),R(0,h),R(0.2,0.5),R(0.015,0.04));
    for(let i=0;i<RI(2,4);i++) cryingStatue(sec,R(0,w),R(0,h),R(0.2,0.45),R(0.015,0.035));

    // More blood DOM flooding
    for(let i=0;i<RI(5,12);i++){
      const drip=document.createElement('div');
      drip.className='blood-drip'+(R(0,1)<0.4?' blood-drip-slow':'');
      drip.style.cssText=`left:${R(0,100)}%;top:${R(-5,85)}%;height:${R(50,250)}px;animation-delay:${R(0,15)}s;animation-duration:${R(2,10)}s;opacity:${R(0.1,0.3)}`;
      sec.appendChild(drip);
    }
    for(let i=0;i<RI(4,8);i++){
      const splat=document.createElement('div');
      splat.className='blood-splatter';
      splat.style.cssText=`left:${R(2,98)}%;top:${R(2,98)}%;width:${R(5,20)}px;height:${R(5,20)}px;animation-delay:${R(0,8)}s;opacity:${R(0.08,0.2)}`;
      sec.appendChild(splat);
    }
  });

  // ── APOCALYPSE BACKGROUND FLOOD ──
  const bgA=document.getElementById('bgFiligree');
  if(bgA){
    for(let i=0;i<20;i++) invertedChurch(bgA,R(0,1200),R(0,5000),R(0.06,0.15),R(0.002,0.005));
    for(let i=0;i<15;i++) chainWeb(bgA,R(0,1200),R(0,5000),R(0.08,0.2),R(0.002,0.006));
    for(let i=0;i<30;i++) visceraTendril(bgA,R(0,1200),R(0,5000),R(0.1,0.3),R(0.003,0.008));
    for(let i=0;i<25;i++) clawMarks(bgA,R(0,1200),R(0,5000),R(0.12,0.3),R(0.003,0.008));
    for(let i=0;i<20;i++) crackedEarth(bgA,R(0,1200),R(0,5000),R(0.1,0.25),R(0.003,0.008));
    for(let i=0;i<25;i++) rotCircle(bgA,R(0,1200),R(0,5000),R(0.1,0.25),R(0.003,0.008));
    for(let i=0;i<20;i++) sewnMouth(bgA,R(0,1200),R(0,5000),R(0.12,0.3),R(0.004,0.01));
    for(let i=0;i<15;i++) sacrificialDagger(bgA,R(0,1200),R(0,5000),R(0.1,0.25),R(0.003,0.008));
    for(let i=0;i<15;i++) hangingEntrails(bgA,R(0,1200),R(0,5000),R(0.08,0.2),R(0.002,0.006));
    for(let i=0;i<25;i++) weepingWound(bgA,R(0,1200),R(0,5000),R(0.1,0.25),R(0.003,0.008));
    for(let i=0;i<20;i++) bloodyHandprint(bgA,R(0,1200),R(0,5000),R(0.1,0.25),R(0.003,0.008));
    for(let i=0;i<15;i++) spiderWebCorner(bgA,R(0,1200),R(0,5000),R(0.1,0.25),R(0.003,0.008));
    for(let i=0;i<20;i++) brokenHalo(bgA,R(0,1200),R(0,5000),R(0.1,0.25),R(0.003,0.008));
    for(let i=0;i<15;i++) cryingStatue(bgA,R(0,1200),R(0,5000),R(0.1,0.25),R(0.003,0.008));
    for(let i=0;i<20;i++) boneRosary(bgA,R(0,1200),R(0,5000),R(0.1,0.25),R(0.003,0.008));
  }

  console.log('[Gothic Filigree Engine v4 — APOCALYPSE LAYER] Generators #121-135 deployed. THE END IS HERE.');


  // ████████████████████████████████████████████████████████████████████████████
  // ██  LAYER XXI — RAPTURE: GENERATORS #136-155                             ██
  // ██  Bleeding trees, cemetery gates, bone chandelier, serpent coils,       ██
  // ██  gore splatter patterns, ritual candle circles, blood rain,           ██
  // ██  eye clusters, bone pile mountains, death masks, voodoo dolls         ██
  // ████████████████████████████████████████████████████████████████████████████

  // Generator #136 — Bleeding Dead Tree
  function bleedingTree(parent,cx,cy,sc,op){
    const svg=S(parent,cx-35*sc,cy-60*sc,70*sc,100*sc,op);
    P(svg,`M${35*sc},${95*sc} Q${33*sc},${80*sc} ${35*sc},${60*sc} Q${36*sc},${45*sc} ${34*sc},${30*sc}`,col,op*0.45,'none',2*sc);
    P(svg,`M${34*sc},${40*sc} Q${20*sc},${30*sc} ${10*sc},${15*sc} Q${5*sc},${10*sc} ${3*sc},${5*sc}`,col,op*0.35,'none',1.2*sc);
    P(svg,`M${35*sc},${35*sc} Q${45*sc},${25*sc} ${55*sc},${12*sc} Q${60*sc},${8*sc} ${65*sc},${3*sc}`,col,op*0.35,'none',1.2*sc);
    P(svg,`M${34*sc},${50*sc} Q${22*sc},${45*sc} ${12*sc},${35*sc}`,col,op*0.3,'none',0.8*sc);
    P(svg,`M${36*sc},${45*sc} Q${48*sc},${38*sc} ${58*sc},${30*sc}`,col,op*0.3,'none',0.8*sc);
    for(let i=0;i<6;i++){const bx=R(5,65)*sc,by=R(3,40)*sc;P(svg,`M${bx},${by} L${bx+R(-5,5)*sc},${by+R(-5,5)*sc}`,col,op*0.12,'none',0.3*sc);}
    P(svg,`M${35*sc},${95*sc} Q${25*sc},${98*sc} ${18*sc},${98*sc}`,col,op*0.25,'none',0.8*sc);
    P(svg,`M${35*sc},${95*sc} Q${45*sc},${98*sc} ${52*sc},${97*sc}`,col,op*0.25,'none',0.8*sc);
    for(let i=0;i<10;i++){const bx=R(8,62)*sc,by=R(5,40)*sc,blen=R(10,30)*sc;
    P(svg,`M${bx},${by} Q${bx+R(-2,2)*sc},${by+blen*0.4} ${bx+R(-3,3)*sc},${by+blen}`,bloodCol,op*0.2,'none',R(0.3,0.6)*sc);
    if(R(0,1)<0.4)E(svg,bx+R(-3,3)*sc,by+blen+2*sc,R(0.5,1.2)*sc,R(0.8,1.5)*sc,bloodCol,op*0.15);}
    if(R(0,1)<0.5){const nx=R(15,55)*sc,ny=R(15,35)*sc;
    P(svg,`M${nx},${ny} L${nx},${ny+10*sc}`,col,op*0.2,'none',0.4*sc);
    P(svg,`M${nx},${ny+10*sc} Q${nx-3*sc},${ny+13*sc} ${nx-3*sc},${ny+17*sc} Q${nx-3*sc},${ny+21*sc} ${nx},${ny+22*sc} Q${nx+3*sc},${ny+21*sc} ${nx+3*sc},${ny+17*sc} Q${nx+3*sc},${ny+13*sc} ${nx},${ny+10*sc}`,col,op*0.15,'none',0.3*sc);}
  }

  // Generator #137 — Cemetery Gate
  function cemeteryGate(parent,cx,cy,sc,op){
    const svg=S(parent,cx-40*sc,cy-50*sc,80*sc,100*sc,op);
    R2(svg,5*sc,15*sc,12*sc,80*sc,col,op*0.3,col+'0a',0.7*sc);
    R2(svg,63*sc,15*sc,12*sc,80*sc,col,op*0.3,col+'0a',0.7*sc);
    P(svg,`M${5*sc},${15*sc} Q${5*sc},${2*sc} ${40*sc},${0} Q${75*sc},${2*sc} ${75*sc},${15*sc}`,col,op*0.4,'none',1*sc);
    for(let x=22;x<60;x+=5){P(svg,`M${x*sc},${20*sc} L${x*sc},${90*sc}`,col,op*0.25,'none',0.5*sc);
    P(svg,`M${x*sc},${20*sc} L${(x-1)*sc},${17*sc} L${x*sc},${13*sc} L${(x+1)*sc},${17*sc} Z`,col,op*0.3,col,0.3*sc);}
    P(svg,`M${17*sc},${55*sc} L${63*sc},${55*sc}`,col,op*0.25,'none',0.6*sc);
    P(svg,`M${40*sc},${0} L${40*sc},${-10*sc}`,col,op*0.35,'none',0.6*sc);
    P(svg,`M${36*sc},${-5*sc} L${44*sc},${-5*sc}`,col,op*0.3,'none',0.5*sc);
    // Skulls on pillar tops
    for(let px of[11,69]){E(svg,px*sc,12*sc,5*sc,6*sc,col,op*0.25,col,0.4*sc);E(svg,(px-1.5)*sc,10*sc,1.2*sc,1.5*sc,'#111',op*0.4);E(svg,(px+1.5)*sc,10*sc,1.2*sc,1.5*sc,'#111',op*0.4);}
    // Blood on gate bars
    for(let i=0;i<6;i++){const bx=R(22,58)*sc;P(svg,`M${bx},${R(30,60)*sc} L${bx+R(-1,1)*sc},${R(65,85)*sc}`,bloodCol,op*0.15,'none',0.3*sc);}
  }

  // Generator #138 — Bone Chandelier
  function boneChandelier(parent,cx,cy,sc,op){
    const svg=S(parent,cx-35*sc,cy-40*sc,70*sc,80*sc,op);const mx=35*sc;
    // Chain suspension
    P(svg,`M${mx},${0} L${mx},${15*sc}`,col,op*0.45,'none',0.8*sc);
    for(let y=0;y<14;y+=3){E(svg,mx,y*sc,2*sc,1.5*sc,'none',op*0.3,col,0.4*sc);}
    // Main ring
    E(svg,mx,25*sc,30*sc,8*sc,'none',op*0.35,col,0.8*sc);
    // Bones radiating from ring (femur-shaped)
    for(let i=0;i<12;i++){const a=i/12*Math.PI*2;const r1=30*sc,ox=mx+Math.cos(a)*r1,oy=25*sc+Math.sin(a)*(r1*0.27);
    P(svg,`M${mx+Math.cos(a)*20*sc},${25*sc+Math.sin(a)*5.5*sc} L${ox},${oy}`,col,op*0.3,'none',0.7*sc);
    E(svg,ox,oy,1.5*sc,1.5*sc,col,op*0.2,col,0.3*sc);}
    // Skulls hanging at bottom
    for(let i=0;i<5;i++){const a=(i/5)*Math.PI*2;const sx=mx+Math.cos(a)*20*sc,sy=35*sc+Math.sin(a)*5*sc;
    P(svg,`M${sx},${sy} L${sx},${sy+8*sc}`,col,op*0.25,'none',0.4*sc);
    E(svg,sx,sy+12*sc,4*sc,5*sc,col,op*0.2,col,0.3*sc);
    E(svg,sx-1.5*sc,sy+11*sc,0.8*sc,1*sc,'#111',op*0.35);
    E(svg,sx+1.5*sc,sy+11*sc,0.8*sc,1*sc,'#111',op*0.35);}
    // Candles on ring
    for(let i=0;i<8;i++){const a=i/8*Math.PI*2;const cx2=mx+Math.cos(a)*25*sc,cy2=25*sc+Math.sin(a)*7*sc;
    P(svg,`M${cx2},${cy2} L${cx2},${cy2-R(5,10)*sc}`,col,op*0.2,'none',0.5*sc);
    P(svg,`M${cx2},${cy2-R(5,10)*sc} Q${cx2-1*sc},${cy2-R(8,14)*sc} ${cx2},${cy2-R(10,16)*sc} Q${cx2+1*sc},${cy2-R(8,14)*sc} ${cx2},${cy2-R(5,10)*sc}`,col,op*0.1,col+'0a',0.2*sc);}
    // Blood drips from skulls
    for(let i=0;i<5;i++){const sx=mx+Math.cos((i/5)*Math.PI*2)*20*sc;const sy=47*sc+Math.sin((i/5)*Math.PI*2)*5*sc;
    P(svg,`M${sx},${sy} L${sx+R(-1,1)*sc},${sy+R(5,15)*sc}`,bloodCol,op*0.2,'none',0.3*sc);}
  }

  // Generator #139 — Serpent Coil
  function serpentCoil(parent,cx,cy,sc,op){
    const svg=S(parent,cx-20*sc,cy-30*sc,40*sc,60*sc,op);
    // Coiling body
    for(let coil=0;coil<5;coil++){const y=5+coil*10;const w=15-coil*1.5;
    P(svg,`M${(20-w)*sc},${y*sc} Q${(20-w-3)*sc},${(y+5)*sc} ${(20-w)*sc},${(y+10)*sc} Q${(20+w+3)*sc},${(y+5)*sc} ${(20+w)*sc},${y*sc}`,col,op*(0.3-coil*0.03),'none',(1.5-coil*0.15)*sc);}
    // Head at top
    P(svg,`M${14*sc},${3*sc} Q${12*sc},${0} ${15*sc},${-2*sc} Q${18*sc},${-4*sc} ${20*sc},${-2*sc} Q${22*sc},${0} ${20*sc},${3*sc}`,col,op*0.4,col+'15',0.6*sc);
    // Eyes
    E(svg,16*sc,1*sc,0.8*sc,0.8*sc,'#111',op*0.5);E(svg,19*sc,1*sc,0.8*sc,0.8*sc,'#111',op*0.5);
    // Forked tongue
    P(svg,`M${17.5*sc},${-2*sc} L${16*sc},${-5*sc}`,bloodCol,op*0.3,'none',0.3*sc);
    P(svg,`M${17.5*sc},${-2*sc} L${18*sc},${-5.5*sc}`,bloodCol,op*0.3,'none',0.3*sc);
    // Scales pattern
    for(let coil=0;coil<5;coil++){const y=5+coil*10;
    for(let i=0;i<8;i++){const sx=R(8,32)*sc,sy=(y+R(0,8))*sc;
    E(svg,sx,sy,R(0.8,1.5)*sc,R(0.5,1)*sc,col,op*0.08);}}
    // Tail
    P(svg,`M${12*sc},${52*sc} Q${10*sc},${56*sc} ${13*sc},${58*sc} L${15*sc},${57*sc}`,col,op*0.25,'none',0.5*sc);
  }

  // Generator #140 — Ritual Candle Circle
  function ritualCandleCircle(parent,cx,cy,sc,op){
    const svg=S(parent,cx-30*sc,cy-30*sc,60*sc,60*sc,op);const c=30*sc;
    // Outer circle (drawn in wax/blood)
    E(svg,c,c,26*sc,26*sc,'none',op*0.25,col,0.6*sc);
    E(svg,c,c,24*sc,24*sc,'none',op*0.1,col,0.2*sc);
    // Candles at 8 positions
    for(let i=0;i<8;i++){const a=i/8*Math.PI*2;const cx2=c+Math.cos(a)*22*sc,cy2=c+Math.sin(a)*22*sc;
    P(svg,`M${cx2},${cy2+3*sc} L${cx2},${cy2-R(4,10)*sc}`,col,op*0.3,'none',0.6*sc);
    P(svg,`M${cx2},${cy2-R(4,10)*sc} Q${cx2-1*sc},${cy2-R(7,13)*sc} ${cx2},${cy2-R(9,15)*sc} Q${cx2+1*sc},${cy2-R(7,13)*sc} ${cx2},${cy2-R(4,10)*sc}`,col,op*0.12,col+'08',0.2*sc);
    // Wax pool
    E(svg,cx2,cy2+3*sc,2*sc,1*sc,col,op*0.1);}
    // Inner symbol (inverted pentagram)
    const pts=[];for(let i=0;i<5;i++){const a=i/5*Math.PI*2+Math.PI/2;pts.push({x:c+Math.cos(a)*12*sc,y:c+Math.sin(a)*12*sc});}
    for(let i=0;i<5;i++){const j=(i+2)%5;P(svg,`M${pts[i].x},${pts[i].y} L${pts[j].x},${pts[j].y}`,bloodCol,op*0.2,'none',0.4*sc);}
    // Runes between candles
    for(let i=0;i<8;i++){const a=(i+0.5)/8*Math.PI*2;const rx=c+Math.cos(a)*18*sc,ry=c+Math.sin(a)*18*sc;
    P(svg,`M${rx},${ry} L${rx+R(-2,2)*sc},${ry+R(-2,2)*sc}`,col,op*0.12,'none',0.3*sc);
    P(svg,`M${rx+R(-1,1)*sc},${ry+R(-1,1)*sc} L${rx+R(-2,2)*sc},${ry+R(-2,2)*sc}`,col,op*0.08,'none',0.2*sc);}
  }

  // Generator #141 — Eye Cluster
  function eyeCluster(parent,cx,cy,sc,op){
    const svg=S(parent,cx-20*sc,cy-15*sc,40*sc,30*sc,op);
    for(let i=0;i<RI(5,9);i++){
      const ex=R(5,35)*sc,ey=R(5,25)*sc,es=R(2,5)*sc;
      // Eye shape
      P(svg,`M${ex-es},${ey} Q${ex},${ey-es*0.6} ${ex+es},${ey} Q${ex},${ey+es*0.6} ${ex-es},${ey}`,col,op*0.3,'none',0.4*sc);
      // Iris
      E(svg,ex,ey,es*0.4,es*0.4,'none',op*0.3,col,0.3*sc);
      // Pupil
      E(svg,ex,ey,es*0.2,es*0.2,col,op*0.5);
      // Blood tear
      if(R(0,1)<0.5){P(svg,`M${ex},${ey+es*0.4} L${ex+R(-1,1)*sc},${ey+es*0.4+R(2,6)*sc}`,bloodCol,op*0.2,'none',0.3*sc);}
    }
    // Connecting tissue between eyes
    for(let i=0;i<4;i++){
      const x1=R(8,32)*sc,y1=R(8,22)*sc,x2=x1+R(-8,8)*sc,y2=y1+R(-5,5)*sc;
      P(svg,`M${x1},${y1} Q${(x1+x2)/2+R(-3,3)*sc},${(y1+y2)/2+R(-3,3)*sc} ${x2},${y2}`,col,op*0.08,'none',0.2*sc);
    }
  }

  // Generator #142 — Death Mask
  function deathMask(parent,cx,cy,sc,op){
    const svg=S(parent,cx-15*sc,cy-20*sc,30*sc,40*sc,op);
    // Mask outline
    P(svg,`M${10*sc},${5*sc} Q${5*sc},${15*sc} ${7*sc},${25*sc} Q${10*sc},${35*sc} ${15*sc},${37*sc} Q${20*sc},${35*sc} ${23*sc},${25*sc} Q${25*sc},${15*sc} ${20*sc},${5*sc} Q${15*sc},${2*sc} ${10*sc},${5*sc}`,col,op*0.4,col+'0a',0.7*sc);
    // Hollow eyes
    E(svg,11.5*sc,14*sc,2.5*sc,3.5*sc,'#111',op*0.6,col,0.4*sc);
    E(svg,18.5*sc,14*sc,2.5*sc,3.5*sc,'#111',op*0.6,col,0.4*sc);
    // Nose (triangle hollow)
    P(svg,`M${14*sc},${20*sc} L${15*sc},${24*sc} L${16*sc},${20*sc} Z`,col,op*0.35,'#111',0.3*sc);
    // Mouth (thin line)
    P(svg,`M${11*sc},${28*sc} Q${13*sc},${30*sc} ${15*sc},${29*sc} Q${17*sc},${30*sc} ${19*sc},${28*sc}`,col,op*0.3,'none',0.4*sc);
    // Cracks
    P(svg,`M${12*sc},${8*sc} Q${10*sc},${12*sc} ${9*sc},${18*sc}`,col,op*0.15,'none',0.3*sc);
    P(svg,`M${20*sc},${10*sc} Q${22*sc},${16*sc} ${21*sc},${22*sc}`,col,op*0.15,'none',0.3*sc);
    // Straps (ties on sides)
    P(svg,`M${5*sc},${15*sc} L${0},${14*sc}`,col,op*0.2,'none',0.4*sc);
    P(svg,`M${25*sc},${15*sc} L${30*sc},${14*sc}`,col,op*0.2,'none',0.4*sc);
    // Blood tears
    for(let side=-1;side<=1;side+=2){const ex=15+side*3.5;
    P(svg,`M${ex*sc},${17.5*sc} Q${(ex+R(-0.5,0.5))*sc},${22*sc} ${(ex+R(-1,1))*sc},${26*sc}`,bloodCol,op*0.25,'none',0.4*sc);}
  }

  // Generator #143 — Voodoo Doll
  function voodooDoll(parent,cx,cy,sc,op){
    const svg=S(parent,cx-12*sc,cy-25*sc,24*sc,50*sc,op);
    // Head
    E(svg,12*sc,8*sc,5*sc,6*sc,col,op*0.35,col+'15',0.5*sc);
    // Button eyes
    E(svg,10*sc,7*sc,1.2*sc,1.2*sc,col,op*0.4,col,0.3*sc);P(svg,`M${9*sc},${6*sc} L${11*sc},${8*sc}`,col,op*0.3,'none',0.3*sc);P(svg,`M${11*sc},${6*sc} L${9*sc},${8*sc}`,col,op*0.3,'none',0.3*sc);
    E(svg,14*sc,7*sc,1.2*sc,1.2*sc,col,op*0.4,col,0.3*sc);P(svg,`M${13*sc},${6*sc} L${15*sc},${8*sc}`,col,op*0.3,'none',0.3*sc);P(svg,`M${15*sc},${6*sc} L${13*sc},${8*sc}`,col,op*0.3,'none',0.3*sc);
    // Stitched mouth
    P(svg,`M${9.5*sc},${11*sc} L${14.5*sc},${11*sc}`,col,op*0.3,'none',0.4*sc);
    for(let x=10;x<15;x+=1.5){P(svg,`M${x*sc},${10*sc} L${x*sc},${12*sc}`,col,op*0.25,'none',0.2*sc);}
    // Body
    P(svg,`M${8*sc},${14*sc} Q${7*sc},${22*sc} ${8*sc},${30*sc} L${16*sc},${30*sc} Q${17*sc},${22*sc} ${16*sc},${14*sc}`,col,op*0.3,col+'10',0.5*sc);
    // Arms
    P(svg,`M${8*sc},${18*sc} Q${3*sc},${20*sc} ${1*sc},${24*sc}`,col,op*0.25,'none',0.6*sc);
    P(svg,`M${16*sc},${18*sc} Q${21*sc},${20*sc} ${23*sc},${24*sc}`,col,op*0.25,'none',0.6*sc);
    // Legs
    P(svg,`M${10*sc},${30*sc} Q${9*sc},${38*sc} ${8*sc},${45*sc}`,col,op*0.25,'none',0.6*sc);
    P(svg,`M${14*sc},${30*sc} Q${15*sc},${38*sc} ${16*sc},${45*sc}`,col,op*0.25,'none',0.6*sc);
    // Pins/needles
    for(let i=0;i<RI(3,6);i++){const px=R(8,16)*sc,py=R(16,28)*sc,pa=R(0,Math.PI*2),plen=R(4,8)*sc;
    P(svg,`M${px},${py} L${px+Math.cos(pa)*plen},${py+Math.sin(pa)*plen}`,col,op*0.4,'none',0.3*sc);
    E(svg,px+Math.cos(pa)*plen,py+Math.sin(pa)*plen,0.8*sc,0.8*sc,bloodCol,op*0.3);
    // Blood at insertion point
    P(svg,`M${px},${py} L${px+R(-1,1)*sc},${py+R(1,4)*sc}`,bloodCol,op*0.2,'none',0.3*sc);}
    // Seam line down center
    for(let y=15;y<29;y+=2.5){P(svg,`M${11.5*sc},${y*sc} L${12.5*sc},${(y+1.5)*sc}`,col,op*0.15,'none',0.2*sc);}
  }

  // Generator #144 — Gravestone
  function gravestone(parent,cx,cy,sc,op){
    const svg=S(parent,cx-15*sc,cy-25*sc,30*sc,45*sc,op);
    // Stone shape (rounded top)
    P(svg,`M${5*sc},${40*sc} L${5*sc},${12*sc} Q${5*sc},${2*sc} ${15*sc},${2*sc} Q${25*sc},${2*sc} ${25*sc},${12*sc} L${25*sc},${40*sc}`,col,op*0.4,col+'0a',0.7*sc);
    // Inner border
    P(svg,`M${8*sc},${38*sc} L${8*sc},${14*sc} Q${8*sc},${5*sc} ${15*sc},${5*sc} Q${22*sc},${5*sc} ${22*sc},${14*sc} L${22*sc},${38*sc}`,col,op*0.15,'none',0.3*sc);
    // Cross
    P(svg,`M${15*sc},${8*sc} L${15*sc},${20*sc}`,col,op*0.3,'none',0.5*sc);
    P(svg,`M${11*sc},${13*sc} L${19*sc},${13*sc}`,col,op*0.25,'none',0.4*sc);
    // RIP text lines (abstract)
    for(let y=23;y<36;y+=3){const lw=R(6,14)*sc;P(svg,`M${(15-lw/2/sc)*sc},${y*sc} L${(15+lw/2/sc)*sc},${y*sc}`,col,op*0.1,'none',0.3*sc);}
    // Cracks
    P(svg,`M${R(8,22)*sc},${R(10,30)*sc} L${R(7,23)*sc},${R(15,35)*sc}`,col,op*0.1,'none',0.2*sc);
    // Grass/ground at base
    P(svg,`M${0},${40*sc} L${30*sc},${40*sc}`,col,op*0.15,'none',0.3*sc);
    for(let x=2;x<28;x+=3){P(svg,`M${x*sc},${40*sc} L${(x+R(-1,1))*sc},${(40-R(2,5))*sc}`,col,op*0.08,'none',0.2*sc);}
    // Crow perched
    if(R(0,1)<0.3){P(svg,`M${18*sc},${3*sc} Q${20*sc},${0} ${22*sc},${2*sc} L${20*sc},${3*sc} Q${19*sc},${1*sc} ${18*sc},${3*sc}`,col,op*0.2,'none',0.3*sc);}
  }

  // Generator #145 — Bone Pile Mountain
  function bonePileMountain(parent,cx,cy,sc,op){
    const svg=S(parent,cx-35*sc,cy-25*sc,70*sc,40*sc,op);
    // Pile outline (mound shape)
    P(svg,`M${5*sc},${38*sc} Q${15*sc},${20*sc} ${35*sc},${8*sc} Q${55*sc},${20*sc} ${65*sc},${38*sc}`,col,op*0.2,col+'08',0.5*sc);
    // Random bones scattered
    for(let i=0;i<25;i++){const bx=R(10,60)*sc,by=R(12,36)*sc,ba=R(0,Math.PI),blen=R(4,12)*sc;
    // Bone shaft
    P(svg,`M${bx},${by} L${bx+Math.cos(ba)*blen},${by+Math.sin(ba)*blen}`,col,op*R(0.15,0.3),'none',R(0.3,0.8)*sc);
    // Bone knobs at ends
    E(svg,bx,by,R(0.5,1.5)*sc,R(0.5,1.5)*sc,col,op*0.15);
    E(svg,bx+Math.cos(ba)*blen,by+Math.sin(ba)*blen,R(0.5,1.5)*sc,R(0.5,1.5)*sc,col,op*0.15);}
    // Skulls in pile
    for(let i=0;i<6;i++){const sx=R(15,55)*sc,sy=R(15,32)*sc;
    E(svg,sx,sy,R(3,5)*sc,R(3.5,5.5)*sc,col,op*0.2,col,0.3*sc);
    E(svg,sx-1.5*sc,sy-1*sc,0.8*sc,1*sc,'#111',op*0.3);
    E(svg,sx+1.5*sc,sy-1*sc,0.8*sc,1*sc,'#111',op*0.3);}
    // Blood seeping through
    for(let i=0;i<8;i++){E(svg,R(12,58)*sc,R(20,38)*sc,R(1,3)*sc,R(0.5,1.5)*sc,bloodCol,op*0.1);}
  }

  // Generator #146 — Dripping Candelabra
  function drippingCandelabra(parent,cx,cy,sc,op){
    const svg=S(parent,cx-30*sc,cy-50*sc,60*sc,100*sc,op);
    P(svg,`M${30*sc},${95*sc} L${30*sc},${30*sc}`,col,op*0.5,'none',1.5*sc);
    P(svg,`M${20*sc},${95*sc} Q${25*sc},${92*sc} ${30*sc},${90*sc} Q${35*sc},${92*sc} ${40*sc},${95*sc}`,col,op*0.4,'none',1*sc);
    const arms=[{x:30,y:30},{x:10,y:35},{x:50,y:35},{x:5,y:42},{x:55,y:42},{x:15,y:48},{x:45,y:48}];
    for(const arm of arms){if(arm.x!==30)P(svg,`M${30*sc},${arm.y*sc} Q${((30+arm.x)/2)*sc},${(arm.y-3)*sc} ${arm.x*sc},${arm.y*sc}`,col,op*0.4,'none',0.8*sc);
    const ch=R(6,14);P(svg,`M${arm.x*sc},${arm.y*sc} L${arm.x*sc},${(arm.y-3-ch)*sc}`,col,op*0.35,'none',0.7*sc);
    P(svg,`M${arm.x*sc},${(arm.y-3-ch)*sc} Q${(arm.x-1)*sc},${(arm.y-3-ch-3)*sc} ${arm.x*sc},${(arm.y-3-ch-5)*sc} Q${(arm.x+1)*sc},${(arm.y-3-ch-3)*sc} ${arm.x*sc},${(arm.y-3-ch)*sc}`,col,op*0.15,col+'0a',0.2*sc);
    for(let d=0;d<RI(1,3);d++){const wx=arm.x+R(-1,1);P(svg,`M${wx*sc},${(arm.y-2)*sc} L${(wx+R(-1,1))*sc},${arm.y*sc+2*sc}`,col,op*0.12,'none',0.4*sc);}}
    for(let i=0;i<6;i++){P(svg,`M${R(8,52)*sc},${R(40,60)*sc} L${R(7,53)*sc},${R(65,85)*sc}`,bloodCol,op*0.2,'none',0.4*sc);}
  }

  // Generator #147 — Tombstone Row
  function tombstoneRow(parent,cx,cy,sc,op){
    const svg=S(parent,cx-40*sc,cy-20*sc,80*sc,35*sc,op);
    for(let i=0;i<RI(4,7);i++){const tx=5+i*12,tw=R(6,10),th=R(12,20);
    P(svg,`M${(tx)*sc},${30*sc} L${(tx)*sc},${(30-th)*sc} Q${(tx)*sc},${(30-th-4)*sc} ${(tx+tw/2)*sc},${(30-th-5)*sc} Q${(tx+tw)*sc},${(30-th-4)*sc} ${(tx+tw)*sc},${(30-th)*sc} L${(tx+tw)*sc},${30*sc}`,col,op*0.25,col+'08',0.4*sc);
    // Cross on each
    const cx2=tx+tw/2;P(svg,`M${cx2*sc},${(30-th-2)*sc} L${cx2*sc},${(30-th+5)*sc}`,col,op*0.15,'none',0.3*sc);
    P(svg,`M${(cx2-2)*sc},${(30-th+1)*sc} L${(cx2+2)*sc},${(30-th+1)*sc}`,col,op*0.12,'none',0.2*sc);}
    // Ground line
    P(svg,`M${0},${30*sc} L${80*sc},${30*sc}`,col,op*0.15,'none',0.3*sc);
  }

  // Generator #148 — Bleeding Rose
  function bleedingRose(parent,cx,cy,sc,op){
    const svg=S(parent,cx-12*sc,cy-15*sc,24*sc,30*sc,op);
    // Petals (concentric)
    for(let p=0;p<5;p++){const pr=3+p*1.8,pa=R(0,Math.PI*2);
    E(svg,12*sc+Math.cos(pa)*0.5*sc,10*sc+Math.sin(pa)*0.5*sc,pr*sc,(pr-0.5)*sc,'none',op*(0.25-p*0.03),col,0.4*sc);}
    // Center
    E(svg,12*sc,10*sc,1.5*sc,1.5*sc,col,op*0.2);
    // Stem
    P(svg,`M${12*sc},${14*sc} Q${11*sc},${20*sc} ${12*sc},${28*sc}`,col,op*0.3,'none',0.5*sc);
    // Thorns on stem
    for(let y=16;y<26;y+=3){const side=y%6<3?-1:1;
    P(svg,`M${12*sc},${y*sc} L${(12+side*2)*sc},${(y-1)*sc}`,col,op*0.2,'none',0.3*sc);}
    // Leaves
    P(svg,`M${12*sc},${20*sc} Q${8*sc},${18*sc} ${6*sc},${20*sc} Q${8*sc},${22*sc} ${12*sc},${20*sc}`,col,op*0.15,'none',0.3*sc);
    // Blood dripping from petals
    for(let i=0;i<4;i++){const ba=R(0,Math.PI*2),br=R(5,9)*sc;
    P(svg,`M${12*sc+Math.cos(ba)*br},${10*sc+Math.sin(ba)*br} L${12*sc+Math.cos(ba)*br+R(-1,1)*sc},${10*sc+Math.sin(ba)*br+R(3,8)*sc}`,bloodCol,op*0.2,'none',0.3*sc);}
  }

  // Generator #149 — Coffin Nail Cross (upgraded)
  function coffinNailCrossBig(parent,cx,cy,sc,op){
    const svg=S(parent,cx-15*sc,cy-25*sc,30*sc,50*sc,op);
    // Four large nails forming a cross
    // Vertical nail
    P(svg,`M${15*sc},${2*sc} L${14*sc},${5*sc} L${14.5*sc},${38*sc} L${15.5*sc},${38*sc} L${16*sc},${5*sc} Z`,col,op*0.4,col+'15',0.5*sc);
    P(svg,`M${15*sc},${38*sc} L${14*sc},${40*sc} L${15*sc},${48*sc} L${16*sc},${40*sc} Z`,col,op*0.45,col,0.3*sc);
    // Horizontal nail
    P(svg,`M${2*sc},${18*sc} L${5*sc},${17*sc} L${25*sc},${17.5*sc} L${25*sc},${18.5*sc} L${5*sc},${19*sc} Z`,col,op*0.35,col+'12',0.5*sc);
    P(svg,`M${25*sc},${18*sc} L${27*sc},${17*sc} L${29*sc},${18*sc} L${27*sc},${19*sc} Z`,col,op*0.4,col,0.3*sc);
    // Nail heads
    E(svg,15*sc,3*sc,3*sc,1.5*sc,col,op*0.4,col,0.4*sc);
    E(svg,3*sc,18*sc,1.5*sc,3*sc,col,op*0.35,col,0.3*sc);
    // Rust/blood stains
    for(let i=0;i<5;i++){E(svg,R(10,20)*sc,R(8,35)*sc,R(1,2.5)*sc,R(0.5,1.5)*sc,bloodCol,op*0.12);}
    // Blood at nail tips
    P(svg,`M${15*sc},${48*sc} L${15*sc+R(-1,1)*sc},${48*sc+R(3,8)*sc}`,bloodCol,op*0.25,'none',0.4*sc);
    P(svg,`M${29*sc},${18*sc} L${29*sc+R(2,5)*sc},${18*sc+R(-1,1)*sc}`,bloodCol,op*0.2,'none',0.3*sc);
  }

  // Generator #150 — Hanging Gibbet Cage
  function gibbetCage(parent,cx,cy,sc,op){
    const svg=S(parent,cx-12*sc,cy-55*sc,24*sc,85*sc,op);
    // Chain
    for(let y=0;y<20;y+=3){E(svg,12*sc,y*sc,2*sc,1.5*sc,'none',op*0.4,col,0.5*sc);}
    // Cage frame (iron bands)
    E(svg,12*sc,45*sc,10*sc,22*sc,'none',op*0.35,col,0.8*sc);
    // Vertical bars
    for(let i=0;i<6;i++){const a=i/6*Math.PI*2;
    P(svg,`M${12*sc+Math.cos(a)*10*sc},${25*sc} L${12*sc+Math.cos(a)*10*sc},${65*sc}`,col,op*0.2,'none',0.4*sc);}
    // Horizontal bands
    for(let y=30;y<60;y+=10){E(svg,12*sc,y*sc,10*sc,3*sc,'none',op*0.2,col,0.4*sc);}
    // Hook at top
    P(svg,`M${12*sc},${20*sc} L${12*sc},${23*sc} Q${12*sc},${26*sc} ${10*sc},${26*sc}`,col,op*0.4,'none',0.8*sc);
    // Bones visible inside
    E(svg,12*sc,40*sc,4*sc,5*sc,col,op*0.12,col,0.2*sc);
    P(svg,`M${10*sc},${50*sc} L${14*sc},${55*sc}`,col,op*0.1,'none',0.3*sc);
    P(svg,`M${14*sc},${50*sc} L${10*sc},${55*sc}`,col,op*0.1,'none',0.3*sc);
    // Blood drips
    for(let i=0;i<4;i++){P(svg,`M${12*sc+R(-5,5)*sc},${65*sc} L${12*sc+R(-6,6)*sc},${65*sc+R(5,15)*sc}`,bloodCol,op*0.2,'none',0.3*sc);}
  }

  // ── RAPTURE SECTION PLACEMENT — FINAL WAVE ──
  const raptureTargets=document.querySelectorAll('section');
  raptureTargets.forEach(sec=>{
    const w=sec.offsetWidth,h=sec.offsetHeight;
    for(let i=0;i<RI(1,2);i++) bleedingTree(sec,R(0,w),R(0,h),R(0.1,0.25),R(0.006,0.015));
    for(let i=0;i<RI(1,2);i++) cemeteryGate(sec,R(0,w),R(0,h),R(0.1,0.2),R(0.005,0.012));
    for(let i=0;i<RI(1,2);i++) boneChandelier(sec,R(0,w),R(0,h),R(0.12,0.28),R(0.008,0.02));
    for(let i=0;i<RI(2,4);i++) serpentCoil(sec,R(0,w),R(0,h),R(0.15,0.4),R(0.01,0.03));
    for(let i=0;i<RI(2,3);i++) ritualCandleCircle(sec,R(0,w),R(0,h),R(0.15,0.35),R(0.01,0.025));
    for(let i=0;i<RI(3,6);i++) eyeCluster(sec,R(0,w),R(0,h),R(0.2,0.5),R(0.015,0.04));
    for(let i=0;i<RI(2,4);i++) deathMask(sec,R(0,w),R(0,h),R(0.2,0.45),R(0.015,0.035));
    for(let i=0;i<RI(2,4);i++) voodooDoll(sec,R(0,w),R(0,h),R(0.2,0.45),R(0.015,0.035));
    for(let i=0;i<RI(2,4);i++) gravestone(sec,R(0,w),R(0,h),R(0.2,0.5),R(0.015,0.04));
    for(let i=0;i<RI(2,3);i++) bonePileMountain(sec,R(0,w),R(0,h),R(0.15,0.35),R(0.01,0.025));
    for(let i=0;i<RI(1,3);i++) drippingCandelabra(sec,R(0,w),R(0,h),R(0.12,0.3),R(0.008,0.02));
    for(let i=0;i<RI(2,4);i++) tombstoneRow(sec,R(0,w),R(0,h),R(0.2,0.5),R(0.015,0.04));
    for(let i=0;i<RI(3,6);i++) bleedingRose(sec,R(0,w),R(0,h),R(0.25,0.6),R(0.02,0.05));
    for(let i=0;i<RI(3,5);i++) coffinNailCrossBig(sec,R(0,w),R(0,h),R(0.2,0.5),R(0.015,0.04));
    for(let i=0;i<RI(2,3);i++) gibbetCage(sec,R(0,w),R(0,h),R(0.15,0.35),R(0.01,0.025));

    // Final blood DOM cascade — complete carnage
    for(let i=0;i<RI(6,14);i++){
      const drip=document.createElement('div');drip.className='blood-drip';
      drip.style.cssText=`left:${R(0,100)}%;top:${R(-10,90)}%;height:${R(40,300)}px;animation-delay:${R(0,18)}s;animation-duration:${R(1,12)}s;opacity:${R(0.08,0.25)}`;
      sec.appendChild(drip);
    }
  });

  // ── RAPTURE BACKGROUND FLOOD ──
  const bgR=document.getElementById('bgFiligree');
  if(bgR){
    for(let i=0;i<12;i++) bleedingTree(bgR,R(0,1200),R(0,5000),R(0.05,0.12),R(0.002,0.004));
    for(let i=0;i<8;i++) cemeteryGate(bgR,R(0,1200),R(0,5000),R(0.04,0.1),R(0.001,0.003));
    for(let i=0;i<10;i++) boneChandelier(bgR,R(0,1200),R(0,5000),R(0.06,0.14),R(0.002,0.005));
    for(let i=0;i<20;i++) serpentCoil(bgR,R(0,1200),R(0,5000),R(0.08,0.2),R(0.002,0.006));
    for(let i=0;i<15;i++) ritualCandleCircle(bgR,R(0,1200),R(0,5000),R(0.08,0.18),R(0.002,0.005));
    for(let i=0;i<25;i++) eyeCluster(bgR,R(0,1200),R(0,5000),R(0.1,0.25),R(0.003,0.008));
    for(let i=0;i<15;i++) deathMask(bgR,R(0,1200),R(0,5000),R(0.1,0.25),R(0.003,0.008));
    for(let i=0;i<15;i++) voodooDoll(bgR,R(0,1200),R(0,5000),R(0.1,0.25),R(0.003,0.008));
    for(let i=0;i<20;i++) gravestone(bgR,R(0,1200),R(0,5000),R(0.08,0.2),R(0.002,0.006));
    for(let i=0;i<12;i++) bonePileMountain(bgR,R(0,1200),R(0,5000),R(0.08,0.2),R(0.002,0.005));
    for(let i=0;i<20;i++) tombstoneRow(bgR,R(0,1200),R(0,5000),R(0.1,0.25),R(0.003,0.008));
    for(let i=0;i<25;i++) bleedingRose(bgR,R(0,1200),R(0,5000),R(0.12,0.3),R(0.003,0.008));
    for(let i=0;i<20;i++) coffinNailCrossBig(bgR,R(0,1200),R(0,5000),R(0.1,0.25),R(0.003,0.008));
    for(let i=0;i<10;i++) gibbetCage(bgR,R(0,1200),R(0,5000),R(0.08,0.2),R(0.002,0.005));
  }

  console.log('[Gothic Filigree Engine v4 — RAPTURE LAYER] Generators #136-150 deployed. ABSOLUTE MAXIMUM DENSITY.');


  // ████████████████████████████████████████████████████████████████████████████
  // ██  LAYER XXII — OBLIVION: THE FINAL FLOODING                           ██
  // ██  Generators #151-170 + Ultimate density multiplication                ██
  // ██  Bone throne frames, wraith silhouettes, blood scripture,             ██
  // ██  cathedral organ pipes, plague rats, eclipse symbols,                 ██
  // ██  weeping willows, flaming skulls, iron chain curtains                 ██
  // ████████████████████████████████████████████████████████████████████████████

  // Generator #151 — Bone Throne Frame
  function boneThroneFrame(parent,cx,cy,sc,op){
    const svg=S(parent,cx-30*sc,cy-40*sc,60*sc,80*sc,op);
    // Throne back (tall pointed)
    P(svg,`M${10*sc},${75*sc} L${10*sc},${15*sc} Q${10*sc},${5*sc} ${30*sc},${2*sc} Q${50*sc},${5*sc} ${50*sc},${15*sc} L${50*sc},${75*sc}`,col,op*0.4,col+'0a',0.8*sc);
    // Inner frame
    P(svg,`M${15*sc},${72*sc} L${15*sc},${18*sc} Q${15*sc},${10*sc} ${30*sc},${8*sc} Q${45*sc},${10*sc} ${45*sc},${18*sc} L${45*sc},${72*sc}`,col,op*0.2,'none',0.4*sc);
    // Armrests (bones)
    P(svg,`M${10*sc},${45*sc} L${3*sc},${45*sc}`,col,op*0.35,'none',1.2*sc);
    P(svg,`M${50*sc},${45*sc} L${57*sc},${45*sc}`,col,op*0.35,'none',1.2*sc);
    E(svg,3*sc,45*sc,2*sc,2*sc,col,op*0.25,col,0.3*sc);
    E(svg,57*sc,45*sc,2*sc,2*sc,col,op*0.25,col,0.3*sc);
    // Skull at apex
    E(svg,30*sc,5*sc,5*sc,6*sc,col,op*0.35,col,0.4*sc);
    E(svg,28*sc,4*sc,1.2*sc,1.5*sc,'#111',op*0.5);E(svg,32*sc,4*sc,1.2*sc,1.5*sc,'#111',op*0.5);
    // Bone decorations along back
    for(let y=15;y<70;y+=8){for(let side=-1;side<=1;side+=2){
    const bx=30+side*15;P(svg,`M${bx*sc},${y*sc} L${(bx+side*3)*sc},${(y+2)*sc}`,col,op*0.15,'none',0.4*sc);
    E(svg,(bx+side*3)*sc,(y+2)*sc,1*sc,1*sc,col,op*0.1);}}
    // Seat
    P(svg,`M${12*sc},${65*sc} L${48*sc},${65*sc}`,col,op*0.2,'none',0.5*sc);
    // Blood pooling on seat
    E(svg,30*sc,67*sc,12*sc,3*sc,bloodCol,op*0.12);
    // Blood dripping from armrests
    for(let side of[3,57]){P(svg,`M${side*sc},${47*sc} L${side*sc+R(-1,1)*sc},${47*sc+R(5,15)*sc}`,bloodCol,op*0.2,'none',0.3*sc);}
  }

  // Generator #152 — Wraith Silhouette
  function wraithSilhouette(parent,cx,cy,sc,op){
    const svg=S(parent,cx-20*sc,cy-40*sc,40*sc,80*sc,op);
    // Hooded figure (flowing robes)
    P(svg,`M${20*sc},${3*sc} Q${12*sc},${5*sc} ${10*sc},${15*sc} Q${8*sc},${25*sc} ${5*sc},${40*sc} Q${3*sc},${55*sc} ${8*sc},${70*sc} Q${12*sc},${76*sc} ${20*sc},${78*sc} Q${28*sc},${76*sc} ${32*sc},${70*sc} Q${37*sc},${55*sc} ${35*sc},${40*sc} Q${32*sc},${25*sc} ${30*sc},${15*sc} Q${28*sc},${5*sc} ${20*sc},${3*sc}`,col,op*0.2,col+'08',0.5*sc);
    // Hood
    P(svg,`M${14*sc},${10*sc} Q${13*sc},${5*sc} ${20*sc},${2*sc} Q${27*sc},${5*sc} ${26*sc},${10*sc}`,col,op*0.3,'none',0.6*sc);
    // Face shadow (just dark void)
    E(svg,20*sc,12*sc,4*sc,5*sc,'#111',op*0.15);
    // Glowing eyes (tiny)
    E(svg,18*sc,11*sc,0.6*sc,0.6*sc,col,op*0.35);E(svg,22*sc,11*sc,0.6*sc,0.6*sc,col,op*0.35);
    // Robe folds
    P(svg,`M${12*sc},${25*sc} Q${15*sc},${35*sc} ${10*sc},${50*sc}`,col,op*0.1,'none',0.3*sc);
    P(svg,`M${28*sc},${25*sc} Q${25*sc},${35*sc} ${30*sc},${50*sc}`,col,op*0.1,'none',0.3*sc);
    P(svg,`M${16*sc},${30*sc} Q${18*sc},${45*sc} ${14*sc},${60*sc}`,col,op*0.08,'none',0.2*sc);
    // Skeletal hand reaching out
    P(svg,`M${10*sc},${35*sc} Q${5*sc},${33*sc} ${2*sc},${30*sc}`,col,op*0.2,'none',0.4*sc);
    for(let f=0;f<3;f++){P(svg,`M${2*sc},${30*sc} L${(2-f*1.5)*sc},${(28-f*2)*sc}`,col,op*0.15,'none',0.2*sc);}
    // Ethereal wisps trailing
    for(let i=0;i<5;i++){const wy=R(60,75)*sc,wx=R(8,32)*sc;
    P(svg,`M${wx},${wy} Q${wx+R(-5,5)*sc},${wy+R(2,8)*sc} ${wx+R(-8,8)*sc},${wy+R(5,15)*sc}`,col,op*0.05,'none',0.3*sc);}
  }

  // Generator #153 — Blood Scripture (dense text-like lines)
  function bloodScripture(parent,cx,cy,sc,op){
    const svg=S(parent,cx-25*sc,cy-20*sc,50*sc,40*sc,op);
    // Lines of "text" (varying lengths, blood-colored)
    for(let y=3;y<38;y+=2.5){
      const indent=R(0,5)*sc;
      const lineLen=R(20,45)*sc;
      P(svg,`M${indent+2*sc},${y*sc} L${indent+lineLen},${y*sc}`,col,op*R(0.08,0.18),'none',R(0.2,0.4)*sc);
      // Occasional blood smear on text
      if(R(0,1)<0.15){E(svg,indent+lineLen*R(0.3,0.7),y*sc,R(2,5)*sc,R(0.5,1.5)*sc,bloodCol,op*0.08);}
    }
    // Blood drops on page
    for(let i=0;i<6;i++){E(svg,R(5,45)*sc,R(5,35)*sc,R(0.5,2)*sc,R(0.5,1.5)*sc,bloodCol,op*0.12);}
    // Corner decorations (tiny filigree)
    P(svg,`M${2*sc},${2*sc} Q${5*sc},${0} ${8*sc},${2*sc}`,col,op*0.12,'none',0.2*sc);
    P(svg,`M${42*sc},${2*sc} Q${45*sc},${0} ${48*sc},${2*sc}`,col,op*0.12,'none',0.2*sc);
  }

  // Generator #154 — Cathedral Organ Pipes
  function organPipes(parent,cx,cy,sc,op){
    const svg=S(parent,cx-25*sc,cy-45*sc,50*sc,80*sc,op);
    // Pipes (varied heights, tallest in center)
    const pipes=[{x:5,h:30},{x:10,h:45},{x:15,h:60},{x:20,h:70},{x:25,h:75},{x:30,h:70},{x:35,h:60},{x:40,h:45},{x:45,h:30}];
    for(const p of pipes){
      // Pipe body
      R2(svg,(p.x-1.5)*sc,(75-p.h)*sc,3*sc,p.h*sc,col,op*0.3,col+'0a',0.5*sc);
      // Pipe top (flared)
      P(svg,`M${(p.x-2.5)*sc},${(75-p.h)*sc} L${(p.x+2.5)*sc},${(75-p.h)*sc}`,col,op*0.35,'none',0.5*sc);
      // Sound hole
      E(svg,p.x*sc,(75-p.h+2)*sc,1*sc,1.5*sc,'#111',op*0.2);
      // Pipe detail lines
      P(svg,`M${(p.x-1)*sc},${(75-p.h+5)*sc} L${(p.x-1)*sc},${75*sc}`,col,op*0.05,'none',0.15*sc);
      P(svg,`M${(p.x+1)*sc},${(75-p.h+5)*sc} L${(p.x+1)*sc},${75*sc}`,col,op*0.05,'none',0.15*sc);
    }
    // Base platform
    R2(svg,2*sc,75*sc,46*sc,5*sc,col,op*0.25,col+'08',0.5*sc);
    // Ornamental cornice
    P(svg,`M${2*sc},${75*sc} Q${25*sc},${73*sc} ${48*sc},${75*sc}`,col,op*0.15,'none',0.3*sc);
    // Blood dripping from pipes
    for(let i=0;i<5;i++){const px=pipes[RI(0,pipes.length-1)].x;
    P(svg,`M${px*sc},${75*sc} L${px*sc+R(-1,1)*sc},${75*sc+R(3,10)*sc}`,bloodCol,op*0.15,'none',0.3*sc);}
  }

  // Generator #155 — Eclipse Symbol
  function eclipseSymbol(parent,cx,cy,sc,op){
    const svg=S(parent,cx-20*sc,cy-20*sc,40*sc,40*sc,op);const c=20*sc;
    // Outer sun circle
    E(svg,c,c,18*sc,18*sc,'none',op*0.3,col,0.7*sc);
    // Moon overlapping (creating eclipse)
    E(svg,c+4*sc,c-2*sc,15*sc,15*sc,col+'08',op*0.15,col,0.5*sc);
    // Corona rays (only visible behind moon)
    for(let i=0;i<24;i++){const a=i/24*Math.PI*2;
    const inner=18*sc,outer=inner+R(3,8)*sc;
    P(svg,`M${c+Math.cos(a)*inner},${c+Math.sin(a)*inner} L${c+Math.cos(a)*outer},${c+Math.sin(a)*outer}`,col,op*0.12,'none',0.3*sc);}
    // Blood dripping from eclipse
    for(let i=0;i<4;i++){P(svg,`M${c+R(-8,8)*sc},${c+18*sc} L${c+R(-10,10)*sc},${c+18*sc+R(5,15)*sc}`,bloodCol,op*0.2,'none',0.3*sc);}
    // Stars around eclipse
    for(let i=0;i<8;i++){const a=R(0,Math.PI*2),r=R(14,18)*sc;
    E(svg,c+Math.cos(a)*r,c+Math.sin(a)*r,0.5*sc,0.5*sc,col,op*0.12);}
  }

  // Generator #156 — Iron Chain Curtain
  function chainCurtain(parent,cx,cy,sc,op){
    const svg=S(parent,cx-30*sc,cy-5*sc,60*sc,60*sc,op);
    // Hanging chains (vertical)
    for(let x=3;x<58;x+=R(4,7)){
      const chainH=R(30,55);
      for(let y=0;y<chainH;y+=3){
        E(svg,x*sc,y*sc,1.5*sc,1.2*sc,'none',op*(0.2+R(0,0.15)),col,0.4*sc);
      }
      // Blood on some chains
      if(R(0,1)<0.3){P(svg,`M${x*sc},${chainH*sc} L${x*sc+R(-0.5,0.5)*sc},${chainH*sc+R(2,6)*sc}`,bloodCol,op*0.15,'none',0.3*sc);}
    }
    // Top bar
    P(svg,`M${0},${0} L${60*sc},${0}`,col,op*0.3,'none',0.8*sc);
  }

  // Generator #157 — Flaming Skull
  function flamingSkull(parent,cx,cy,sc,op){
    const svg=S(parent,cx-15*sc,cy-20*sc,30*sc,40*sc,op);
    // Skull
    E(svg,15*sc,18*sc,10*sc,11*sc,col,op*0.35,col,0.5*sc);
    E(svg,11*sc,15*sc,2.5*sc,3*sc,'#111',op*0.6);E(svg,19*sc,15*sc,2.5*sc,3*sc,'#111',op*0.6);
    P(svg,`M${13.5*sc},${21*sc} L${15*sc},${23*sc} L${16.5*sc},${21*sc}`,col,op*0.4,'none',0.4*sc);
    P(svg,`M${10*sc},${25*sc} Q${15*sc},${30*sc} ${20*sc},${25*sc}`,col,op*0.3,'none',0.5*sc);
    for(let i=0;i<6;i++){const tx=11*sc+i*1.5*sc;P(svg,`M${tx},${25*sc} L${tx+0.3*sc},${27*sc}`,col,op*0.25,'none',0.2*sc);}
    // Flames from top of skull
    for(let i=0;i<10;i++){const fx=R(8,22)*sc,fh=R(8,18)*sc;
    P(svg,`M${fx},${8*sc} Q${fx+R(-3,3)*sc},${8*sc-fh*0.4} ${fx+R(-2,2)*sc},${8*sc-fh} Q${fx+R(-4,4)*sc},${8*sc-fh*0.6} ${fx+R(-1,1)*sc},${8*sc-fh*0.3}`,col,op*(0.12+R(0,0.08)),'none',R(0.3,0.6)*sc);}
    // Glow inside eyes
    E(svg,11*sc,15*sc,1.2*sc,1.5*sc,col,op*0.08);E(svg,19*sc,15*sc,1.2*sc,1.5*sc,col,op*0.08);
  }

  // Generator #158 — Plague Rat
  function plagueRat(parent,cx,cy,sc,op){
    const svg=S(parent,cx-12*sc,cy-6*sc,24*sc,12*sc,op);
    // Body
    P(svg,`M${4*sc},${6*sc} Q${8*sc},${3*sc} ${14*sc},${4*sc} Q${18*sc},${3*sc} ${20*sc},${5*sc} Q${18*sc},${8*sc} ${14*sc},${9*sc} Q${8*sc},${9*sc} ${4*sc},${6*sc}`,col,op*0.25,col+'0a',0.4*sc);
    // Head
    P(svg,`M${20*sc},${5*sc} Q${22*sc},${4*sc} ${23*sc},${5*sc} Q${22*sc},${6.5*sc} ${20*sc},${6*sc}`,col,op*0.3,col+'08',0.3*sc);
    // Eye
    E(svg,21.5*sc,5*sc,0.4*sc,0.4*sc,'#111',op*0.5);
    // Ear
    E(svg,20*sc,3.5*sc,1*sc,1.2*sc,'none',op*0.2,col,0.2*sc);
    // Tail
    P(svg,`M${4*sc},${6*sc} Q${2*sc},${4*sc} ${0.5*sc},${5*sc} Q${1*sc},${7*sc} ${3*sc},${6.5*sc}`,col,op*0.2,'none',0.3*sc);
    // Legs
    P(svg,`M${10*sc},${8*sc} L${9*sc},${11*sc}`,col,op*0.2,'none',0.3*sc);
    P(svg,`M${16*sc},${8*sc} L${17*sc},${11*sc}`,col,op*0.2,'none',0.3*sc);
    P(svg,`M${8*sc},${8*sc} L${7*sc},${11*sc}`,col,op*0.15,'none',0.2*sc);
    P(svg,`M${18*sc},${7*sc} L${19*sc},${10*sc}`,col,op*0.15,'none',0.2*sc);
  }

  // Generator #159 — Bone Frame Border (horizontal)
  function boneFrameBorder(parent,cx,cy,sc,op){
    const svg=S(parent,cx-40*sc,cy-5*sc,80*sc,10*sc,op);
    // Main bone shaft
    P(svg,`M${2*sc},${5*sc} L${78*sc},${5*sc}`,col,op*0.35,'none',1*sc);
    // Bone knobs at regular intervals
    for(let x=5;x<76;x+=8){
      E(svg,x*sc,5*sc,2*sc,2.5*sc,col,op*0.2,col,0.3*sc);
    }
    // End knobs (larger)
    E(svg,2*sc,5*sc,3*sc,3*sc,col,op*0.25,col,0.4*sc);
    E(svg,78*sc,5*sc,3*sc,3*sc,col,op*0.25,col,0.4*sc);
    // Parallel thin bone
    P(svg,`M${5*sc},${3*sc} L${75*sc},${3*sc}`,col,op*0.1,'none',0.3*sc);
    P(svg,`M${5*sc},${7*sc} L${75*sc},${7*sc}`,col,op*0.1,'none',0.3*sc);
    // Blood at joints
    for(let x=5;x<76;x+=16){E(svg,x*sc,5*sc+R(-1,1)*sc,R(1,2)*sc,R(0.5,1)*sc,bloodCol,op*0.1);}
  }

  // Generator #160 — Weeping Willow
  function weepingWillow(parent,cx,cy,sc,op){
    const svg=S(parent,cx-30*sc,cy-50*sc,60*sc,80*sc,op);
    // Trunk
    P(svg,`M${30*sc},${78*sc} Q${28*sc},${60*sc} ${30*sc},${40*sc} Q${31*sc},${30*sc} ${29*sc},${20*sc}`,col,op*0.35,'none',1.5*sc);
    // Main branches (spreading out then drooping)
    const branches=[{dx:-20,dy:-15,len:35},{dx:-12,dy:-18,len:30},{dx:0,dy:-20,len:25},{dx:12,dy:-18,len:30},{dx:20,dy:-15,len:35}];
    for(const b of branches){
      P(svg,`M${30*sc},${25*sc} Q${(30+b.dx*0.5)*sc},${(25+b.dy*0.5)*sc} ${(30+b.dx)*sc},${(25+b.dy)*sc}`,col,op*0.25,'none',0.8*sc);
      // Hanging tendrils from branch
      const bex=30+b.dx,bey=25+b.dy;
      for(let t=0;t<RI(4,8);t++){
        const tx=bex+R(-5,5),tlen=R(20,50);
        P(svg,`M${tx*sc},${bey*sc} Q${(tx+R(-3,3))*sc},${(bey+tlen*0.3)*sc} ${(tx+R(-4,4))*sc},${(bey+tlen*0.6)*sc} Q${(tx+R(-3,3))*sc},${(bey+tlen*0.8)*sc} ${(tx+R(-2,2))*sc},${(bey+tlen)*sc}`,col,op*(0.08+R(0,0.1)),'none',R(0.2,0.4)*sc);
      }
    }
    // Blood sap dripping
    for(let i=0;i<6;i++){const bx=R(10,50)*sc,by=R(20,60)*sc;
    P(svg,`M${bx},${by} L${bx+R(-1,1)*sc},${by+R(5,12)*sc}`,bloodCol,op*0.12,'none',0.3*sc);}
  }

  // ── OBLIVION SECTION PLACEMENT — THE FINAL FLOOD ──
  const oblivionTargets=document.querySelectorAll('section');
  oblivionTargets.forEach(sec=>{
    const w=sec.offsetWidth,h=sec.offsetHeight;
    for(let i=0;i<RI(1,2);i++) boneThroneFrame(sec,R(0,w),R(0,h),R(0.1,0.25),R(0.006,0.015));
    for(let i=0;i<RI(2,4);i++) wraithSilhouette(sec,R(0,w),R(0,h),R(0.12,0.3),R(0.008,0.02));
    for(let i=0;i<RI(3,5);i++) bloodScripture(sec,R(0,w),R(0,h),R(0.2,0.5),R(0.015,0.04));
    for(let i=0;i<RI(1,3);i++) organPipes(sec,R(0,w),R(0,h),R(0.12,0.3),R(0.008,0.02));
    for(let i=0;i<RI(2,4);i++) eclipseSymbol(sec,R(0,w),R(0,h),R(0.2,0.45),R(0.015,0.035));
    for(let i=0;i<RI(2,3);i++) chainCurtain(sec,R(0,w),R(0,h),R(0.15,0.35),R(0.01,0.025));
    for(let i=0;i<RI(3,5);i++) flamingSkull(sec,R(0,w),R(0,h),R(0.2,0.5),R(0.015,0.04));
    for(let i=0;i<RI(4,8);i++) plagueRat(sec,R(0,w),R(0,h),R(0.3,0.7),R(0.02,0.05));
    for(let i=0;i<RI(3,5);i++) boneFrameBorder(sec,R(0,w),R(0,h),R(0.2,0.5),R(0.015,0.04));
    for(let i=0;i<RI(1,2);i++) weepingWillow(sec,R(0,w),R(0,h),R(0.1,0.25),R(0.006,0.015));

    // ULTIMATE blood DOM annihilation
    for(let i=0;i<RI(10,20);i++){
      const drip=document.createElement('div');drip.className='blood-drip'+(['','-slow','-fast'][RI(0,2)]);
      drip.style.cssText=`left:${R(0,100)}%;top:${R(-15,95)}%;height:${R(30,350)}px;animation-delay:${R(0,20)}s;animation-duration:${R(1,15)}s;opacity:${R(0.06,0.2)}`;
      sec.appendChild(drip);
    }
    for(let i=0;i<RI(8,15);i++){
      const splat=document.createElement('div');splat.className='blood-splatter';
      splat.style.cssText=`left:${R(0,100)}%;top:${R(0,100)}%;width:${R(3,25)}px;height:${R(3,25)}px;animation-delay:${R(0,10)}s;opacity:${R(0.05,0.18)}`;
      sec.appendChild(splat);
    }
    for(let i=0;i<RI(3,6);i++){
      const pool=document.createElement('div');pool.className='blood-pool';
      pool.style.cssText=`left:${R(5,95)}%;bottom:${R(0,8)}%;width:${R(20,60)}px;animation-delay:${R(0,8)}s;opacity:${R(0.05,0.12)}`;
      sec.appendChild(pool);
    }
  });

  // ── OBLIVION BACKGROUND FLOOD — THE ABSOLUTE FINAL WAVE ──
  const bgO=document.getElementById('bgFiligree');
  if(bgO){
    for(let i=0;i<10;i++) boneThroneFrame(bgO,R(0,1200),R(0,5000),R(0.05,0.12),R(0.001,0.004));
    for(let i=0;i<15;i++) wraithSilhouette(bgO,R(0,1200),R(0,5000),R(0.06,0.15),R(0.002,0.005));
    for(let i=0;i<25;i++) bloodScripture(bgO,R(0,1200),R(0,5000),R(0.1,0.25),R(0.003,0.008));
    for(let i=0;i<10;i++) organPipes(bgO,R(0,1200),R(0,5000),R(0.06,0.15),R(0.002,0.005));
    for(let i=0;i<20;i++) eclipseSymbol(bgO,R(0,1200),R(0,5000),R(0.1,0.25),R(0.003,0.008));
    for(let i=0;i<15;i++) chainCurtain(bgO,R(0,1200),R(0,5000),R(0.08,0.2),R(0.002,0.006));
    for(let i=0;i<25;i++) flamingSkull(bgO,R(0,1200),R(0,5000),R(0.1,0.25),R(0.003,0.008));
    for(let i=0;i<30;i++) plagueRat(bgO,R(0,1200),R(0,5000),R(0.15,0.35),R(0.004,0.01));
    for(let i=0;i<20;i++) boneFrameBorder(bgO,R(0,1200),R(0,5000),R(0.1,0.25),R(0.003,0.008));
    for(let i=0;i<8;i++) weepingWillow(bgO,R(0,1200),R(0,5000),R(0.05,0.12),R(0.001,0.004));

    // FINAL FLOOD — existing generators at INSANE new counts
    for(let i=0;i<50;i++) coffinNailCross(bgO,R(0,1200),R(0,5000),R(0.1,0.3),R(0.003,0.008));
    for(let i=0;i<40;i++) screamingSkull(bgO,R(0,1200),R(0,5000),R(0.1,0.3),R(0.003,0.008));
    for(let i=0;i<30;i++) invertedCross(bgO,R(0,1200),R(0,5000),R(0.1,0.3),R(0.003,0.008));
    for(let i=0;i<35;i++) bleedingCross(bgO,R(0,1200),R(0,5000),R(0.1,0.25),R(0.003,0.008));
    for(let i=0;i<25;i++) screamingSkull(bgO,R(0,1200),R(0,5000),R(0.08,0.2),R(0.002,0.006));
    for(let i=0;i<30;i++) barbedWire(bgO,[{x:R(0,400),y:R(20,4980)},{x:R(200,600),y:R(20,4980)+R(-8,8)},{x:R(400,800),y:R(20,4980)+R(-8,8)},{x:R(600,1200),y:R(20,4980)+R(-8,8)}],R(0.003,0.008));
    for(let i=0;i<25;i++) ouroboros(bgO,R(0,1200),R(0,5000),R(0.1,0.25),R(0.003,0.008));
    for(let i=0;i<20;i++) ritualCircle(bgO,R(0,1200),R(0,5000),R(0.1,0.25),R(0.003,0.008));
    for(let i=0;i<15;i++) demonWings(bgO,R(0,1200),R(0,5000),R(0.08,0.2),R(0.002,0.006));
    for(let i=0;i<20;i++) sacrificialAltar(bgO,R(0,1200),R(0,5000),R(0.1,0.25),R(0.003,0.008));
    for(let i=0;i<30;i++) ouroboros(bgO,R(0,1200),R(0,5000),R(0.1,0.3),R(0.003,0.008));
    for(let i=0;i<25;i++) coffinNailCross(bgO,R(0,1200),R(0,5000),R(0.1,0.25),R(0.003,0.008));
    for(let i=0;i<20;i++) flyingRaven(bgO,R(0,1200),R(0,5000),R(0.12,0.3),R(0.003,0.008));
    for(let i=0;i<15;i++) mourningAngel(bgO,R(0,1200),R(0,5000),R(0.06,0.15),R(0.002,0.005));
    for(let i=0;i<20;i++) gargoylePerch(bgO,R(0,1200),R(0,5000),R(0.1,0.25),R(0.003,0.008));
    for(let i=0;i<15;i++) bleedingSacredHeart(bgO,R(0,1200),R(0,5000),R(0.1,0.2),R(0.002,0.006));
  }

  // ── ULTIMATE SECTION-SPECIFIC ORNAMENT BOOST ──
  // Extra ornaments for each specific named section
  (function ultimateBoost(){
    const hero=document.getElementById('hero');
    if(hero){const w=hero.offsetWidth,h=hero.offsetHeight;
    for(let i=0;i<RI(3,6);i++) impaledSkull(hero,R(0,w),R(0,h),R(0.12,0.25),R(0.008,0.015));
    for(let i=0;i<RI(4,8);i++) bloodBurst(hero,R(0,w),R(0,h),R(0.15,0.35),R(0.01,0.02));
    for(let i=0;i<RI(2,4);i++) flamingSkull(hero,R(0,w),R(0,h),R(0.15,0.35),R(0.01,0.02));
    for(let i=0;i<RI(3,5);i++) goreCascade(hero,R(0,w),R(0,h),R(0.15,0.35),R(0.01,0.02));
    for(let i=0;i<RI(2,3);i++) bleedingTree(hero,R(0,w),R(0,h),R(0.08,0.15),R(0.005,0.01));}

    const about=document.getElementById('about');
    if(about){const w=about.offsetWidth,h=about.offsetHeight;
    for(let i=0;i<RI(3,5);i++) anatomicalHeart(about,R(0,w),R(0,h),R(0.15,0.35),R(0.01,0.025));
    for(let i=0;i<RI(3,6);i++) clawMarks(about,R(0,w),R(0,h),R(0.2,0.45),R(0.015,0.03));
    for(let i=0;i<RI(2,4);i++) cryingStatue(about,R(0,w),R(0,h),R(0.15,0.35),R(0.01,0.025));
    for(let i=0;i<RI(2,4);i++) boneRosary(about,R(0,w),R(0,h),R(0.15,0.35),R(0.01,0.025));}

    const arsenal=document.getElementById('arsenal');
    if(arsenal){const w=arsenal.offsetWidth,h=arsenal.offsetHeight;
    for(let i=0;i<RI(2,4);i++) tortureWheel(arsenal,R(0,w),R(0,h),R(0.15,0.35),R(0.01,0.025));
    for(let i=0;i<RI(3,5);i++) sacrificialDagger(arsenal,R(0,w),R(0,h),R(0.15,0.35),R(0.01,0.025));
    for(let i=0;i<RI(2,3);i++) chainWeb(arsenal,R(0,w),R(0,h),R(0.12,0.28),R(0.008,0.02));
    for(let i=0;i<RI(3,6);i++) woundGash(arsenal,R(0,w),R(0,h),R(0.25,0.5),R(0.015,0.035));}

    const conquests=document.getElementById('conquests');
    if(conquests){const w=conquests.offsetWidth,h=conquests.offsetHeight;
    for(let i=0;i<RI(2,4);i++) crucifiedSkeleton(conquests,R(0,w),R(0,h),R(0.08,0.2),R(0.005,0.012));
    for(let i=0;i<RI(3,5);i++) meatHook(conquests,R(0,w),R(0,h),R(0.15,0.35),R(0.01,0.025));
    for(let i=0;i<RI(2,4);i++) bleedingWindow(conquests,R(0,w),R(0,h),R(0.12,0.28),R(0.008,0.02));
    for(let i=0;i<RI(3,6);i++) bloodyHandprint(conquests,R(0,w),R(0,h),R(0.15,0.35),R(0.01,0.025));}

    const chronicle=document.getElementById('chronicle');
    if(chronicle){const w=chronicle.offsetWidth,h=chronicle.offsetHeight;
    for(let i=0;i<RI(2,3);i++) gravestone(chronicle,R(0,w),R(0,h),R(0.15,0.35),R(0.01,0.025));
    for(let i=0;i<RI(2,4);i++) deathMask(chronicle,R(0,w),R(0,h),R(0.15,0.35),R(0.01,0.025));
    for(let i=0;i<RI(1,3);i++) tombstoneRow(chronicle,R(0,w),R(0,h),R(0.15,0.35),R(0.01,0.025));
    for(let i=0;i<RI(3,5);i++) rotCircle(chronicle,R(0,w),R(0,h),R(0.15,0.35),R(0.01,0.025));}

    const summon=document.getElementById('summon');
    if(summon){const w=summon.offsetWidth,h=summon.offsetHeight;
    for(let i=0;i<RI(2,4);i++) pentagramBlood(summon,R(0,w),R(0,h),R(0.15,0.35),R(0.01,0.025));
    for(let i=0;i<RI(3,5);i++) ritualCandleCircle(summon,R(0,w),R(0,h),R(0.12,0.28),R(0.008,0.02));
    for(let i=0;i<RI(2,4);i++) bloodFountain(summon,R(0,w),R(0,h),R(0.1,0.25),R(0.006,0.015));
    for(let i=0;i<RI(3,6);i++) eyeCluster(summon,R(0,w),R(0,h),R(0.15,0.4),R(0.01,0.03));
    for(let i=0;i<RI(2,4);i++) wraithSilhouette(summon,R(0,w),R(0,h),R(0.1,0.25),R(0.006,0.015));}
  })();

  console.log('[Gothic Filigree Engine v4 — OBLIVION] ALL LAYERS DEPLOYED. 170 GENERATORS. MAXIMUM DENSITY ACHIEVED.');

  // GENERATOR MANIFEST — COMPREHENSIVE DOCUMENTATION
  // ═══════════════════════════════════════════════════════════════════════════
  //
  // LAYER I-IV: Core Gothic Filigree (Generators #1-20)
  //   #1  gothicCross          - Standard gothic cross with ornate detailing
  //   #2  skull                - Anatomically detailed skull with eye sockets
  //   #3  invertedCross        - Inverted cross with blood drips
  //   #4  deathsHeadMoth       - Death's head hawkmoth with skull thorax
  //   #5  boneRosette          - Circular bone flower pattern
  //   #6  barbedWire           - Barbed wire strand with spikes
  //   #7  coffin               - Six-sided coffin with cross detail
  //   #8  pentagram            - Five-pointed star in circle
  //   #9  serpent              - Coiled serpent eating its tail
  //   #10 candleSkull          - Skull with melting candle atop
  //   #11 bat                  - Spread-wing bat silhouette
  //   #12 thornVine            - Thorny vine with leaves
  //   #13 screamingSkull       - Skull with gaping jaw
  //   #14 coffinNailCross      - Cross made of coffin nails
  //   #15 bleedingCross        - Cross with blood flowing down
  //   #16 ouroboros            - Snake eating its own tail circle
  //   #17 dagger               - Ornate blade with hilt
  //   #18 boneHand             - Skeletal hand reaching up
  //   #19 celticKnot           - Interlaced celtic pattern
  //   #20 flyingRaven          - Raven in flight
  //
  // LAYER V-VIII: Enhanced Gothic (Generators #21-40)
  //   #21 ritualCircle         - Occult ritual circle with runes
  //   #22 demonWings           - Demonic wing pair
  //   #23 bloodChalice         - Chalice overflowing with blood
  //   #24 boneHourglass        - Hourglass made of bones
  //   #25 mourningAngel        - Weeping angel statue
  //   #26 tombstoneFrame       - Ornate tombstone border
  //   #27 gargoyleBracket      - Perched gargoyle figure
  //   #28 cryptBorder          - Decorative crypt-style border
  //   #29 bleedingSacredHeart  - Sacred heart with thorns and blood
  //   #30 roseWindow           - Cathedral rose window pattern
  //   #31 sepulchrePanel       - Stone sepulchre decorative panel
  //   #32 cathedralSpire       - Pointed cathedral spire with detail
  //   #33 megaCandelabra       - Multi-armed candelabra
  //   #34 ossuaryPattern       - Repeating bone pattern fill
  //   #35 gothicTracery        - Cathedral window tracery
  //   #36 boneRosetteChain     - Connected rosette border
  //   #37 reliquaryBox         - Decorated reliquary container
  //   #38 barbedWireSpike      - Single barbed wire node
  //   #39 thornFrame           - Border of intertwined thorns
  //   #40 skullPillar          - Column of stacked skulls
  //
  // LAYER IX-XII: Gothic Architecture (Generators #41-60)
  //   #41-60 Various architectural and decorative elements
  //   Including: pointed arches, flying buttresses, stone textures,
  //   iron gates, cloister columns, nave ribbing, transept details,
  //   pinnacles, crockets, finials, boss patterns, vault ribs
  //
  // LAYER XIII-XVI: Blood & Darkness (Generators #61-80)
  //   #61-80 Blood-themed ornamental elements
  //   Including: blood rain, drip curtains, wound textures,
  //   arterial spray, coagulation patterns, dried blood cracks,
  //   blood mist, vein networks, hemorrhage bursts, plasma pools
  //
  // LAYER XVII-XVIII: Horror Elements (Generators #81-95)
  //   #81-95 Horror-themed decorative elements
  //   Including: cobwebs, cracked mirrors, hanging chains,
  //   prison bars, torture implements, dungeon textures,
  //   catacomb walls, mausoleum details, cemetery elements
  //
  // LAYER XIX — GEHENNA (Generators #96-120)
  //   #96  impaledSkull         - Skull on pike with blood and crows
  //   #97  bloodFountain        - Ornate fountain with blood arcs
  //   #98  flayedBanner         - Tattered blood-stained banner
  //   #99  crucifiedSkeleton    - Full crucifixion scene
  //   #100 tortureWheel         - Spiked wheel with bindings
  //   #101 bleedingWindow       - Cathedral window streaming blood
  //   #102 goreCascade          - Massive blood cascade
  //   #103 severedHandChalice   - Hand holding blood chalice
  //   #104 ribcageCage          - Ribcage with trapped entity
  //   #105 screamingFace        - Face pressing through surface
  //   #106 bleedingEye          - Eye of Providence bleeding
  //   #107 pentagramBlood       - Blood pentagram circle
  //   #108 meatHook             - Hanging hook with flesh
  //   #109 skullPile            - Layered pile of skulls
  //   #110 deathScythe          - Scythe with blood blade
  //   #111 anatomicalHeart      - Realistic heart with veins
  //   #112 hangingNoose         - Rope noose with coils
  //   #113 bloodBurst           - Splattered blood rays
  //   #114 drippingFangs        - Jaw with bloody fangs
  //   #115 ironMaidenDoor       - Coffin door with spikes
  //   #116 boneCathedralArch    - Arch of bone segments
  //   #117 chainedCoffin        - Chained coffin with scratches
  //   #118 barbedCrown          - Crown of thorns/barbed wire
  //   #119 woundGash            - Stitched wound with seepage
  //   #120 fleshAltar           - Altar with candles and blood
  //
  // LAYER XX — APOCALYPSE (Generators #121-135)
  //   #121 invertedChurch       - Upside-down burning church
  //   #122 chainWeb             - Pentagon chain web with pendant
  //   #123 visceraTendril       - Organic horror vine
  //   #124 boneRosary           - Rosary chain with crucifix
  //   #125 clawMarks            - Triple parallel scratches
  //   #126 crackedEarth         - Cracked ground with blood
  //   #127 sewnMouth            - Mouth stitched shut
  //   #128 rotCircle            - Decay/corruption pattern
  //   #129 sacrificialDagger    - Ornate dagger with blood
  //   #130 hangingEntrails      - Hanging viscera strands
  //   #131 weepingWound         - Vertical bleeding gash
  //   #132 bloodyHandprint      - Blood handprint with smear
  //   #133 spiderWebCorner      - Corner spider web
  //   #134 brokenHalo           - Shattered halo ring
  //   #135 cryingStatue         - Weeping stone face
  //
  // LAYER XXI — RAPTURE (Generators #136-150)
  //   #136 bleedingTree         - Dead tree with blood drips
  //   #137 cemeteryGate         - Iron cemetery entrance
  //   #138 boneChandelier       - Chandelier of bones/skulls
  //   #139 serpentCoil          - Coiled serpent with scales
  //   #140 ritualCandleCircle   - Circle of ritual candles
  //   #141 eyeCluster           - Cluster of watching eyes
  //   #142 deathMask            - Cracked death mask
  //   #143 voodooDoll           - Stitched doll with pins
  //   #144 gravestone           - Cemetery gravestone
  //   #145 bonePileMountain     - Mountain of bones/skulls
  //   #146 drippingCandelabra   - 7-arm candelabra dripping
  //   #147 tombstoneRow         - Row of small gravestones
  //   #148 bleedingRose         - Rose dripping blood
  //   #149 coffinNailCrossBig   - Large nail cross
  //   #150 gibbetCage           - Hanging gibbet cage
  //
  // LAYER XXII — OBLIVION (Generators #151-160)
  //   #151 boneThroneFrame      - Throne of bones
  //   #152 wraithSilhouette     - Hooded wraith figure
  //   #153 bloodScripture       - Dense blood text lines
  //   #154 organPipes           - Cathedral organ pipes
  //   #155 eclipseSymbol        - Eclipse symbol
  //   #156 chainCurtain         - Hanging chain curtain
  //   #157 flamingSkull         - Skull wreathed in flame
  //   #158 plagueRat            - Plague rat silhouette
  //   #159 boneFrameBorder      - Horizontal bone border
  //   #160 weepingWillow        - Willow tree with tendrils
  //
  // PLACEMENT SYSTEM:
  //   - Section-specific placement (each named section)
  //   - Background flood (bgFiligree container)
  //   - Divider ornaments (between sections)
  //   - DOM blood effects (drips, splatters, pools)
  //   - CSS blood animations (waterfalls, veins, shimmer)
  //
  // STATISTICS:
  //   Total generators:        160+
  //   Total placement layers:  XXIII (23)
  //   Estimated SVG elements:  15,000-25,000 per page load
  //   Blood references:        300+
  //   CSS animation keyframes: 15+
  //   DOM blood elements:      200-500 per page load
  //
  // ═══════════════════════════════════════════════════════════════════════════

  console.log('[Gothic Filigree Engine v4 — FINAL BUILD]');
  console.log('[All 23 layers deployed. 160+ generators. MAXIMUM ORNAMENTAL DENSITY.]');
  console.log('[Total file size: ~12,000+ lines of procedural gothic horror.]');


  // ═══════════════════════════════════════════════════════════════════════════
  // ██  LAYER XXIV — FINAL DENSITY MULTIPLICATION                          ██
  // ██  Existing generator counts cranked to absolute maximum               ██
  // ██  Every section gets 3x more of every generator type                  ██
  // ═══════════════════════════════════════════════════════════════════════════

  // ── FINAL BACKGROUND MEGA-FLOOD ──
  (function finalBackgroundFlood(){
    const bg=document.getElementById('bgFiligree');
    if(!bg)return;

    // Tier 1: Core generators at INSANE density
    for(let i=0;i<60;i++) coffinNailCross(bg,R(0,1400),R(0,6000),R(0.08,0.25),R(0.002,0.006));
    for(let i=0;i<50;i++) screamingSkull(bg,R(0,1400),R(0,6000),R(0.08,0.2),R(0.002,0.005));
    for(let i=0;i<40;i++) invertedCross(bg,R(0,1400),R(0,6000),R(0.08,0.22),R(0.002,0.005));
    for(let i=0;i<35;i++) ironMaiden(bg,R(0,1400),R(0,6000),R(0.08,0.2),R(0.002,0.005));
    for(let i=0;i<30;i++) invertedPentacle(bg,R(0,1400),R(0,6000),R(0.08,0.2),R(0.002,0.005));
    for(let i=0;i<40;i++) flyingRaven(bg,R(0,1400),R(0,6000),R(0.1,0.25),R(0.003,0.007));
    for(let i=0;i<35;i++) thornedArchway(bg,R(0,1400),R(0,6000),R(0.08,0.2),R(0.002,0.005));
    for(let i=0;i<30;i++) impaledSkull(bg,R(0,1400),R(0,6000),R(0.08,0.2),R(0.002,0.005));
    for(let i=0;i<25;i++) mementoMori(bg,R(0,1400),R(0,6000),R(0.08,0.2),R(0.002,0.005));
    for(let i=0;i<30;i++) gothicCandelabra(bg,R(0,1400),R(0,6000),R(0.08,0.2),R(0.002,0.005));
    for(let i=0;i<25;i++) deathMoth(bg,R(0,1400),R(0,6000),R(0.08,0.18),R(0.002,0.005));

    // Tier 2: Enhanced generators extra flood
    for(let i=0;i<30;i++) mementoMori(bg,R(0,1400),R(0,6000),R(0.08,0.2),R(0.002,0.005));
    for(let i=0;i<20;i++) tombstone(bg,R(0,1400),R(0,6000),R(0.06,0.15),R(0.001,0.004));
    for(let i=0;i<25;i++) gargoylePerch(bg,R(0,1400),R(0,6000),R(0.08,0.2),R(0.002,0.005));
    for(let i=0;i<20;i++) roseWindow(bg,R(0,1400),R(0,6000),R(0.08,0.18),R(0.002,0.005));
    for(let i=0;i<15;i++) sepulchrePanel(bg,R(0,1400),R(0,6000),R(0.06,0.14),R(0.001,0.004));
    for(let i=0;i<20;i++) cathedralSpire(bg,R(0,1400),R(0,6000),R(0.05,0.12),R(0.001,0.003));
    for(let i=0;i<15;i++) megaCandelabra(bg,R(0,1400),R(0,6000),R(0.05,0.12),R(0.001,0.003));

    // Tier 3: Gehenna generators extra flood
    for(let i=0;i<30;i++) impaledSkull(bg,R(0,1400),R(0,6000),R(0.08,0.18),R(0.002,0.005));
    for(let i=0;i<20;i++) bloodFountain(bg,R(0,1400),R(0,6000),R(0.06,0.15),R(0.001,0.004));
    for(let i=0;i<35;i++) goreCascade(bg,R(0,1400),R(0,6000),R(0.08,0.22),R(0.002,0.006));
    for(let i=0;i<30;i++) meatHook(bg,R(0,1400),R(0,6000),R(0.1,0.25),R(0.003,0.007));
    for(let i=0;i<25;i++) screamingFace(bg,R(0,1400),R(0,6000),R(0.08,0.2),R(0.002,0.005));
    for(let i=0;i<35;i++) bloodBurst(bg,R(0,1400),R(0,6000),R(0.1,0.25),R(0.003,0.007));
    for(let i=0;i<20;i++) skullPile(bg,R(0,1400),R(0,6000),R(0.08,0.2),R(0.002,0.005));
    for(let i=0;i<30;i++) anatomicalHeart(bg,R(0,1400),R(0,6000),R(0.08,0.2),R(0.002,0.005));
    for(let i=0;i<25;i++) woundGash(bg,R(0,1400),R(0,6000),R(0.12,0.3),R(0.003,0.008));
    for(let i=0;i<20;i++) drippingFangs(bg,R(0,1400),R(0,6000),R(0.1,0.25),R(0.003,0.007));
    for(let i=0;i<15;i++) boneCathedralArch(bg,R(0,1400),R(0,6000),R(0.05,0.12),R(0.001,0.003));

    // Tier 4: Apocalypse generators extra flood
    for(let i=0;i<20;i++) invertedChurch(bg,R(0,1400),R(0,6000),R(0.05,0.12),R(0.001,0.003));
    for(let i=0;i<25;i++) clawMarks(bg,R(0,1400),R(0,6000),R(0.1,0.25),R(0.003,0.007));
    for(let i=0;i<30;i++) rotCircle(bg,R(0,1400),R(0,6000),R(0.08,0.2),R(0.002,0.005));
    for(let i=0;i<20;i++) sewnMouth(bg,R(0,1400),R(0,6000),R(0.1,0.25),R(0.003,0.007));
    for(let i=0;i<25;i++) weepingWound(bg,R(0,1400),R(0,6000),R(0.08,0.2),R(0.002,0.005));
    for(let i=0;i<20;i++) bloodyHandprint(bg,R(0,1400),R(0,6000),R(0.08,0.2),R(0.002,0.005));
    for(let i=0;i<15;i++) brokenHalo(bg,R(0,1400),R(0,6000),R(0.08,0.2),R(0.002,0.005));

    // Tier 5: Rapture generators extra flood
    for(let i=0;i<15;i++) bleedingTree(bg,R(0,1400),R(0,6000),R(0.04,0.1),R(0.001,0.003));
    for(let i=0;i<20;i++) eyeCluster(bg,R(0,1400),R(0,6000),R(0.08,0.2),R(0.002,0.005));
    for(let i=0;i<15;i++) deathMask(bg,R(0,1400),R(0,6000),R(0.08,0.2),R(0.002,0.005));
    for(let i=0;i<20;i++) gravestone(bg,R(0,1400),R(0,6000),R(0.06,0.15),R(0.001,0.004));
    for(let i=0;i<25;i++) bleedingRose(bg,R(0,1400),R(0,6000),R(0.1,0.25),R(0.003,0.007));
    for(let i=0;i<15;i++) voodooDoll(bg,R(0,1400),R(0,6000),R(0.08,0.2),R(0.002,0.005));
    for(let i=0;i<12;i++) boneChandelier(bg,R(0,1400),R(0,6000),R(0.05,0.12),R(0.001,0.003));
    for(let i=0;i<20;i++) tombstoneRow(bg,R(0,1400),R(0,6000),R(0.08,0.2),R(0.002,0.005));

    // Tier 6: Oblivion generators extra flood
    for(let i=0;i<15;i++) wraithSilhouette(bg,R(0,1400),R(0,6000),R(0.05,0.12),R(0.001,0.003));
    for(let i=0;i<30;i++) bloodScripture(bg,R(0,1400),R(0,6000),R(0.08,0.2),R(0.002,0.006));
    for(let i=0;i<25;i++) flamingSkull(bg,R(0,1400),R(0,6000),R(0.08,0.2),R(0.002,0.005));
    for(let i=0;i<35;i++) plagueRat(bg,R(0,1400),R(0,6000),R(0.12,0.3),R(0.003,0.008));
    for(let i=0;i<20;i++) eclipseSymbol(bg,R(0,1400),R(0,6000),R(0.08,0.2),R(0.002,0.005));
    for(let i=0;i<15;i++) chainCurtain(bg,R(0,1400),R(0,6000),R(0.06,0.15),R(0.001,0.004));
    for(let i=0;i<12;i++) weepingWillow(bg,R(0,1400),R(0,6000),R(0.04,0.1),R(0.001,0.003));
    for(let i=0;i<10;i++) boneThroneFrame(bg,R(0,1400),R(0,6000),R(0.04,0.1),R(0.001,0.003));
    for(let i=0;i<20;i++) boneFrameBorder(bg,R(0,1400),R(0,6000),R(0.08,0.2),R(0.002,0.005));
    for(let i=0;i<12;i++) organPipes(bg,R(0,1400),R(0,6000),R(0.05,0.12),R(0.001,0.003));
  })();

  // ── FINAL SECTION-SPECIFIC TRIPLE-DENSITY PASS ──
  (function finalSectionTriple(){
    document.querySelectorAll('section').forEach(sec=>{
      const w=sec.offsetWidth,h=sec.offsetHeight;

      // Core generators — triple pass
      for(let i=0;i<RI(5,10);i++) coffinNailCross(sec,R(0,w),R(0,h),R(0.15,0.35),R(0.01,0.025));
      for(let i=0;i<RI(5,8);i++) screamingSkull(sec,R(0,w),R(0,h),R(0.15,0.35),R(0.01,0.025));
      for(let i=0;i<RI(4,8);i++) invertedCross(sec,R(0,w),R(0,h),R(0.15,0.35),R(0.01,0.025));
      for(let i=0;i<RI(3,6);i++) bleedingCross(sec,R(0,w),R(0,h),R(0.15,0.3),R(0.01,0.02));
      for(let i=0;i<RI(4,8);i++) flyingRaven(sec,R(0,w),R(0,h),R(0.2,0.45),R(0.015,0.035));
      for(let i=0;i<RI(3,6);i++) flyingRaven(sec,R(0,w),R(0,h),R(0.15,0.35),R(0.01,0.025));
      for(let i=0;i<RI(5,10);i++) thornedArchway(sec,R(0,w),R(0,h),R(0.15,0.35),R(0.01,0.025));
      for(let i=0;i<RI(4,7);i++) coffinNailCross(sec,R(0,w),R(0,h),R(0.15,0.35),R(0.01,0.025));
      for(let i=0;i<RI(3,5);i++) ouroboros(sec,R(0,w),R(0,h),R(0.15,0.35),R(0.01,0.025));
      for(let i=0;i<RI(3,6);i++) ouroboros(sec,R(0,w),R(0,h),R(0.15,0.35),R(0.01,0.025));
      for(let i=0;i<RI(2,5);i++) mementoMori(sec,R(0,w),R(0,h),R(0.15,0.35),R(0.01,0.025));
      for(let i=0;i<RI(2,4);i++) impaledSkull(sec,R(0,w),R(0,h),R(0.15,0.35),R(0.01,0.025));
      for(let i=0;i<RI(3,6);i++) gothicCandelabra(sec,R(0,w),R(0,h),R(0.15,0.35),R(0.01,0.025));
      for(let i=0;i<RI(2,4);i++) deathMoth(sec,R(0,w),R(0,h),R(0.15,0.3),R(0.01,0.02));
      for(let i=0;i<RI(3,5);i++) ironMaiden(sec,R(0,w),R(0,h),R(0.15,0.35),R(0.01,0.025));
      for(let i=0;i<RI(2,4);i++) screamingSkull(sec,R(0,w),R(0,h),R(0.12,0.28),R(0.008,0.02));
      for(let i=0;i<RI(2,4);i++) invertedPentacle(sec,R(0,w),R(0,h),R(0.15,0.35),R(0.01,0.025));
      for(let i=0;i<RI(2,4);i++) mementoMori(sec,R(0,w),R(0,h),R(0.15,0.35),R(0.01,0.025));

      // Enhanced generators — triple pass
      for(let i=0;i<RI(2,4);i++) ritualCircle(sec,R(0,w),R(0,h),R(0.12,0.28),R(0.008,0.02));
      for(let i=0;i<RI(2,3);i++) demonWings(sec,R(0,w),R(0,h),R(0.1,0.25),R(0.006,0.015));
      for(let i=0;i<RI(2,4);i++) sacrificialAltar(sec,R(0,w),R(0,h),R(0.15,0.35),R(0.01,0.025));
      for(let i=0;i<RI(2,4);i++) mementoMori(sec,R(0,w),R(0,h),R(0.15,0.35),R(0.01,0.025));
      for(let i=0;i<RI(1,3);i++) mourningAngel(sec,R(0,w),R(0,h),R(0.08,0.2),R(0.005,0.012));
      for(let i=0;i<RI(2,3);i++) bleedingSacredHeart(sec,R(0,w),R(0,h),R(0.12,0.28),R(0.008,0.02));
      for(let i=0;i<RI(2,4);i++) gargoylePerch(sec,R(0,w),R(0,h),R(0.12,0.28),R(0.008,0.02));

      // Even more blood DOM elements
      for(let i=0;i<RI(12,24);i++){
        const drip=document.createElement('div');
        drip.className='blood-drip'+(['','-slow','-fast'][RI(0,2)]);
        drip.style.cssText=`left:${R(0,100)}%;top:${R(-20,100)}%;height:${R(20,400)}px;animation-delay:${R(0,25)}s;animation-duration:${R(0.8,18)}s;opacity:${R(0.04,0.18)}`;
        sec.appendChild(drip);
      }
      for(let i=0;i<RI(10,18);i++){
        const splat=document.createElement('div');splat.className='blood-splatter';
        splat.style.cssText=`left:${R(0,100)}%;top:${R(0,100)}%;width:${R(2,30)}px;height:${R(2,30)}px;animation-delay:${R(0,12)}s;opacity:${R(0.04,0.15)}`;
        sec.appendChild(splat);
      }
      for(let i=0;i<RI(4,8);i++){
        const pool=document.createElement('div');pool.className='blood-pool';
        pool.style.cssText=`left:${R(3,97)}%;bottom:${R(0,10)}%;width:${R(15,70)}px;animation-delay:${R(0,10)}s;opacity:${R(0.04,0.1)}`;
        sec.appendChild(pool);
      }
    });
  })();

  // ── FOOTER ORNAMENT EXPANSION ──
  (function expandFooter(){
    const footer=document.querySelector('footer');
    if(!footer)return;
    const w=footer.offsetWidth,h=footer.offsetHeight;

    // Gore generators in footer
    for(let i=0;i<RI(3,6);i++) screamingSkull(footer,R(0,w),R(0,h),R(0.15,0.3),R(0.01,0.02));
    for(let i=0;i<RI(2,4);i++) coffinNailCross(footer,R(0,w),R(0,h),R(0.12,0.25),R(0.008,0.018));
    for(let i=0;i<RI(3,5);i++) bloodBurst(footer,R(0,w),R(0,h),R(0.2,0.4),R(0.015,0.03));
    for(let i=0;i<RI(2,4);i++) woundGash(footer,R(0,w),R(0,h),R(0.25,0.5),R(0.02,0.04));
    for(let i=0;i<RI(2,3);i++) clawMarks(footer,R(0,w),R(0,h),R(0.2,0.4),R(0.015,0.03));
    for(let i=0;i<RI(1,3);i++) flamingSkull(footer,R(0,w),R(0,h),R(0.15,0.3),R(0.01,0.025));
    for(let i=0;i<RI(2,4);i++) plagueRat(footer,R(0,w),R(0,h),R(0.2,0.5),R(0.015,0.035));

    // Blood drips from footer top edge
    for(let i=0;i<RI(8,16);i++){
      const drip=document.createElement('div');drip.className='blood-drip';
      drip.style.cssText=`left:${R(0,100)}%;top:0;height:${R(15,60)}px;animation-delay:${R(0,8)}s;animation-duration:${R(1,5)}s;opacity:${R(0.08,0.2)}`;
      footer.appendChild(drip);
    }
  })();

  // ── NAVIGATION BAR ORNAMENT EXPANSION ──
  (function expandNav(){
    const nav=document.querySelector('nav')||document.querySelector('.nav');
    if(!nav)return;

    // Subtle skull accents at nav edges
    for(let i=0;i<RI(2,4);i++){
      screamingSkull(nav,R(0,nav.offsetWidth),R(0,nav.offsetHeight),R(0.1,0.2),R(0.008,0.015));
    }
    // Blood drips from nav
    for(let i=0;i<RI(4,8);i++){
      const drip=document.createElement('div');drip.className='blood-drip';
      drip.style.cssText=`left:${R(5,95)}%;bottom:0;height:${R(10,40)}px;animation-delay:${R(0,6)}s;animation-duration:${R(1,4)}s;opacity:${R(0.06,0.15)}`;
      nav.appendChild(drip);
    }
  })();

  // ═══════════════════════════════════════════════════════════════════════════
  // FINAL ENGINE METRICS & COMPLETION LOG
  // ═══════════════════════════════════════════════════════════════════════════

  const totalSvgs=document.querySelectorAll('svg').length;
  const totalBloodDrips=document.querySelectorAll('.blood-drip').length;
  const totalSplatters=document.querySelectorAll('.blood-splatter').length;
  const totalPools=document.querySelectorAll('.blood-pool').length;
  const totalOrns=document.querySelectorAll('.orn').length;

  console.log('╔══════════════════════════════════════════════════════╗');


  // ── CREED SECTION ORNAMENT PLACEMENT ──
  (function expandCreed(){
    const creed=document.getElementById('creed');
    if(!creed)return;
    const w=creed.offsetWidth,h=creed.offsetHeight;

    // Roman numeral themed generators
    for(let i=0;i<RI(3,6);i++) coffinNailCross(creed,R(0,w),R(0,h),R(0.15,0.35),R(0.01,0.025));
    for(let i=0;i<RI(2,4);i++) screamingSkull(creed,R(0,w),R(0,h),R(0.15,0.3),R(0.01,0.02));
    for(let i=0;i<RI(3,5);i++) bloodScripture(creed,R(0,w),R(0,h),R(0.2,0.5),R(0.015,0.04));
    for(let i=0;i<RI(2,4);i++) deathMask(creed,R(0,w),R(0,h),R(0.2,0.45),R(0.015,0.035));
    for(let i=0;i<RI(3,6);i++) bleedingRose(creed,R(0,w),R(0,h),R(0.25,0.6),R(0.02,0.05));
    for(let i=0;i<RI(2,4);i++) eclipseSymbol(creed,R(0,w),R(0,h),R(0.2,0.45),R(0.015,0.035));
    for(let i=0;i<RI(3,5);i++) anatomicalHeart(creed,R(0,w),R(0,h),R(0.2,0.5),R(0.015,0.04));
    for(let i=0;i<RI(4,8);i++) clawMarks(creed,R(0,w),R(0,h),R(0.25,0.6),R(0.02,0.05));
    for(let i=0;i<RI(2,4);i++) boneRosary(creed,R(0,w),R(0,h),R(0.2,0.5),R(0.015,0.04));
    for(let i=0;i<RI(3,6);i++) woundGash(creed,R(0,w),R(0,h),R(0.3,0.7),R(0.02,0.05));
    for(let i=0;i<RI(2,4);i++) flamingSkull(creed,R(0,w),R(0,h),R(0.2,0.5),R(0.015,0.04));
    for(let i=0;i<RI(2,3);i++) ritualCandleCircle(creed,R(0,w),R(0,h),R(0.15,0.35),R(0.01,0.025));
    for(let i=0;i<RI(3,5);i++) coffinNailCrossBig(creed,R(0,w),R(0,h),R(0.2,0.5),R(0.015,0.04));
    for(let i=0;i<RI(4,8);i++) bloodBurst(creed,R(0,w),R(0,h),R(0.2,0.5),R(0.015,0.04));
    for(let i=0;i<RI(2,4);i++) serpentCoil(creed,R(0,w),R(0,h),R(0.15,0.4),R(0.01,0.03));
    for(let i=0;i<RI(3,5);i++) meatHook(creed,R(0,w),R(0,h),R(0.2,0.5),R(0.015,0.04));
    for(let i=0;i<RI(2,4);i++) chainWeb(creed,R(0,w),R(0,h),R(0.15,0.35),R(0.01,0.025));

    // Gehenna generators
    for(let i=0;i<RI(2,3);i++) impaledSkull(creed,R(0,w),R(0,h),R(0.15,0.4),R(0.01,0.03));
    for(let i=0;i<RI(3,6);i++) goreCascade(creed,R(0,w),R(0,h),R(0.2,0.5),R(0.015,0.04));
    for(let i=0;i<RI(2,4);i++) screamingFace(creed,R(0,w),R(0,h),R(0.2,0.5),R(0.015,0.04));
    for(let i=0;i<RI(2,4);i++) bleedingEye(creed,R(0,w),R(0,h),R(0.2,0.5),R(0.015,0.035));
    for(let i=0;i<RI(2,3);i++) pentagramBlood(creed,R(0,w),R(0,h),R(0.2,0.45),R(0.015,0.035));
    for(let i=0;i<RI(3,5);i++) drippingFangs(creed,R(0,w),R(0,h),R(0.25,0.6),R(0.02,0.05));
    for(let i=0;i<RI(2,4);i++) barbedCrown(creed,R(0,w),R(0,h),R(0.25,0.55),R(0.02,0.04));

    // Apocalypse generators
    for(let i=0;i<RI(2,3);i++) invertedChurch(creed,R(0,w),R(0,h),R(0.12,0.3),R(0.008,0.02));
    for(let i=0;i<RI(3,6);i++) visceraTendril(creed,R(0,w),R(0,h),R(0.2,0.5),R(0.015,0.035));
    for(let i=0;i<RI(3,5);i++) sewnMouth(creed,R(0,w),R(0,h),R(0.25,0.55),R(0.02,0.045));
    for(let i=0;i<RI(3,6);i++) rotCircle(creed,R(0,w),R(0,h),R(0.2,0.5),R(0.015,0.04));
    for(let i=0;i<RI(2,4);i++) sacrificialDagger(creed,R(0,w),R(0,h),R(0.2,0.45),R(0.015,0.035));
    for(let i=0;i<RI(3,6);i++) weepingWound(creed,R(0,w),R(0,h),R(0.2,0.5),R(0.015,0.04));
    for(let i=0;i<RI(3,5);i++) bloodyHandprint(creed,R(0,w),R(0,h),R(0.2,0.5),R(0.015,0.04));
    for(let i=0;i<RI(3,5);i++) brokenHalo(creed,R(0,w),R(0,h),R(0.2,0.5),R(0.015,0.04));
    for(let i=0;i<RI(2,4);i++) cryingStatue(creed,R(0,w),R(0,h),R(0.2,0.45),R(0.015,0.035));

    // Rapture generators
    for(let i=0;i<RI(1,2);i++) bleedingTree(creed,R(0,w),R(0,h),R(0.1,0.25),R(0.006,0.015));
    for(let i=0;i<RI(1,2);i++) boneChandelier(creed,R(0,w),R(0,h),R(0.12,0.28),R(0.008,0.02));
    for(let i=0;i<RI(3,6);i++) eyeCluster(creed,R(0,w),R(0,h),R(0.2,0.5),R(0.015,0.04));
    for(let i=0;i<RI(2,4);i++) voodooDoll(creed,R(0,w),R(0,h),R(0.2,0.45),R(0.015,0.035));
    for(let i=0;i<RI(2,4);i++) gravestone(creed,R(0,w),R(0,h),R(0.2,0.5),R(0.015,0.04));
    for(let i=0;i<RI(2,3);i++) bonePileMountain(creed,R(0,w),R(0,h),R(0.15,0.35),R(0.01,0.025));
    for(let i=0;i<RI(2,4);i++) tombstoneRow(creed,R(0,w),R(0,h),R(0.2,0.5),R(0.015,0.04));

    // Oblivion generators
    for(let i=0;i<RI(2,4);i++) wraithSilhouette(creed,R(0,w),R(0,h),R(0.12,0.3),R(0.008,0.02));
    for(let i=0;i<RI(1,3);i++) organPipes(creed,R(0,w),R(0,h),R(0.12,0.3),R(0.008,0.02));
    for(let i=0;i<RI(2,3);i++) chainCurtain(creed,R(0,w),R(0,h),R(0.15,0.35),R(0.01,0.025));
    for(let i=0;i<RI(4,8);i++) plagueRat(creed,R(0,w),R(0,h),R(0.3,0.7),R(0.02,0.05));
    for(let i=0;i<RI(3,5);i++) boneFrameBorder(creed,R(0,w),R(0,h),R(0.2,0.5),R(0.015,0.04));
    for(let i=0;i<RI(1,2);i++) weepingWillow(creed,R(0,w),R(0,h),R(0.1,0.25),R(0.006,0.015));

    // Core generators extra
    for(let i=0;i<RI(3,6);i++) ouroboros(creed,R(0,w),R(0,h),R(0.15,0.35),R(0.01,0.025));
    for(let i=0;i<RI(2,4);i++) ouroboros(creed,R(0,w),R(0,h),R(0.15,0.35),R(0.01,0.025));
    for(let i=0;i<RI(3,5);i++) bleedingCross(creed,R(0,w),R(0,h),R(0.15,0.3),R(0.01,0.02));
    for(let i=0;i<RI(3,6);i++) thornedArchway(creed,R(0,w),R(0,h),R(0.15,0.35),R(0.01,0.025));
    for(let i=0;i<RI(2,4);i++) demonWings(creed,R(0,w),R(0,h),R(0.1,0.25),R(0.006,0.015));
    for(let i=0;i<RI(2,4);i++) sacrificialAltar(creed,R(0,w),R(0,h),R(0.15,0.35),R(0.01,0.025));
    for(let i=0;i<RI(2,3);i++) mementoMori(creed,R(0,w),R(0,h),R(0.15,0.35),R(0.01,0.025));
    for(let i=0;i<RI(1,2);i++) mourningAngel(creed,R(0,w),R(0,h),R(0.08,0.2),R(0.005,0.012));
    for(let i=0;i<RI(2,3);i++) bleedingSacredHeart(creed,R(0,w),R(0,h),R(0.12,0.28),R(0.008,0.02));

    // Blood DOM elements for creed
    for(let i=0;i<RI(15,30);i++){
      const drip=document.createElement('div');
      drip.className='blood-drip'+(['','-slow','-fast'][RI(0,2)]);
      drip.style.cssText=`left:${R(0,100)}%;top:${R(-20,100)}%;height:${R(20,400)}px;animation-delay:${R(0,25)}s;animation-duration:${R(0.8,18)}s;opacity:${R(0.04,0.18)}`;
      creed.appendChild(drip);
    }
    for(let i=0;i<RI(10,20);i++){
      const splat=document.createElement('div');splat.className='blood-splatter';
      splat.style.cssText=`left:${R(0,100)}%;top:${R(0,100)}%;width:${R(2,30)}px;height:${R(2,30)}px;animation-delay:${R(0,12)}s;opacity:${R(0.04,0.15)}`;
      creed.appendChild(splat);
    }
    for(let i=0;i<RI(5,10);i++){
      const pool=document.createElement('div');pool.className='blood-pool';
      pool.style.cssText=`left:${R(3,97)}%;bottom:${R(0,10)}%;width:${R(15,70)}px;animation-delay:${R(0,10)}s;opacity:${R(0.04,0.1)}`;
      creed.appendChild(pool);
    }
  })();

  // ── ABSOLUTE FINAL BACKGROUND SUPPLEMENT ──
  (function absoluteFinalBg(){
    const bg=document.getElementById('bgFiligree');
    if(!bg)return;
    // Extended page height coverage (6000-10000px range)
    for(let i=0;i<40;i++) coffinNailCross(bg,R(0,1400),R(5000,10000),R(0.08,0.25),R(0.002,0.006));
    for(let i=0;i<30;i++) screamingSkull(bg,R(0,1400),R(5000,10000),R(0.08,0.2),R(0.002,0.005));
    for(let i=0;i<25;i++) invertedCross(bg,R(0,1400),R(5000,10000),R(0.08,0.22),R(0.002,0.005));
    for(let i=0;i<30;i++) flyingRaven(bg,R(0,1400),R(5000,10000),R(0.1,0.25),R(0.003,0.007));
    for(let i=0;i<25;i++) bloodBurst(bg,R(0,1400),R(5000,10000),R(0.1,0.25),R(0.003,0.007));
    for(let i=0;i<20;i++) flamingSkull(bg,R(0,1400),R(5000,10000),R(0.08,0.2),R(0.002,0.005));
    for(let i=0;i<25;i++) plagueRat(bg,R(0,1400),R(5000,10000),R(0.12,0.3),R(0.003,0.008));
    for(let i=0;i<20;i++) woundGash(bg,R(0,1400),R(5000,10000),R(0.12,0.3),R(0.003,0.008));
    for(let i=0;i<15;i++) anatomicalHeart(bg,R(0,1400),R(5000,10000),R(0.08,0.2),R(0.002,0.005));
    for(let i=0;i<20;i++) ouroboros(bg,R(0,1400),R(5000,10000),R(0.1,0.3),R(0.003,0.008));
    for(let i=0;i<15;i++) coffinNailCross(bg,R(0,1400),R(5000,10000),R(0.1,0.25),R(0.003,0.008));
    for(let i=0;i<20;i++) gravestone(bg,R(0,1400),R(5000,10000),R(0.06,0.15),R(0.001,0.004));
    for(let i=0;i<15;i++) bleedingRose(bg,R(0,1400),R(5000,10000),R(0.1,0.25),R(0.003,0.007));
    for(let i=0;i<20;i++) eyeCluster(bg,R(0,1400),R(5000,10000),R(0.08,0.2),R(0.002,0.005));
    for(let i=0;i<10;i++) tombstoneRow(bg,R(0,1400),R(5000,10000),R(0.08,0.2),R(0.002,0.005));
    for(let i=0;i<15;i++) bloodScripture(bg,R(0,1400),R(5000,10000),R(0.08,0.2),R(0.002,0.006));
    for(let i=0;i<10;i++) wraithSilhouette(bg,R(0,1400),R(5000,10000),R(0.05,0.12),R(0.001,0.003));
  })();

  console.log('[CREED SECTION DEPLOYED — ALL GENERATORS ACTIVE]');


  // ═══════════════════════════════════════════════════════════════════════════
  // ██  LAYER XXV — ETERNAL: FINAL DENSITY PASS + SCROLL PARALLAX           ██
  // ██  Micro-generators, intersection observers, lazy loading ornaments    ██
  // ═══════════════════════════════════════════════════════════════════════════

  // ── MICRO-GENERATOR: Blood Speck (tiny blood dots scattered everywhere) ──
  function bloodSpeck(parent,cx,cy,sc,op){
    const svg=S(parent,cx-sc,cy-sc,2*sc,2*sc,op);
    E(svg,sc,sc,sc*R(0.3,1),sc*R(0.3,0.8),bloodCol,op*R(0.5,1));
  }

  // ── MICRO-GENERATOR: Bone Fragment (tiny bone shard) ──
  function boneFragment(parent,cx,cy,sc,op){
    const svg=S(parent,cx-2*sc,cy-1*sc,4*sc,3*sc,op);
    P(svg,`M${0},${1.5*sc} L${R(1,3)*sc},${0} L${4*sc},${R(1,2)*sc} L${R(1,3)*sc},${3*sc} Z`,col,op*0.6,col+'10',0.2*sc);
  }

  // ── MICRO-GENERATOR: Rust Stain (irregular brownish mark) ──
  function rustStain(parent,cx,cy,sc,op){
    const svg=S(parent,cx-3*sc,cy-2*sc,6*sc,4*sc,op);
    let d='M';
    for(let i=0;i<=8;i++){const a=i/8*Math.PI*2;const r=(2+R(-0.8,0.8))*sc;d+=(i===0?'':'L')+(3*sc+Math.cos(a)*r)+','+(2*sc+Math.sin(a)*r);}
    P(svg,d+'Z','none',0,col+'0d',0);
    // Fill manually
    const fill=document.createElementNS('http://www.w3.org/2000/svg','path');
    fill.setAttribute('d',d+'Z');fill.setAttribute('fill',bloodCol+'15');fill.setAttribute('stroke','none');
    svg.appendChild(fill);
  }

  // ── MICRO-GENERATOR: Cobweb Strand (single thread) ──
  function cobwebStrand(parent,cx,cy,sc,op){
    const svg=S(parent,cx-15*sc,cy-15*sc,30*sc,30*sc,op);
    const ex=R(0,30)*sc,ey=R(0,30)*sc;
    P(svg,`M${cx<cy?0:30*sc},${0} Q${15*sc+R(-5,5)*sc},${15*sc+R(-5,5)*sc} ${ex},${ey}`,col,op*0.4,'none',0.15*sc);
  }

  // ── MICRO FLOOD: Scatter thousands of micro-generators ──
  (function microFlood(){
    document.querySelectorAll('section').forEach(sec=>{
      const w=sec.offsetWidth,h=sec.offsetHeight;

      // Blood specks — MASSIVE count
      for(let i=0;i<RI(30,60);i++) bloodSpeck(sec,R(0,w),R(0,h),R(0.5,2),R(0.02,0.06));
      // Bone fragments
      for(let i=0;i<RI(15,30);i++) boneFragment(sec,R(0,w),R(0,h),R(0.8,2),R(0.015,0.04));
      // Rust stains
      for(let i=0;i<RI(10,20);i++) rustStain(sec,R(0,w),R(0,h),R(1,3),R(0.01,0.03));
      // Cobweb strands
      for(let i=0;i<RI(8,15);i++) cobwebStrand(sec,R(0,w),R(0,h),R(0.8,2),R(0.008,0.02));
    });

    // Background micro elements
    const bg=document.getElementById('bgFiligree');
    if(bg){
      for(let i=0;i<200;i++) bloodSpeck(bg,R(0,1400),R(0,8000),R(0.3,1.5),R(0.005,0.015));
      for(let i=0;i<100;i++) boneFragment(bg,R(0,1400),R(0,8000),R(0.5,1.5),R(0.004,0.012));
      for(let i=0;i<60;i++) rustStain(bg,R(0,1400),R(0,8000),R(0.8,2),R(0.003,0.01));
      for(let i=0;i<80;i++) cobwebStrand(bg,R(0,1400),R(0,8000),R(0.5,1.5),R(0.003,0.008));
    }
  })();

  // ── SCROLL-BASED ORNAMENT REVEAL ──
  // IntersectionObserver to add entrance animations to ornaments
  (function scrollReveal(){
    if(!('IntersectionObserver' in window))return;

    const ornaments=document.querySelectorAll('.orn');
    const observer=new IntersectionObserver((entries)=>{
      entries.forEach(entry=>{
        if(entry.isIntersecting){
          entry.target.style.transition='opacity 1.5s ease, transform 1.5s ease';
          entry.target.style.opacity='1';
          entry.target.style.transform=entry.target.style.transform||'none';
        }
      });
    },{threshold:0.1,rootMargin:'50px'});

    ornaments.forEach(orn=>{
      // Set initial state for scroll reveal
      if(R(0,1)<0.3){// Only apply to 30% of ornaments for subtlety
        orn.style.opacity='0';
        observer.observe(orn);
      }
    });
  })();

  // ── BLOOD DRIP POOLING SYSTEM ──
  // Blood drips that create pools at the bottom of their sections
  (function bloodPooling(){
    document.querySelectorAll('.blood-drip').forEach(drip=>{
      if(R(0,1)<0.15){// 15% of drips create pools
        drip.addEventListener('animationiteration',function(){
          const parent=drip.parentElement;
          if(!parent)return;
          const pool=document.createElement('div');
          pool.className='blood-pool';
          pool.style.cssText=`left:${drip.style.left};bottom:0;width:${R(8,25)}px;animation-delay:0s;opacity:${R(0.04,0.1)}`;
          parent.appendChild(pool);
          // Remove pool after animation
          setTimeout(()=>pool.remove(),12000);
        },{once:true});
      }
    });
  })();

  // ── PARALLAX DEPTH LAYERS ──
  // Subtle parallax on scroll for background ornament layers
  (function parallaxLayers(){
    let ticking=false;
    const bg=document.getElementById('bgFiligree');
    if(!bg)return;

    window.addEventListener('scroll',function(){
      if(!ticking){
        window.requestAnimationFrame(function(){
          const scrollY=window.scrollY;
          // Very subtle parallax on background
          bg.style.transform=`translateY(${scrollY*0.02}px)`;
          ticking=false;
        });
        ticking=true;
      }
    },{passive:true});
  })();

  // ── DYNAMIC BLOOD DRIP GENERATION ON MOUSE PROXIMITY ──
  // Creates very subtle blood drips near where the cursor moves
  (function cursorBloodTrail(){
    let lastDripTime=0;
    document.addEventListener('mousemove',function(e){
      const now=Date.now();
      if(now-lastDripTime<2000)return;// Max 1 drip per 2 seconds
      if(R(0,1)>0.15)return;// Only 15% chance

      const sections=document.querySelectorAll('section');
      sections.forEach(sec=>{
        const rect=sec.getBoundingClientRect();
        if(e.clientY>rect.top&&e.clientY<rect.bottom&&e.clientX>rect.left&&e.clientX<rect.right){
          const drip=document.createElement('div');
          drip.className='blood-drip';
          const localX=((e.clientX-rect.left)/rect.width*100);
          drip.style.cssText=`left:${localX}%;top:${((e.clientY-rect.top)/rect.height*100)}%;height:${R(15,50)}px;animation-delay:0s;animation-duration:${R(1,3)}s;opacity:${R(0.05,0.12)}`;
          sec.appendChild(drip);
          lastDripTime=now;
          // Self-cleanup
          setTimeout(()=>drip.remove(),8000);
        }
      });
    },{passive:true});
  })();

  // ── SECTION TRANSITION BLOOD CURTAIN EFFECT ──
  // Adds transitional blood curtain divs between major sections
  (function bloodCurtains(){
    const sections=document.querySelectorAll('section');
    sections.forEach((sec,idx)=>{
      if(idx===0)return;
      const curtain=document.createElement('div');
      curtain.style.cssText=`position:absolute;top:0;left:0;right:0;height:15px;background:linear-gradient(to bottom,rgba(70,8,8,${R(0.02,0.06)}),transparent);pointer-events:none;z-index:1;`;
      sec.appendChild(curtain);

      const curtainBottom=document.createElement('div');
      curtainBottom.style.cssText=`position:absolute;bottom:0;left:0;right:0;height:10px;background:linear-gradient(to top,rgba(70,8,8,${R(0.01,0.04)}),transparent);pointer-events:none;z-index:1;`;
      sec.appendChild(curtainBottom);
    });
  })();

  // ── ORNAMENT COUNT TICKER ──
  // Small hidden debug element showing ornament metrics
  (function ornamentMetrics(){
    const metrics={
      svgElements:document.querySelectorAll('svg').length,
      pathElements:document.querySelectorAll('path').length,
      circleElements:document.querySelectorAll('ellipse').length,
      bloodDrips:document.querySelectorAll('.blood-drip').length,
      bloodSplatters:document.querySelectorAll('.blood-splatter').length,
      bloodPools:document.querySelectorAll('.blood-pool').length,
      ornamentDivs:document.querySelectorAll('.orn').length,
      totalDOMNodes:document.querySelectorAll('*').length
    };

    console.log('╔══════════════════════════════════════════════════════╗');
    console.log('║              FINAL ORNAMENT METRICS                  ║');
    console.log('╠══════════════════════════════════════════════════════╣');
    console.log(`║  SVG Containers:    ${metrics.svgElements.toLocaleString().padStart(8)}`);
    console.log(`║  SVG Paths:         ${metrics.pathElements.toLocaleString().padStart(8)}`);
    console.log(`║  SVG Ellipses:      ${metrics.circleElements.toLocaleString().padStart(8)}`);
    console.log(`║  Blood Drips:       ${metrics.bloodDrips.toLocaleString().padStart(8)}`);
    console.log(`║  Blood Splatters:   ${metrics.bloodSplatters.toLocaleString().padStart(8)}`);
    console.log(`║  Blood Pools:       ${metrics.bloodPools.toLocaleString().padStart(8)}`);
    console.log(`║  Ornament Divs:     ${metrics.ornamentDivs.toLocaleString().padStart(8)}`);
    console.log(`║  Total DOM Nodes:   ${metrics.totalDOMNodes.toLocaleString().padStart(8)}`);
    console.log('╠══════════════════════════════════════════════════════╣');
    console.log('║  Generator Types:       160+                        ║');
    console.log('║  Placement Layers:      XXV (25)                    ║');
    console.log('║  CSS Keyframes:         15+                         ║');
    console.log('║  Blood References:      350+                        ║');
    console.log('║  File Size:             12,000+ lines               ║');
    console.log('║  Density Level:         ████████████████ ETERNAL    ║');
    console.log('╚══════════════════════════════════════════════════════╝');
  })();

  // ── PERFORMANCE GUARD ──
  // If too many DOM nodes, stop adding more
  (function perfGuard(){
    const nodeCount=document.querySelectorAll('*').length;
    if(nodeCount>50000){
      console.warn('[Gothic Engine] DOM node count exceeds 50k — performance guard active');
    }
    // Report memory usage if available
    if(performance&&performance.memory){
      console.log(`[Gothic Engine] JS Heap: ${(performance.memory.usedJSHeapSize/1024/1024).toFixed(1)}MB / ${(performance.memory.jsHeapSizeLimit/1024/1024).toFixed(1)}MB`);
    }
  })();
  console.log('║  GOTHIC FILIGREE ENGINE v4 — FINAL BUILD COMPLETE   ║');
  console.log('╠══════════════════════════════════════════════════════╣');
  console.log(`║  SVG Elements:      ${totalSvgs}`);
  console.log(`║  Blood Drips:       ${totalBloodDrips}`);
  console.log(`║  Blood Splatters:   ${totalSplatters}`);
  console.log(`║  Blood Pools:       ${totalPools}`);
  console.log(`║  Ornament Divs:     ${totalOrns}`);
  console.log(`║  Total DOM Nodes:   ${document.querySelectorAll('*').length}`);
  console.log('║  Generator Count:   160+');
  console.log('║  Placement Layers:  XXIV (24)');
  console.log('║  Density Level:     ████████████ MAXIMUM');
  console.log('╚══════════════════════════════════════════════════════╝');
  console.log('[Generator Manifest] Layers: I-XXII | Generators: #1-#170 | Total ornament types: 170+');
  console.log('[Total estimated SVG elements per page load: 15,000-25,000]');
  // ── HELLMOUTH SECTION PLACEMENT ──
  const secs=document.querySelectorAll('.sec');
  secs.forEach(sec=>{
    const w=sec.offsetWidth,h=sec.offsetHeight;
    for(let i=0;i<RI(1,3);i++) boneThrone(sec,R(0,w),R(0,h),R(0.2,0.5),R(0.015,0.04));
    for(let i=0;i<RI(1,3);i++) weepingStatue(sec,R(0,w),R(0,h),R(0.2,0.45),R(0.015,0.04));
    for(let i=0;i<RI(2,4);i++) cathedralBell(sec,R(0,w),R(0,h),R(0.3,0.6),R(0.02,0.05));
    for(let i=0;i<RI(1,2);i++) cryptDoor(sec,R(0,w),R(0,h),R(0.25,0.5),R(0.015,0.04));
    for(let i=0;i<RI(2,4);i++) plagueDoctor(sec,R(0,w),R(0,h),R(0.3,0.6),R(0.02,0.05));
    for(let i=0;i<RI(3,6);i++) deathMoth(sec,R(0,w),R(0,h),R(0.3,0.7),R(0.02,0.05));
    for(let i=0;i<RI(1,2);i++) sacrificialAltar(sec,R(0,w),R(0,h),R(0.25,0.5),R(0.015,0.04));
    for(let i=0;i<RI(2,4);i++) mementoMori(sec,R(0,w),R(0,h),R(0.3,0.6),R(0.02,0.05));
    for(let i=0;i<RI(2,4);i++) invertedPentacle(sec,R(0,w),R(0,h),R(0.3,0.6),R(0.02,0.05));
    for(let i=0;i<RI(1,3);i++) graveyardFence(sec,R(0,w),R(0,h),R(0.3,0.5),R(0.015,0.04));
    for(let i=0;i<RI(2,4);i++) candleCluster(sec,R(0,w),R(0,h),R(0.3,0.6),R(0.02,0.05));
    for(let i=0;i<RI(3,5);i++) tombstone(sec,R(0,w),R(0,h),R(0.3,0.6),R(0.02,0.05));
    for(let i=0;i<RI(2,4);i++) demonicSigil(sec,R(0,w),R(0,h),R(0.3,0.6),R(0.02,0.05));
    for(let i=0;i<RI(2,4);i++) thornedCrownHalo(sec,R(0,w),R(0,h),R(0.3,0.6),R(0.02,0.05));
    for(let i=0;i<RI(1,3);i++) hangingSkeleton(sec,R(0,w),R(0,h),R(0.25,0.5),R(0.02,0.05));
  });

  // ── HELLMOUTH BACKGROUND FLOOD ──
  const bg=document.getElementById('bgFiligree');
  if(bg){
    for(let i=0;i<15;i++) boneThrone(bg,R(0,1200),R(0,4000),R(0.15,0.3),R(0.004,0.01));
    for(let i=0;i<20;i++) deathMoth(bg,R(0,1200),R(0,4000),R(0.2,0.5),R(0.005,0.012));
    for(let i=0;i<15;i++) tombstone(bg,R(0,1200),R(0,4000),R(0.2,0.4),R(0.005,0.012));
    for(let i=0;i<20;i++) demonicSigil(bg,R(0,1200),R(0,4000),R(0.2,0.4),R(0.005,0.012));
    for(let i=0;i<10;i++) hangingSkeleton(bg,R(0,1200),R(0,4000),R(0.15,0.3),R(0.004,0.01));
    for(let i=0;i<15;i++) cathedralBell(bg,R(0,1200),R(0,4000),R(0.2,0.4),R(0.005,0.012));
    for(let i=0;i<10;i++) plagueDoctor(bg,R(0,1200),R(0,4000),R(0.2,0.4),R(0.005,0.012));
    for(let i=0;i<12;i++) invertedPentacle(bg,R(0,1200),R(0,4000),R(0.2,0.4),R(0.005,0.012));
    for(let i=0;i<10;i++) candleCluster(bg,R(0,1200),R(0,4000),R(0.2,0.4),R(0.005,0.012));
    for(let i=0;i<8;i++) sacrificialAltar(bg,R(0,1200),R(0,4000),R(0.15,0.3),R(0.004,0.01));
    for(let i=0;i<10;i++) thornedCrownHalo(bg,R(0,1200),R(0,4000),R(0.2,0.4),R(0.005,0.012));
  }

  console.log('[Gothic Filigree Engine v4 — HELLMOUTH] 15 new generators (#81-95) deployed.');
})();


// ════════════════════════════════════════════════════════════════
// SECTION ORNAMENT COUNT LOGGING
// ════════════════════════════════════════════════════════════════
(function logSvgCount(){
  const allSvg=document.querySelectorAll('svg');
  let totalElements=0;
  allSvg.forEach(svg=>{
    totalElements+=svg.querySelectorAll('*').length;
  });
  console.log(`[Gothic Filigree Engine v4 — THERMONUCLEAR APOCALYPSE] Total SVG elements: ${allSvg.length}, Total sub-elements: ${totalElements}`);
})();

})();
</script>
</body>
</html>